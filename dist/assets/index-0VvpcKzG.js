(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function b0(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var qf={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function mT(){if(Hy)return Ql;Hy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Ql.Fragment=e,Ql.jsx=i,Ql.jsxs=i,Ql}var Gy;function gT(){return Gy||(Gy=1,qf.exports=mT()),qf.exports}var M=gT(),Hf={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function pT(){if(Fy)return Tt;Fy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),I=Symbol.iterator;function H(V){return V===null||typeof V!="object"?null:(V=I&&V[I]||V["@@iterator"],typeof V=="function"?V:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,$={};function ht(V,Y,st){this.props=V,this.context=Y,this.refs=$,this.updater=st||W}ht.prototype.isReactComponent={},ht.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},ht.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function gt(){}gt.prototype=ht.prototype;function ut(V,Y,st){this.props=V,this.context=Y,this.refs=$,this.updater=st||W}var yt=ut.prototype=new gt;yt.constructor=ut,tt(yt,ht.prototype),yt.isPureReactComponent=!0;var Lt=Array.isArray;function Rt(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function x(V,Y,st){var rt=st.ref;return{$$typeof:a,type:V,key:Y,ref:rt!==void 0?rt:null,props:st}}function O(V,Y){return x(V.type,Y,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function z(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(st){return Y[st]})}var w=/\/+/g;function ie(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?z(""+V.key):Y.toString(36)}function se(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Rt,Rt):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,Y,st,rt,vt){var bt=typeof V;(bt==="undefined"||bt==="boolean")&&(V=null);var Dt=!1;if(V===null)Dt=!0;else switch(bt){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(V.$$typeof){case a:case e:Dt=!0;break;case A:return Dt=V._init,G(Dt(V._payload),Y,st,rt,vt)}}if(Dt)return vt=vt(V),Dt=rt===""?"."+ie(V,0):rt,Lt(vt)?(st="",Dt!=null&&(st=Dt.replace(w,"$&/")+"/"),G(vt,Y,st,"",function(Bt){return Bt})):vt!=null&&(N(vt)&&(vt=O(vt,st+(vt.key==null||V&&V.key===vt.key?"":(""+vt.key).replace(w,"$&/")+"/")+Dt)),Y.push(vt)),1;Dt=0;var J=rt===""?".":rt+":";if(Lt(V))for(var ft=0;ft<V.length;ft++)rt=V[ft],bt=J+ie(rt,ft),Dt+=G(rt,Y,st,bt,vt);else if(ft=H(V),typeof ft=="function")for(V=ft.call(V),ft=0;!(rt=V.next()).done;)rt=rt.value,bt=J+ie(rt,ft++),Dt+=G(rt,Y,st,bt,vt);else if(bt==="object"){if(typeof V.then=="function")return G(se(V),Y,st,rt,vt);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function it(V,Y,st){if(V==null)return V;var rt=[],vt=0;return G(V,rt,"","",function(bt){return Y.call(st,bt,vt++)}),rt}function et(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(st){(V._status===0||V._status===-1)&&(V._status=1,V._result=st)},function(st){(V._status===0||V._status===-1)&&(V._status=2,V._result=st)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var Ut=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ht={map:it,forEach:function(V,Y,st){it(V,function(){Y.apply(this,arguments)},st)},count:function(V){var Y=0;return it(V,function(){Y++}),Y},toArray:function(V){return it(V,function(Y){return Y})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Tt.Activity=b,Tt.Children=Ht,Tt.Component=ht,Tt.Fragment=i,Tt.Profiler=o,Tt.PureComponent=ut,Tt.StrictMode=r,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Tt.cache=function(V){return function(){return V.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(V,Y,st){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=tt({},V.props),vt=V.key;if(Y!=null)for(bt in Y.key!==void 0&&(vt=""+Y.key),Y)!S.call(Y,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Y.ref===void 0||(rt[bt]=Y[bt]);var bt=arguments.length-2;if(bt===1)rt.children=st;else if(1<bt){for(var Dt=Array(bt),J=0;J<bt;J++)Dt[J]=arguments[J+2];rt.children=Dt}return x(V.type,vt,rt)},Tt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},Tt.createElement=function(V,Y,st){var rt,vt={},bt=null;if(Y!=null)for(rt in Y.key!==void 0&&(bt=""+Y.key),Y)S.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(vt[rt]=Y[rt]);var Dt=arguments.length-2;if(Dt===1)vt.children=st;else if(1<Dt){for(var J=Array(Dt),ft=0;ft<Dt;ft++)J[ft]=arguments[ft+2];vt.children=J}if(V&&V.defaultProps)for(rt in Dt=V.defaultProps,Dt)vt[rt]===void 0&&(vt[rt]=Dt[rt]);return x(V,bt,vt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(V){return{$$typeof:p,render:V}},Tt.isValidElement=N,Tt.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:et}},Tt.memo=function(V,Y){return{$$typeof:_,type:V,compare:Y===void 0?null:Y}},Tt.startTransition=function(V){var Y=C.T,st={};C.T=st;try{var rt=V(),vt=C.S;vt!==null&&vt(st,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Rt,Ut)}catch(bt){Ut(bt)}finally{Y!==null&&st.types!==null&&(Y.types=st.types),C.T=Y}},Tt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Tt.use=function(V){return C.H.use(V)},Tt.useActionState=function(V,Y,st){return C.H.useActionState(V,Y,st)},Tt.useCallback=function(V,Y){return C.H.useCallback(V,Y)},Tt.useContext=function(V){return C.H.useContext(V)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(V,Y){return C.H.useDeferredValue(V,Y)},Tt.useEffect=function(V,Y){return C.H.useEffect(V,Y)},Tt.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Tt.useId=function(){return C.H.useId()},Tt.useImperativeHandle=function(V,Y,st){return C.H.useImperativeHandle(V,Y,st)},Tt.useInsertionEffect=function(V,Y){return C.H.useInsertionEffect(V,Y)},Tt.useLayoutEffect=function(V,Y){return C.H.useLayoutEffect(V,Y)},Tt.useMemo=function(V,Y){return C.H.useMemo(V,Y)},Tt.useOptimistic=function(V,Y){return C.H.useOptimistic(V,Y)},Tt.useReducer=function(V,Y,st){return C.H.useReducer(V,Y,st)},Tt.useRef=function(V){return C.H.useRef(V)},Tt.useState=function(V){return C.H.useState(V)},Tt.useSyncExternalStore=function(V,Y,st){return C.H.useSyncExternalStore(V,Y,st)},Tt.useTransition=function(){return C.H.useTransition()},Tt.version="19.2.0",Tt}var Qy;function Vd(){return Qy||(Qy=1,Hf.exports=pT()),Hf.exports}var ne=Vd();const od=b0(ne);var Gf={exports:{}},Yl={},Ff={exports:{}},Qf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function yT(){return Yy||(Yy=1,(function(a){function e(G,it){var et=G.length;G.push(it);t:for(;0<et;){var Ut=et-1>>>1,Ht=G[Ut];if(0<o(Ht,it))G[Ut]=it,G[et]=Ht,et=Ut;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var it=G[0],et=G.pop();if(et!==it){G[0]=et;t:for(var Ut=0,Ht=G.length,V=Ht>>>1;Ut<V;){var Y=2*(Ut+1)-1,st=G[Y],rt=Y+1,vt=G[rt];if(0>o(st,et))rt<Ht&&0>o(vt,st)?(G[Ut]=vt,G[rt]=et,Ut=rt):(G[Ut]=st,G[Y]=et,Ut=Y);else if(rt<Ht&&0>o(vt,et))G[Ut]=vt,G[rt]=et,Ut=rt;else break t}}return it}function o(G,it){var et=G.sortIndex-it.sortIndex;return et!==0?et:G.id-it.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,b=null,I=3,H=!1,W=!1,tt=!1,$=!1,ht=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function yt(G){for(var it=i(_);it!==null;){if(it.callback===null)r(_);else if(it.startTime<=G)r(_),it.sortIndex=it.expirationTime,e(v,it);else break;it=i(_)}}function Lt(G){if(tt=!1,yt(G),!W)if(i(v)!==null)W=!0,Rt||(Rt=!0,z());else{var it=i(_);it!==null&&se(Lt,it.startTime-G)}}var Rt=!1,C=-1,S=5,x=-1;function O(){return $?!0:!(a.unstable_now()-x<S)}function N(){if($=!1,Rt){var G=a.unstable_now();x=G;var it=!0;try{t:{W=!1,tt&&(tt=!1,gt(C),C=-1),H=!0;var et=I;try{e:{for(yt(G),b=i(v);b!==null&&!(b.expirationTime>G&&O());){var Ut=b.callback;if(typeof Ut=="function"){b.callback=null,I=b.priorityLevel;var Ht=Ut(b.expirationTime<=G);if(G=a.unstable_now(),typeof Ht=="function"){b.callback=Ht,yt(G),it=!0;break e}b===i(v)&&r(v),yt(G)}else r(v);b=i(v)}if(b!==null)it=!0;else{var V=i(_);V!==null&&se(Lt,V.startTime-G),it=!1}}break t}finally{b=null,I=et,H=!1}it=void 0}}finally{it?z():Rt=!1}}}var z;if(typeof ut=="function")z=function(){ut(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=N,z=function(){ie.postMessage(null)}}else z=function(){ht(N,0)};function se(G,it){C=ht(function(){G(a.unstable_now())},it)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return I},a.unstable_next=function(G){switch(I){case 1:case 2:case 3:var it=3;break;default:it=I}var et=I;I=it;try{return G()}finally{I=et}},a.unstable_requestPaint=function(){$=!0},a.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var et=I;I=G;try{return it()}finally{I=et}},a.unstable_scheduleCallback=function(G,it,et){var Ut=a.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?Ut+et:Ut):et=Ut,G){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=et+Ht,G={id:A++,callback:it,priorityLevel:G,startTime:et,expirationTime:Ht,sortIndex:-1},et>Ut?(G.sortIndex=et,e(_,G),i(v)===null&&G===i(_)&&(tt?(gt(C),C=-1):tt=!0,se(Lt,et-Ut))):(G.sortIndex=Ht,e(v,G),W||H||(W=!0,Rt||(Rt=!0,z()))),G},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(G){var it=I;return function(){var et=I;I=it;try{return G.apply(this,arguments)}finally{I=et}}}})(Qf)),Qf}var Xy;function _T(){return Xy||(Xy=1,Ff.exports=yT()),Ff.exports}var Yf={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function vT(){if(Ky)return tn;Ky=1;var a=Vd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:v,containerInfo:_,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tn.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},tn.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},tn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},tn.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},tn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:I,fetchPriority:H}):A==="script"&&r.d.X(v,{crossOrigin:b,integrity:I,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},tn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},tn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},tn.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},tn.requestFormReset=function(v){r.d.r(v)},tn.unstable_batchedUpdates=function(v,_){return v(_)},tn.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.2.0",tn}var Zy;function ET(){if(Zy)return Yf.exports;Zy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Yf.exports=vT(),Yf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function TT(){if($y)return Yl;$y=1;var a=_T(),e=Vd(),i=ET();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,l=f;break}if(E===l){g=!0,l=c,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=c;break}if(E===l){g=!0,l=f,s=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,I=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),yt=Symbol.for("react.forward_ref"),Lt=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case ht:return"Profiler";case $:return"StrictMode";case Lt:return"Suspense";case Rt:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case ut:return t.displayName||"Context";case gt:return(t._context.displayName||"Context")+".Consumer";case yt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:ie(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return ie(t(n))}catch{}}return null}var se=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},Ut=[],Ht=-1;function V(t){return{current:t}}function Y(t){0>Ht||(t.current=Ut[Ht],Ut[Ht]=null,Ht--)}function st(t,n){Ht++,Ut[Ht]=t.current,t.current=n}var rt=V(null),vt=V(null),bt=V(null),Dt=V(null);function J(t,n){switch(st(bt,n),st(vt,t),st(rt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?fy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=fy(n),t=dy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(rt),st(rt,t)}function ft(){Y(rt),Y(vt),Y(bt)}function Bt(t){t.memoizedState!==null&&st(Dt,t);var n=rt.current,s=dy(n,t.type);n!==s&&(st(vt,t),st(rt,s))}function Zt(t){vt.current===t&&(Y(rt),Y(vt)),Dt.current===t&&(Y(Dt),ql._currentValue=et)}var Ue,We;function je(t){if(Ue===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ue=n&&n[1]||"",We=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+t+We}var an=!1;function Oi(t,n){if(!t||an)return"";an=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var B=q}Reflect.construct(t,[],X)}else{try{X.call()}catch(q){B=q}t.call(X.prototype)}}else{try{throw Error()}catch(q){B=q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),j=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===j.length)for(l=R.length-1,c=j.length-1;1<=l&&0<=c&&R[l]!==j[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==j[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==j[c]){var F=`
`+R[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{an=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?je(s):""}function Hr(t,n){switch(t.tag){case 26:case 27:case 5:return je(t.type);case 16:return je("Lazy");case 13:return t.child!==n&&n!==null?je("Suspense Fallback"):je("Suspense");case 19:return je("SuspenseList");case 0:case 15:return Oi(t.type,!1);case 11:return Oi(t.type.render,!1);case 1:return Oi(t.type,!0);case 31:return je("Activity");default:return""}}function Gr(t){try{var n="",s=null;do n+=Hr(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ae=Object.prototype.hasOwnProperty,ze=a.unstable_scheduleCallback,ns=a.unstable_cancelCallback,Hc=a.unstable_shouldYield,So=a.unstable_requestPaint,rn=a.unstable_now,$s=a.unstable_getCurrentPriorityLevel,Fr=a.unstable_ImmediatePriority,Qr=a.unstable_UserBlockingPriority,is=a.unstable_NormalPriority,Gc=a.unstable_LowPriority,wo=a.unstable_IdlePriority,Ro=a.log,xo=a.unstable_setDisableYieldValue,Fn=null,Ge=null;function In(t){if(typeof Ro=="function"&&xo(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Fn,t)}catch{}}var ye=Math.clz32?Math.clz32:No,Co=Math.log,ka=Math.LN2;function No(t){return t>>>=0,t===0?32:31-(Co(t)/ka|0)|0}var si=256,Js=262144,be=4194304;function ai(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ri(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=ai(l):(g&=E,g!==0?c=ai(g):s||(s=E&~t,s!==0&&(c=ai(s))))):(E=l&~f,E!==0?c=ai(E):g!==0?c=ai(g):s||(s=l&~t,s!==0&&(c=ai(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Qn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Fc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Do(){var t=be;return be<<=1,(be&62914560)===0&&(be=4194304),t}function li(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Ws(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qc(t,n,s,l,c,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,j=t.hiddenUpdates;for(s=g&~s;0<s;){var F=31-ye(s),X=1<<F;E[F]=0,R[F]=-1;var B=j[F];if(B!==null)for(j[F]=null,F=0;F<B.length;F++){var q=B[F];q!==null&&(q.lane&=-536870913)}s&=~X}l!==0&&ta(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function ta(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ye(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Yr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-ye(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function Xr(t,n){var s=n&-n;return s=(s&42)!==0?1:ea(s),(s&(t.suspendedLanes|n))!==0?0:s}function ea(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Mi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Io(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:zy(t.type))}function Yn(t,n){var s=it.p;try{return it.p=t,n()}finally{it.p=s}}var Xn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Xn,Be="__reactProps$"+Xn,oi="__reactContainer$"+Xn,ja="__reactEvents$"+Xn,Yc="__reactListeners$"+Xn,Vo="__reactHandles$"+Xn,Oo="__reactResources$"+Xn,ui="__reactMarker$"+Xn;function Ba(t){delete t[Se],delete t[Be],delete t[ja],delete t[Yc],delete t[Vo]}function ci(t){var n=t[Se];if(n)return n;for(var s=t.parentNode;s;){if(n=s[oi]||s[Se]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Ey(t);t!==null;){if(s=t[Se])return s;t=Ey(t)}return n}t=s,s=t.parentNode}return null}function Vn(t){if(t=t[Se]||t[oi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function En(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function hi(t){var n=t[Oo];return n||(n=t[Oo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function we(t){t[ui]=!0}var Kr=new Set,Zr={};function fi(t,n){di(t,n),di(t+"Capture",n)}function di(t,n){for(Zr[t]=n,t=0;t<n.length;t++)Kr.add(n[t])}var $r=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jr={},Wr={};function Mo(t){return Ae.call(Wr,t)?!0:Ae.call(Jr,t)?!1:$r.test(t)?Wr[t]=!0:(Jr[t]=!0,!1)}function Pa(t,n,s){if(Mo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Tn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Re(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Pe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ss(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function tl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Yt(t){if(!t._valueTracker){var n=ss(t)?"checked":"value";t._valueTracker=tl(t,n,""+t[n])}}function na(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=ss(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ia=/[\n"\\]/g;function cn(t){return t.replace(ia,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function qa(t,n,s,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Pe(n)):t.value!==""+Pe(n)&&(t.value=""+Pe(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?el(t,g,Pe(n)):s!=null?el(t,g,Pe(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Pe(E):t.removeAttribute("name")}function Uo(t,n,s,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(t);return}s=s!=null?""+Pe(s):"",n=n!=null?""+Pe(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Yt(t)}function el(t,n,s){n==="number"&&mi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function as(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Pe(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function zo(t,n,s){if(n!=null&&(n=""+Pe(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Pe(s):""}function rs(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(se(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Pe(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Yt(t)}function hn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Lo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Lo.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function il(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&nl(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&nl(t,f,n[f])}function Ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ko=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ga(t){return ls.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var sl=null;function On(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var os=null,gi=null;function sa(t){var n=Vn(t);if(n&&(t=n.stateNode)){var s=t[Be]||null;t:switch(t=n.stateNode,n.type){case"input":if(qa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+cn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Be]||null;if(!c)throw Error(r(90));qa(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&na(l)}break t;case"textarea":zo(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&as(t,!!s.multiple,n,!1)}}}var Fa=!1;function us(t,n,s){if(Fa)return t(n,s);Fa=!0;try{var l=t(n);return l}finally{if(Fa=!1,(os!==null||gi!==null)&&(Iu(),os&&(n=os,t=gi,gi=os=null,sa(n),t)))for(n=0;n<t.length;n++)sa(t[n])}}function Zn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Be]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aa=!1;if(Mn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){aa=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{aa=!1}var pi=null,al=null,ra=null;function rl(){if(ra)return ra;var t,n=al,s=n.length,l,c="value"in pi?pi.value:pi.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===c[f-l];l++);return ra=c.slice(t,1<l?1-l:void 0)}function la(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ui(){return!0}function $n(){return!1}function Fe(t){function n(s,l,c,f,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ui:$n,this.isPropagationStopped=$n,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),n}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Fe(zi),cs=b({},zi,{view:0,detail:0}),ll=Fe(cs),hs,Qa,_i,Ya=b({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_i&&(_i&&t.type==="mousemove"?(hs=t.screenX-_i.screenX,Qa=t.screenY-_i.screenY):Qa=hs=0,_i=t),hs)},movementY:function(t){return"movementY"in t?t.movementY:Qa}}),ol=Fe(Ya),oa=b({},Ya,{dataTransfer:0}),jo=Fe(oa),Bo=b({},cs,{relatedTarget:0}),ua=Fe(Bo),ul=b({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Po=Fe(ul),Xa=b({},zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qo=Fe(Xa),Ho=b({},zi,{data:0}),vi=Fe(Ho),Go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Qo[t])?!!n[t]:!1}function fs(){return Yo}var ln=b({},cs,{key:function(t){if(t.key){var n=Go[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=la(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(t){return t.type==="keypress"?la(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?la(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xo=Fe(ln),Ko=b({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=Fe(Ko),u=b({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),m=Fe(u),y=b({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Fe(y),L=b({},Ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P=Fe(L),nt=b({},zi,{newState:0,oldState:0}),St=Fe(nt),_e=[9,13,27,32],Gt=Mn&&"CompositionEvent"in window,ce=null;Mn&&"documentMode"in document&&(ce=document.documentMode);var Un=Mn&&"TextEvent"in window&&!ce,Ei=Mn&&(!Gt||ce&&8<ce&&11>=ce),Jn=" ",Wn=!1;function ca(t,n){switch(t){case"keyup":return _e.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Za=!1;function k1(t,n){switch(t){case"compositionend":return Ka(n);case"keypress":return n.which!==32?null:(Wn=!0,Jn);case"textInput":return t=n.data,t===Jn&&Wn?null:t;default:return null}}function j1(t,n){if(Za)return t==="compositionend"||!Gt&&ca(t,n)?(t=rl(),ra=al=pi=null,Za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ei&&n.locale!=="ko"?null:n.data;default:return null}}var B1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!B1[t.type]:n==="textarea"}function Sm(t,n,s,l){os?gi?gi.push(l):gi=[l]:os=l,n=ku(n,"onChange"),0<n.length&&(s=new yi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var cl=null,hl=null;function P1(t){ry(t,0)}function Zo(t){var n=En(t);if(na(n))return t}function wm(t,n){if(t==="change")return n}var Rm=!1;if(Mn){var Xc;if(Mn){var Kc="oninput"in document;if(!Kc){var xm=document.createElement("div");xm.setAttribute("oninput","return;"),Kc=typeof xm.oninput=="function"}Xc=Kc}else Xc=!1;Rm=Xc&&(!document.documentMode||9<document.documentMode)}function Cm(){cl&&(cl.detachEvent("onpropertychange",Nm),hl=cl=null)}function Nm(t){if(t.propertyName==="value"&&Zo(hl)){var n=[];Sm(n,hl,t,On(t)),us(P1,n)}}function q1(t,n,s){t==="focusin"?(Cm(),cl=n,hl=s,cl.attachEvent("onpropertychange",Nm)):t==="focusout"&&Cm()}function H1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zo(hl)}function G1(t,n){if(t==="click")return Zo(n)}function F1(t,n){if(t==="input"||t==="change")return Zo(n)}function Q1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var An=typeof Object.is=="function"?Object.is:Q1;function fl(t,n){if(An(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!Ae.call(n,c)||!An(t[c],n[c]))return!1}return!0}function Dm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Im(t,n){var s=Dm(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Dm(s)}}function Vm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Vm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Om(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=mi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=mi(t.document)}return n}function Zc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Y1=Mn&&"documentMode"in document&&11>=document.documentMode,$a=null,$c=null,dl=null,Jc=!1;function Mm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Jc||$a==null||$a!==mi(l)||(l=$a,"selectionStart"in l&&Zc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&fl(dl,l)||(dl=l,l=ku($c,"onSelect"),0<l.length&&(n=new yi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=$a)))}function ha(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ja={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},Wc={},Um={};Mn&&(Um=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function fa(t){if(Wc[t])return Wc[t];if(!Ja[t])return t;var n=Ja[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Um)return Wc[t]=n[s];return t}var zm=fa("animationend"),Lm=fa("animationiteration"),km=fa("animationstart"),X1=fa("transitionrun"),K1=fa("transitionstart"),Z1=fa("transitioncancel"),jm=fa("transitionend"),Bm=new Map,th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");th.push("scrollEnd");function ti(t,n){Bm.set(t,n),fi(n,[t])}var $o=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zn=[],Wa=0,eh=0;function Jo(){for(var t=Wa,n=eh=Wa=0;n<t;){var s=zn[n];zn[n++]=null;var l=zn[n];zn[n++]=null;var c=zn[n];zn[n++]=null;var f=zn[n];if(zn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Pm(s,c,f)}}function Wo(t,n,s,l){zn[Wa++]=t,zn[Wa++]=n,zn[Wa++]=s,zn[Wa++]=l,eh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function nh(t,n,s,l){return Wo(t,n,s,l),tu(t)}function da(t,n){return Wo(t,null,null,n),tu(t)}function Pm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ye(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function tu(t){if(50<Ul)throw Ul=0,ff=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var tr={};function $1(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,n,s,l){return new $1(t,n,s,l)}function ih(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,n){var s=t.alternate;return s===null?(s=bn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function qm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function eu(t,n,s,l,c,f){var g=0;if(l=t,typeof t=="function")ih(t)&&(g=1);else if(typeof t=="string")g=nT(t,s,rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case x:return t=bn(31,s,n,c),t.elementType=x,t.lanes=f,t;case tt:return ma(s.children,c,f,n);case $:g=8,c|=24;break;case ht:return t=bn(12,s,n,c|2),t.elementType=ht,t.lanes=f,t;case Lt:return t=bn(13,s,n,c),t.elementType=Lt,t.lanes=f,t;case Rt:return t=bn(19,s,n,c),t.elementType=Rt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ut:g=10;break t;case gt:g=9;break t;case yt:g=11;break t;case C:g=14;break t;case S:g=16,l=null;break t}g=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=bn(g,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ma(t,n,s,l){return t=bn(7,t,l,n),t.lanes=s,t}function sh(t,n,s){return t=bn(6,t,null,n),t.lanes=s,t}function Hm(t){var n=bn(18,null,null,0);return n.stateNode=t,n}function ah(t,n,s){return n=bn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Gm=new WeakMap;function Ln(t,n){if(typeof t=="object"&&t!==null){var s=Gm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Gr(n)},Gm.set(t,n),n)}return{value:t,source:n,stack:Gr(n)}}var er=[],nr=0,nu=null,ml=0,kn=[],jn=0,ds=null,Ti=1,Ai="";function ji(t,n){er[nr++]=ml,er[nr++]=nu,nu=t,ml=n}function Fm(t,n,s){kn[jn++]=Ti,kn[jn++]=Ai,kn[jn++]=ds,ds=t;var l=Ti;t=Ai;var c=32-ye(l)-1;l&=~(1<<c),s+=1;var f=32-ye(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,Ti=1<<32-ye(n)+c|s<<c|l,Ai=f+t}else Ti=1<<f|s<<c|l,Ai=t}function rh(t){t.return!==null&&(ji(t,1),Fm(t,1,0))}function lh(t){for(;t===nu;)nu=er[--nr],er[nr]=null,ml=er[--nr],er[nr]=null;for(;t===ds;)ds=kn[--jn],kn[jn]=null,Ai=kn[--jn],kn[jn]=null,Ti=kn[--jn],kn[jn]=null}function Qm(t,n){kn[jn++]=Ti,kn[jn++]=Ai,kn[jn++]=ds,Ti=n.id,Ai=n.overflow,ds=t}var Qe=null,le=null,zt=!1,ms=null,Bn=!1,oh=Error(r(519));function gs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gl(Ln(n,t)),oh}function Ym(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Se]=t,n[Be]=l,s){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(s=0;s<Ll.length;s++)Nt(Ll[s],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),Uo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),rs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||cy(n.textContent,s)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=Kn),n=!0):n=!1,n||gs(t,!0)}function Xm(t){for(Qe=t.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Qe=Qe.return}}function ir(t){if(t!==Qe)return!1;if(!zt)return Xm(t),zt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||xf(t.type,t.memoizedProps)),s=!s),s&&le&&gs(t),Xm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));le=vy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));le=vy(t)}else n===27?(n=le,Ns(t.type)?(t=Vf,Vf=null,le=t):le=n):le=Qe?qn(t.stateNode.nextSibling):null;return!0}function ga(){le=Qe=null,zt=!1}function uh(){var t=ms;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),ms=null),t}function gl(t){ms===null?ms=[t]:ms.push(t)}var ch=V(null),pa=null,Bi=null;function ps(t,n,s){st(ch,n._currentValue),n._currentValue=s}function Pi(t){t._currentValue=ch.current,Y(ch)}function hh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function fh(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),hh(f.return,s,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),hh(g,s,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function sr(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;An(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Dt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(ql):t=[ql])}c=c.return}t!==null&&fh(n,t,s,l),n.flags|=262144}function iu(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ya(t){pa=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ye(t){return Km(pa,t)}function su(t,n){return pa===null&&ya(t),Km(t,n)}function Km(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Bi===null){if(t===null)throw Error(r(308));Bi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Bi=Bi.next=n;return s}var J1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},W1=a.unstable_scheduleCallback,tE=a.unstable_NormalPriority,xe={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dh(){return{controller:new J1,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&W1(tE,function(){t.controller.abort()})}var yl=null,mh=0,ar=0,rr=null;function eE(t,n){if(yl===null){var s=yl=[];mh=0,ar=_f(),rr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return mh++,n.then(Zm,Zm),n}function Zm(){if(--mh===0&&yl!==null){rr!==null&&(rr.status="fulfilled");var t=yl;yl=null,ar=0,rr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function nE(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var $m=G.S;G.S=function(t,n){Mp=rn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&eE(t,n),$m!==null&&$m(t,n)};var _a=V(null);function gh(){var t=_a.current;return t!==null?t:ee.pooledCache}function au(t,n){n===null?st(_a,_a.current):st(_a,n.pool)}function Jm(){var t=gh();return t===null?null:{parent:xe._currentValue,pool:t}}var lr=Error(r(460)),ph=Error(r(474)),ru=Error(r(542)),lu={then:function(){}};function Wm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Kn,Kn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ng(t),t;default:if(typeof n.status=="string")n.then(Kn,Kn);else{if(t=ee,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ng(t),t}throw Ea=n,lr}}function va(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ea=s,lr):s}}var Ea=null;function eg(){if(Ea===null)throw Error(r(459));var t=Ea;return Ea=null,t}function ng(t){if(t===lr||t===ru)throw Error(r(483))}var or=null,_l=0;function ou(t){var n=_l;return _l+=1,or===null&&(or=[]),tg(or,t,n)}function vl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function uu(t,n){throw n.$$typeof===I?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ig(t){function n(U,D){if(t){var k=U.deletions;k===null?(U.deletions=[D],U.flags|=16):k.push(D)}}function s(U,D){if(!t)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function l(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function c(U,D){return U=ki(U,D),U.index=0,U.sibling=null,U}function f(U,D,k){return U.index=k,t?(k=U.alternate,k!==null?(k=k.index,k<D?(U.flags|=67108866,D):k):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function g(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,k,Q){return D===null||D.tag!==6?(D=sh(k,U.mode,Q),D.return=U,D):(D=c(D,k),D.return=U,D)}function R(U,D,k,Q){var dt=k.type;return dt===tt?F(U,D,k.props.children,Q,k.key):D!==null&&(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&va(dt)===D.type)?(D=c(D,k.props),vl(D,k),D.return=U,D):(D=eu(k.type,k.key,k.props,null,U.mode,Q),vl(D,k),D.return=U,D)}function j(U,D,k,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==k.containerInfo||D.stateNode.implementation!==k.implementation?(D=ah(k,U.mode,Q),D.return=U,D):(D=c(D,k.children||[]),D.return=U,D)}function F(U,D,k,Q,dt){return D===null||D.tag!==7?(D=ma(k,U.mode,Q,dt),D.return=U,D):(D=c(D,k),D.return=U,D)}function X(U,D,k){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=sh(""+D,U.mode,k),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return k=eu(D.type,D.key,D.props,null,U.mode,k),vl(k,D),k.return=U,k;case W:return D=ah(D,U.mode,k),D.return=U,D;case S:return D=va(D),X(U,D,k)}if(se(D)||z(D))return D=ma(D,U.mode,k,null),D.return=U,D;if(typeof D.then=="function")return X(U,ou(D),k);if(D.$$typeof===ut)return X(U,su(U,D),k);uu(U,D)}return null}function B(U,D,k,Q){var dt=D!==null?D.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return dt!==null?null:E(U,D,""+k,Q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case H:return k.key===dt?R(U,D,k,Q):null;case W:return k.key===dt?j(U,D,k,Q):null;case S:return k=va(k),B(U,D,k,Q)}if(se(k)||z(k))return dt!==null?null:F(U,D,k,Q,null);if(typeof k.then=="function")return B(U,D,ou(k),Q);if(k.$$typeof===ut)return B(U,D,su(U,k),Q);uu(U,k)}return null}function q(U,D,k,Q,dt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(k)||null,E(D,U,""+Q,dt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return U=U.get(Q.key===null?k:Q.key)||null,R(D,U,Q,dt);case W:return U=U.get(Q.key===null?k:Q.key)||null,j(D,U,Q,dt);case S:return Q=va(Q),q(U,D,k,Q,dt)}if(se(Q)||z(Q))return U=U.get(k)||null,F(D,U,Q,dt,null);if(typeof Q.then=="function")return q(U,D,k,ou(Q),dt);if(Q.$$typeof===ut)return q(U,D,k,su(D,Q),dt);uu(D,Q)}return null}function ot(U,D,k,Q){for(var dt=null,Pt=null,ct=D,xt=D=0,Vt=null;ct!==null&&xt<k.length;xt++){ct.index>xt?(Vt=ct,ct=null):Vt=ct.sibling;var qt=B(U,ct,k[xt],Q);if(qt===null){ct===null&&(ct=Vt);break}t&&ct&&qt.alternate===null&&n(U,ct),D=f(qt,D,xt),Pt===null?dt=qt:Pt.sibling=qt,Pt=qt,ct=Vt}if(xt===k.length)return s(U,ct),zt&&ji(U,xt),dt;if(ct===null){for(;xt<k.length;xt++)ct=X(U,k[xt],Q),ct!==null&&(D=f(ct,D,xt),Pt===null?dt=ct:Pt.sibling=ct,Pt=ct);return zt&&ji(U,xt),dt}for(ct=l(ct);xt<k.length;xt++)Vt=q(ct,U,xt,k[xt],Q),Vt!==null&&(t&&Vt.alternate!==null&&ct.delete(Vt.key===null?xt:Vt.key),D=f(Vt,D,xt),Pt===null?dt=Vt:Pt.sibling=Vt,Pt=Vt);return t&&ct.forEach(function(Ms){return n(U,Ms)}),zt&&ji(U,xt),dt}function pt(U,D,k,Q){if(k==null)throw Error(r(151));for(var dt=null,Pt=null,ct=D,xt=D=0,Vt=null,qt=k.next();ct!==null&&!qt.done;xt++,qt=k.next()){ct.index>xt?(Vt=ct,ct=null):Vt=ct.sibling;var Ms=B(U,ct,qt.value,Q);if(Ms===null){ct===null&&(ct=Vt);break}t&&ct&&Ms.alternate===null&&n(U,ct),D=f(Ms,D,xt),Pt===null?dt=Ms:Pt.sibling=Ms,Pt=Ms,ct=Vt}if(qt.done)return s(U,ct),zt&&ji(U,xt),dt;if(ct===null){for(;!qt.done;xt++,qt=k.next())qt=X(U,qt.value,Q),qt!==null&&(D=f(qt,D,xt),Pt===null?dt=qt:Pt.sibling=qt,Pt=qt);return zt&&ji(U,xt),dt}for(ct=l(ct);!qt.done;xt++,qt=k.next())qt=q(ct,U,xt,qt.value,Q),qt!==null&&(t&&qt.alternate!==null&&ct.delete(qt.key===null?xt:qt.key),D=f(qt,D,xt),Pt===null?dt=qt:Pt.sibling=qt,Pt=qt);return t&&ct.forEach(function(dT){return n(U,dT)}),zt&&ji(U,xt),dt}function te(U,D,k,Q){if(typeof k=="object"&&k!==null&&k.type===tt&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case H:t:{for(var dt=k.key;D!==null;){if(D.key===dt){if(dt=k.type,dt===tt){if(D.tag===7){s(U,D.sibling),Q=c(D,k.props.children),Q.return=U,U=Q;break t}}else if(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&va(dt)===D.type){s(U,D.sibling),Q=c(D,k.props),vl(Q,k),Q.return=U,U=Q;break t}s(U,D);break}else n(U,D);D=D.sibling}k.type===tt?(Q=ma(k.props.children,U.mode,Q,k.key),Q.return=U,U=Q):(Q=eu(k.type,k.key,k.props,null,U.mode,Q),vl(Q,k),Q.return=U,U=Q)}return g(U);case W:t:{for(dt=k.key;D!==null;){if(D.key===dt)if(D.tag===4&&D.stateNode.containerInfo===k.containerInfo&&D.stateNode.implementation===k.implementation){s(U,D.sibling),Q=c(D,k.children||[]),Q.return=U,U=Q;break t}else{s(U,D);break}else n(U,D);D=D.sibling}Q=ah(k,U.mode,Q),Q.return=U,U=Q}return g(U);case S:return k=va(k),te(U,D,k,Q)}if(se(k))return ot(U,D,k,Q);if(z(k)){if(dt=z(k),typeof dt!="function")throw Error(r(150));return k=dt.call(k),pt(U,D,k,Q)}if(typeof k.then=="function")return te(U,D,ou(k),Q);if(k.$$typeof===ut)return te(U,D,su(U,k),Q);uu(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,D!==null&&D.tag===6?(s(U,D.sibling),Q=c(D,k),Q.return=U,U=Q):(s(U,D),Q=sh(k,U.mode,Q),Q.return=U,U=Q),g(U)):s(U,D)}return function(U,D,k,Q){try{_l=0;var dt=te(U,D,k,Q);return or=null,dt}catch(ct){if(ct===lr||ct===ru)throw ct;var Pt=bn(29,ct,null,U.mode);return Pt.lanes=Q,Pt.return=U,Pt}finally{}}}var Ta=ig(!0),sg=ig(!1),ys=!1;function yh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _h(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _s(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function vs(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=tu(t),Pm(t,null,s),n}return Wo(t,l,n,s),tu(t)}function El(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Yr(t,s)}}function vh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Eh=!1;function Tl(){if(Eh){var t=rr;if(t!==null)throw t}}function Al(t,n,s,l){Eh=!1;var c=t.updateQueue;ys=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,j=R.next;R.next=null,g===null?f=j:g.next=j,g=R;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=j:E.next=j,F.lastBaseUpdate=R))}if(f!==null){var X=c.baseState;g=0,F=j=R=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(It&B)===B:(l&B)===B){B!==0&&B===ar&&(Eh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=t,pt=E;B=n;var te=s;switch(pt.tag){case 1:if(ot=pt.payload,typeof ot=="function"){X=ot.call(te,X,B);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=pt.payload,B=typeof ot=="function"?ot.call(te,X,B):ot,B==null)break t;X=b({},X,B);break t;case 2:ys=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(j=F=q,R=X):F=F.next=q,g|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);F===null&&(R=X),c.baseState=R,c.firstBaseUpdate=j,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),Ss|=g,t.lanes=g,t.memoizedState=X}}function ag(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function rg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)ag(s[t],n)}var ur=V(null),cu=V(0);function lg(t,n){t=Zi,st(cu,t),st(ur,n),Zi=t|n.baseLanes}function Th(){st(cu,Zi),st(ur,ur.current)}function Ah(){Zi=cu.current,Y(ur),Y(cu)}var Sn=V(null),Pn=null;function Es(t){var n=t.alternate;st(ve,ve.current&1),st(Sn,t),Pn===null&&(n===null||ur.current!==null||n.memoizedState!==null)&&(Pn=t)}function bh(t){st(ve,ve.current),st(Sn,t),Pn===null&&(Pn=t)}function og(t){t.tag===22?(st(ve,ve.current),st(Sn,t),Pn===null&&(Pn=t)):Ts()}function Ts(){st(ve,ve.current),st(Sn,Sn.current)}function wn(t){Y(Sn),Pn===t&&(Pn=null),Y(ve)}var ve=V(0);function hu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Df(s)||If(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qi=0,wt=null,Jt=null,Ce=null,fu=!1,cr=!1,Aa=!1,du=0,bl=0,hr=null,iE=0;function de(){throw Error(r(321))}function Sh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!An(t[s],n[s]))return!1;return!0}function wh(t,n,s,l,c,f){return qi=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Fg:Bh,Aa=!1,f=s(l,c),Aa=!1,cr&&(f=cg(n,s,l,c)),ug(t),f}function ug(t){G.H=Rl;var n=Jt!==null&&Jt.next!==null;if(qi=0,Ce=Jt=wt=null,fu=!1,bl=0,hr=null,n)throw Error(r(300));t===null||Ne||(t=t.dependencies,t!==null&&iu(t)&&(Ne=!0))}function cg(t,n,s,l){wt=t;var c=0;do{if(cr&&(hr=null),bl=0,cr=!1,25<=c)throw Error(r(301));if(c+=1,Ce=Jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Qg,f=n(s,l)}while(cr);return f}function sE(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Sl(n):n,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(wt.flags|=1024),n}function Rh(){var t=du!==0;return du=0,t}function xh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Ch(t){if(fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}fu=!1}qi=0,Ce=Jt=wt=null,cr=!1,bl=du=0,hr=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?wt.memoizedState=Ce=t:Ce=Ce.next=t,Ce}function Ee(){if(Jt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var n=Ce===null?wt.memoizedState:Ce.next;if(n!==null)Ce=n,Jt=t;else{if(t===null)throw wt.alternate===null?Error(r(467)):Error(r(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ce===null?wt.memoizedState=Ce=t:Ce=Ce.next=t}return Ce}function mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(t){var n=bl;return bl+=1,hr===null&&(hr=[]),t=tg(hr,t,n),n=wt,(Ce===null?n.memoizedState:Ce.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Fg:Bh),t}function gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Sl(t);if(t.$$typeof===ut)return Ye(t)}throw Error(r(438,String(t)))}function Nh(t){var n=null,s=wt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=mu(),wt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=O;return n.index++,s}function Hi(t,n){return typeof n=="function"?n(t):n}function pu(t){var n=Ee();return Dh(n,Jt,t)}function Dh(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,R=null,j=n,F=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(It&X)===X:(qi&X)===X){var B=j.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===ar&&(F=!0);else if((qi&B)===B){j=j.next,B===ar&&(F=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=X,g=f):R=R.next=X,wt.lanes|=B,Ss|=B;X=j.action,Aa&&s(f,X),f=j.hasEagerState?j.eagerState:s(f,X)}else B={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=B,g=f):R=R.next=B,wt.lanes|=X,Ss|=X;j=j.next}while(j!==null&&j!==n);if(R===null?g=f:R.next=E,!An(f,t.memoizedState)&&(Ne=!0,F&&(s=rr,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ih(t){var n=Ee(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);An(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function hg(t,n,s){var l=wt,c=Ee(),f=zt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!An((Jt||c).memoizedState,s);if(g&&(c.memoizedState=s,Ne=!0),c=c.queue,Mh(mg.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,fr(9,{destroy:void 0},dg.bind(null,l,c,s,n),null),ee===null)throw Error(r(349));f||(qi&127)!==0||fg(l,n,s)}return s}function fg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=wt.updateQueue,n===null?(n=mu(),wt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function dg(t,n,s,l){n.value=s,n.getSnapshot=l,gg(n)&&pg(t)}function mg(t,n,s){return s(function(){gg(n)&&pg(t)})}function gg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!An(t,s)}catch{return!0}}function pg(t){var n=da(t,2);n!==null&&pn(n,t,2)}function Vh(t){var n=on();if(typeof t=="function"){var s=t;if(t=s(),Aa){In(!0);try{s()}finally{In(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:t},n}function yg(t,n,s,l){return t.baseState=s,Dh(t,Jt,typeof l=="function"?l:Hi)}function aE(t,n,s,l,c){if(vu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,_g(n,f)):(f.next=s.next,n.pending=s.next=f)}}function _g(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(c,l),R=G.S;R!==null&&R(g,E),vg(t,n,E)}catch(j){Oh(t,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(c,l),vg(t,n,f)}catch(j){Oh(t,n,j)}}function vg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Eg(t,n,l)},function(l){return Oh(t,n,l)}):Eg(t,n,s)}function Eg(t,n,s){n.status="fulfilled",n.value=s,Tg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,_g(t,s)))}function Oh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Tg(n),n=n.next;while(n!==l)}t.action=null}function Tg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ag(t,n){return n}function bg(t,n){if(zt){var s=ee.formState;if(s!==null){t:{var l=wt;if(zt){if(le){e:{for(var c=le,f=Bn;c.nodeType!==8;){if(!f){c=null;break e}if(c=qn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=qn(c.nextSibling),l=c.data==="F!";break t}}gs(l)}l=!1}l&&(n=s[0])}}return s=on(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ag,lastRenderedState:n},s.queue=l,s=qg.bind(null,wt,l),l.dispatch=s,l=Vh(!1),f=jh.bind(null,wt,!1,l.queue),l=on(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=aE.bind(null,wt,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function Sg(t){var n=Ee();return wg(n,Jt,t)}function wg(t,n,s){if(n=Dh(t,n,Ag)[0],t=pu(Hi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Sl(n)}catch(g){throw g===lr?ru:g}else l=n;n=Ee();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(wt.flags|=2048,fr(9,{destroy:void 0},rE.bind(null,c,s),null)),[l,f,t]}function rE(t,n){t.action=n}function Rg(t){var n=Ee(),s=Jt;if(s!==null)return wg(n,s,t);Ee(),n=n.memoizedState,s=Ee();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function fr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=mu(),wt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function xg(){return Ee().memoizedState}function yu(t,n,s,l){var c=on();wt.flags|=t,c.memoizedState=fr(1|n,{destroy:void 0},s,l===void 0?null:l)}function _u(t,n,s,l){var c=Ee();l=l===void 0?null:l;var f=c.memoizedState.inst;Jt!==null&&l!==null&&Sh(l,Jt.memoizedState.deps)?c.memoizedState=fr(n,f,s,l):(wt.flags|=t,c.memoizedState=fr(1|n,f,s,l))}function Cg(t,n){yu(8390656,8,t,n)}function Mh(t,n){_u(2048,8,t,n)}function lE(t){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=mu(),wt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Ng(t){var n=Ee().memoizedState;return lE({ref:n,nextImpl:t}),function(){if((Ft&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Dg(t,n){return _u(4,2,t,n)}function Ig(t,n){return _u(4,4,t,n)}function Vg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Og(t,n,s){s=s!=null?s.concat([t]):null,_u(4,4,Vg.bind(null,n,t),s)}function Uh(){}function Mg(t,n){var s=Ee();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Sh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Ug(t,n){var s=Ee();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Sh(n,l[1]))return l[0];if(l=t(),Aa){In(!0);try{t()}finally{In(!1)}}return s.memoizedState=[l,n],l}function zh(t,n,s){return s===void 0||(qi&1073741824)!==0&&(It&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=zp(),wt.lanes|=t,Ss|=t,s)}function zg(t,n,s,l){return An(s,n)?s:ur.current!==null?(t=zh(t,s,l),An(t,n)||(Ne=!0),t):(qi&42)===0||(qi&1073741824)!==0&&(It&261930)===0?(Ne=!0,t.memoizedState=s):(t=zp(),wt.lanes|=t,Ss|=t,n)}function Lg(t,n,s,l,c){var f=it.p;it.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,jh(t,!1,n,s);try{var R=c(),j=G.S;if(j!==null&&j(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=nE(R,l);wl(t,n,F,Cn(t))}else wl(t,n,l,Cn(t))}catch(X){wl(t,n,{then:function(){},status:"rejected",reason:X},Cn())}finally{it.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function oE(){}function Lh(t,n,s,l){if(t.tag!==5)throw Error(r(476));var c=kg(t).queue;Lg(t,c,n,et,s===null?oE:function(){return jg(t),s(l)})}function kg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:et},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function jg(t){var n=kg(t);n.next===null&&(n=t.alternate.memoizedState),wl(t,n.next.queue,{},Cn())}function kh(){return Ye(ql)}function Bg(){return Ee().memoizedState}function Pg(){return Ee().memoizedState}function uE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Cn();t=_s(s);var l=vs(n,t,s);l!==null&&(pn(l,n,s),El(l,n,s)),n={cache:dh()},t.payload=n;return}n=n.return}}function cE(t,n,s){var l=Cn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},vu(t)?Hg(n,s):(s=nh(t,n,s,l),s!==null&&(pn(s,t,l),Gg(s,n,l)))}function qg(t,n,s){var l=Cn();wl(t,n,s,l)}function wl(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(vu(t))Hg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(c.hasEagerState=!0,c.eagerState=E,An(E,g))return Wo(t,n,c,0),ee===null&&Jo(),!1}catch{}finally{}if(s=nh(t,n,c,l),s!==null)return pn(s,t,l),Gg(s,n,l),!0}return!1}function jh(t,n,s,l){if(l={lane:2,revertLane:_f(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vu(t)){if(n)throw Error(r(479))}else n=nh(t,s,l,2),n!==null&&pn(n,t,2)}function vu(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function Hg(t,n){cr=fu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Gg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Yr(t,s)}}var Rl={readContext:Ye,use:gu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Rl.useEffectEvent=de;var Fg={readContext:Ye,use:gu,useCallback:function(t,n){return on().memoizedState=[t,n===void 0?null:n],t},useContext:Ye,useEffect:Cg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,yu(4194308,4,Vg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return yu(4194308,4,t,n)},useInsertionEffect:function(t,n){yu(4,2,t,n)},useMemo:function(t,n){var s=on();n=n===void 0?null:n;var l=t();if(Aa){In(!0);try{t()}finally{In(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=on();if(s!==void 0){var c=s(n);if(Aa){In(!0);try{s(n)}finally{In(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=cE.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=on();return t={current:t},n.memoizedState=t},useState:function(t){t=Vh(t);var n=t.queue,s=qg.bind(null,wt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Uh,useDeferredValue:function(t,n){var s=on();return zh(s,t,n)},useTransition:function(){var t=Vh(!1);return t=Lg.bind(null,wt,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=wt,c=on();if(zt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),ee===null)throw Error(r(349));(It&127)!==0||fg(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Cg(mg.bind(null,l,f,t),[t]),l.flags|=2048,fr(9,{destroy:void 0},dg.bind(null,l,f,s,n),null),s},useId:function(){var t=on(),n=ee.identifierPrefix;if(zt){var s=Ai,l=Ti;s=(l&~(1<<32-ye(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=du++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=iE++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:kh,useFormState:bg,useActionState:bg,useOptimistic:function(t){var n=on();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=jh.bind(null,wt,!0,s),s.dispatch=n,[t,n]},useMemoCache:Nh,useCacheRefresh:function(){return on().memoizedState=uE.bind(null,wt)},useEffectEvent:function(t){var n=on(),s={impl:t};return n.memoizedState=s,function(){if((Ft&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Bh={readContext:Ye,use:gu,useCallback:Mg,useContext:Ye,useEffect:Mh,useImperativeHandle:Og,useInsertionEffect:Dg,useLayoutEffect:Ig,useMemo:Ug,useReducer:pu,useRef:xg,useState:function(){return pu(Hi)},useDebugValue:Uh,useDeferredValue:function(t,n){var s=Ee();return zg(s,Jt.memoizedState,t,n)},useTransition:function(){var t=pu(Hi)[0],n=Ee().memoizedState;return[typeof t=="boolean"?t:Sl(t),n]},useSyncExternalStore:hg,useId:Bg,useHostTransitionStatus:kh,useFormState:Sg,useActionState:Sg,useOptimistic:function(t,n){var s=Ee();return yg(s,Jt,t,n)},useMemoCache:Nh,useCacheRefresh:Pg};Bh.useEffectEvent=Ng;var Qg={readContext:Ye,use:gu,useCallback:Mg,useContext:Ye,useEffect:Mh,useImperativeHandle:Og,useInsertionEffect:Dg,useLayoutEffect:Ig,useMemo:Ug,useReducer:Ih,useRef:xg,useState:function(){return Ih(Hi)},useDebugValue:Uh,useDeferredValue:function(t,n){var s=Ee();return Jt===null?zh(s,t,n):zg(s,Jt.memoizedState,t,n)},useTransition:function(){var t=Ih(Hi)[0],n=Ee().memoizedState;return[typeof t=="boolean"?t:Sl(t),n]},useSyncExternalStore:hg,useId:Bg,useHostTransitionStatus:kh,useFormState:Rg,useActionState:Rg,useOptimistic:function(t,n){var s=Ee();return Jt!==null?yg(s,Jt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Nh,useCacheRefresh:Pg};Qg.useEffectEvent=Ng;function Ph(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:b({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var qh={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Cn(),c=_s(l);c.payload=n,s!=null&&(c.callback=s),n=vs(t,c,l),n!==null&&(pn(n,t,l),El(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Cn(),c=_s(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=vs(t,c,l),n!==null&&(pn(n,t,l),El(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Cn(),l=_s(s);l.tag=2,n!=null&&(l.callback=n),n=vs(t,l,s),n!==null&&(pn(n,t,s),El(n,t,s))}};function Yg(t,n,s,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!fl(s,l)||!fl(c,f):!0}function Xg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&qh.enqueueReplaceState(n,n.state,null)}function ba(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=b({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function Kg(t){$o(t)}function Zg(t){console.error(t)}function $g(t){$o(t)}function Eu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Jg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Hh(t,n,s){return s=_s(s),s.tag=3,s.payload={element:null},s.callback=function(){Eu(t,n)},s}function Wg(t){return t=_s(t),t.tag=3,t}function tp(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Jg(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Jg(n,s,l),typeof c!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function hE(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&sr(n,s,c,!0),s=Sn.current,s!==null){switch(s.tag){case 31:case 13:return Pn===null?Vu():s.alternate===null&&me===0&&(me=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===lu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),gf(t,l,c)),!1;case 22:return s.flags|=65536,l===lu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),gf(t,l,c)),!1}throw Error(r(435,s.tag))}return gf(t,l,c),Vu(),!1}if(zt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==oh&&(t=Error(r(422),{cause:l}),gl(Ln(t,s)))):(l!==oh&&(n=Error(r(423),{cause:l}),gl(Ln(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Ln(l,s),c=Hh(t.stateNode,l,c),vh(t,c),me!==4&&(me=2)),!1;var f=Error(r(520),{cause:l});if(f=Ln(f,s),Ml===null?Ml=[f]:Ml.push(f),me!==4&&(me=2),n===null)return!0;l=Ln(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Hh(s.stateNode,l,t),vh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ws===null||!ws.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Wg(c),tp(c,t,s,l),vh(s,c),!1}s=s.return}while(s!==null);return!1}var Gh=Error(r(461)),Ne=!1;function Xe(t,n,s,l){n.child=t===null?sg(n,null,s,l):Ta(n,t.child,s,l)}function ep(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return ya(n),l=wh(t,n,s,g,f,c),E=Rh(),t!==null&&!Ne?(xh(t,n,c),Gi(t,n,c)):(zt&&E&&rh(n),n.flags|=1,Xe(t,n,l,c),n.child)}function np(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!ih(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,ip(t,n,f,l,c)):(t=eu(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Jh(t,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:fl,s(g,l)&&t.ref===n.ref)return Gi(t,n,c)}return n.flags|=1,t=ki(f,l),t.ref=n.ref,t.return=n,n.child=t}function ip(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(fl(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,Jh(t,c))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,Gi(t,n,c)}return Fh(t,n,s,l,c)}function sp(t,n,s,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return ap(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&au(n,f!==null?f.cachePool:null),f!==null?lg(n,f):Th(),og(n);else return l=n.lanes=536870912,ap(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(au(n,f.cachePool),lg(n,f),Ts(),n.memoizedState=null):(t!==null&&au(n,null),Th(),Ts());return Xe(t,n,c,s),n.child}function xl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ap(t,n,s,l,c){var f=gh();return f=f===null?null:{parent:xe._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&au(n,null),Th(),og(n),t!==null&&sr(t,n,l,!0),n.childLanes=c,null}function Tu(t,n){return n=bu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function rp(t,n,s){return Ta(n,t.child,null,s),t=Tu(n,n.pendingProps),t.flags|=2,wn(n),n.memoizedState=null,t}function fE(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(zt){if(l.mode==="hidden")return t=Tu(n,l),n.lanes=536870912,xl(null,t);if(bh(n),(t=le)?(t=_y(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ds!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},s=Hm(t),s.return=n,n.child=s,Qe=n,le=null)):t=null,t===null)throw gs(n);return n.lanes=536870912,null}return Tu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(bh(n),c)if(n.flags&256)n.flags&=-257,n=rp(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ne||sr(t,n,s,!1),c=(s&t.childLanes)!==0,Ne||c){if(l=ee,l!==null&&(g=Xr(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,da(t,g),pn(l,t,g),Gh;Vu(),n=rp(t,n,s)}else t=f.treeContext,le=qn(g.nextSibling),Qe=n,zt=!0,ms=null,Bn=!1,t!==null&&Qm(n,t),n=Tu(n,l),n.flags|=4096;return n}return t=ki(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Au(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Fh(t,n,s,l,c){return ya(n),s=wh(t,n,s,l,void 0,c),l=Rh(),t!==null&&!Ne?(xh(t,n,c),Gi(t,n,c)):(zt&&l&&rh(n),n.flags|=1,Xe(t,n,s,c),n.child)}function lp(t,n,s,l,c,f){return ya(n),n.updateQueue=null,s=cg(n,l,s,c),ug(t),l=Rh(),t!==null&&!Ne?(xh(t,n,f),Gi(t,n,f)):(zt&&l&&rh(n),n.flags|=1,Xe(t,n,s,f),n.child)}function op(t,n,s,l,c){if(ya(n),n.stateNode===null){var f=tr,g=s.contextType;typeof g=="object"&&g!==null&&(f=Ye(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=qh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},yh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Ye(g):tr,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Ph(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&qh.enqueueReplaceState(f,f.state,null),Al(n,l,f,c),Tl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=ba(s,E);f.props=R;var j=f.context,F=s.contextType;g=tr,typeof F=="object"&&F!==null&&(g=Ye(F));var X=s.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&Xg(n,f,l,g),ys=!1;var B=n.memoizedState;f.state=B,Al(n,l,f,c),Tl(),j=n.memoizedState,E||B!==j||ys?(typeof X=="function"&&(Ph(n,s,X,l),j=n.memoizedState),(R=ys||Yg(n,s,R,l,B,j,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,_h(t,n),g=n.memoizedProps,F=ba(s,g),f.props=F,X=n.pendingProps,B=f.context,j=s.contextType,R=tr,typeof j=="object"&&j!==null&&(R=Ye(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==R)&&Xg(n,f,l,R),ys=!1,B=n.memoizedState,f.state=B,Al(n,l,f,c),Tl();var q=n.memoizedState;g!==X||B!==q||ys||t!==null&&t.dependencies!==null&&iu(t.dependencies)?(typeof E=="function"&&(Ph(n,s,E,l),q=n.memoizedState),(F=ys||Yg(n,s,F,l,B,q,R)||t!==null&&t.dependencies!==null&&iu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=F):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Au(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ta(n,t.child,null,c),n.child=Ta(n,null,s,c)):Xe(t,n,s,c),n.memoizedState=f.state,t=n.child):t=Gi(t,n,c),t}function up(t,n,s,l){return ga(),n.flags|=256,Xe(t,n,s,l),n.child}var Qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yh(t){return{baseLanes:t,cachePool:Jm()}}function Xh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=xn),t}function cp(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(ve.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?Es(n):Ts(),(t=le)?(t=_y(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ds!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},s=Hm(t),s.return=n,n.child=s,Qe=n,le=null)):t=null,t===null)throw gs(n);return If(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(Ts(),c=n.mode,E=bu({mode:"hidden",children:E},c),l=ma(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Yh(s),l.childLanes=Xh(t,g,s),n.memoizedState=Qh,xl(null,l)):(Es(n),Kh(n,E))}var R=t.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Es(n),n.flags&=-257,n=Zh(t,n,s)):n.memoizedState!==null?(Ts(),n.child=t.child,n.flags|=128,n=null):(Ts(),E=l.fallback,c=n.mode,l=bu({mode:"visible",children:l.children},c),E=ma(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Ta(n,t.child,null,s),l=n.child,l.memoizedState=Yh(s),l.childLanes=Xh(t,g,s),n.memoizedState=Qh,n=xl(null,l));else if(Es(n),If(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,l=Error(r(419)),l.stack="",l.digest=g,gl({value:l,source:null,stack:null}),n=Zh(t,n,s)}else if(Ne||sr(t,n,s,!1),g=(s&t.childLanes)!==0,Ne||g){if(g=ee,g!==null&&(l=Xr(g,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,da(t,l),pn(g,t,l),Gh;Df(E)||Vu(),n=Zh(t,n,s)}else Df(E)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,le=qn(E.nextSibling),Qe=n,zt=!0,ms=null,Bn=!1,t!==null&&Qm(n,t),n=Kh(n,l.children),n.flags|=4096);return n}return c?(Ts(),E=l.fallback,c=n.mode,R=t.child,j=R.sibling,l=ki(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,j!==null?E=ki(j,E):(E=ma(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,xl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Yh(s):(c=E.cachePool,c!==null?(R=xe._currentValue,c=c.parent!==R?{parent:R,pool:R}:c):c=Jm(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=Xh(t,g,s),n.memoizedState=Qh,xl(t.child,l)):(Es(n),s=t.child,t=s.sibling,s=ki(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Kh(t,n){return n=bu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function bu(t,n){return t=bn(22,t,null,n),t.lanes=0,t}function Zh(t,n,s){return Ta(n,t.child,null,s),t=Kh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function hp(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),hh(t.return,n,s)}function $h(t,n,s,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function fp(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=ve.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,st(ve,g),Xe(t,n,l,s),l=zt?ml:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hp(t,s,n);else if(t.tag===19)hp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&hu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),$h(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&hu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}$h(n,!0,s,null,f,l);break;case"together":$h(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Gi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ss|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(sr(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=ki(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ki(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Jh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&iu(t)))}function dE(t,n,s){switch(n.tag){case 3:J(n,n.stateNode.containerInfo),ps(n,xe,t.memoizedState.cache),ga();break;case 27:case 5:Bt(n);break;case 4:J(n,n.stateNode.containerInfo);break;case 10:ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,bh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Es(n),n.flags|=128,null):(s&n.child.childLanes)!==0?cp(t,n,s):(Es(n),t=Gi(t,n,s),t!==null?t.sibling:null);Es(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(sr(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return fp(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),st(ve,ve.current),l)break;return null;case 22:return n.lanes=0,sp(t,n,s,n.pendingProps);case 24:ps(n,xe,t.memoizedState.cache)}return Gi(t,n,s)}function dp(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Jh(t,s)&&(n.flags&128)===0)return Ne=!1,dE(t,n,s);Ne=(t.flags&131072)!==0}else Ne=!1,zt&&(n.flags&1048576)!==0&&Fm(n,ml,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=va(n.elementType),n.type=t,typeof t=="function")ih(t)?(l=ba(t,l),n.tag=1,n=op(null,n,t,l,s)):(n.tag=0,n=Fh(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===yt){n.tag=11,n=ep(null,n,t,l,s);break t}else if(c===C){n.tag=14,n=np(null,n,t,l,s);break t}}throw n=ie(t)||t,Error(r(306,n,""))}}return n;case 0:return Fh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=ba(l,n.pendingProps),op(t,n,l,c,s);case 3:t:{if(J(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,_h(t,n),Al(n,l,null,s);var g=n.memoizedState;if(l=g.cache,ps(n,xe,l),l!==f.cache&&fh(n,[xe],s,!0),Tl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=up(t,n,l,s);break t}else if(l!==c){c=Ln(Error(r(424)),n),gl(c),n=up(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=qn(t.firstChild),Qe=n,zt=!0,ms=null,Bn=!0,s=sg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ga(),l===c){n=Gi(t,n,s);break t}Xe(t,n,l,s)}n=n.child}return n;case 26:return Au(t,n),t===null?(s=Sy(n.type,null,n.pendingProps,null))?n.memoizedState=s:zt||(s=n.type,t=n.pendingProps,l=ju(bt.current).createElement(s),l[Se]=n,l[Be]=t,Ke(l,s,t),we(l),n.stateNode=l):n.memoizedState=Sy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Bt(n),t===null&&zt&&(l=n.stateNode=Ty(n.type,n.pendingProps,bt.current),Qe=n,Bn=!0,c=le,Ns(n.type)?(Vf=c,le=qn(l.firstChild)):le=c),Xe(t,n,n.pendingProps.children,s),Au(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((c=l=le)&&(l=HE(l,n.type,n.pendingProps,Bn),l!==null?(n.stateNode=l,Qe=n,le=qn(l.firstChild),Bn=!1,c=!0):c=!1),c||gs(n)),Bt(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,xf(c,f)?l=null:g!==null&&xf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=wh(t,n,sE,null,null,s),ql._currentValue=c),Au(t,n),Xe(t,n,l,s),n.child;case 6:return t===null&&zt&&((t=s=le)&&(s=GE(s,n.pendingProps,Bn),s!==null?(n.stateNode=s,Qe=n,le=null,t=!0):t=!1),t||gs(n)),null;case 13:return cp(t,n,s);case 4:return J(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ta(n,null,l,s):Xe(t,n,l,s),n.child;case 11:return ep(t,n,n.type,n.pendingProps,s);case 7:return Xe(t,n,n.pendingProps,s),n.child;case 8:return Xe(t,n,n.pendingProps.children,s),n.child;case 12:return Xe(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,ps(n,n.type,l.value),Xe(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ya(n),c=Ye(c),l=l(c),n.flags|=1,Xe(t,n,l,s),n.child;case 14:return np(t,n,n.type,n.pendingProps,s);case 15:return ip(t,n,n.type,n.pendingProps,s);case 19:return fp(t,n,s);case 31:return fE(t,n,s);case 22:return sp(t,n,s,n.pendingProps);case 24:return ya(n),l=Ye(xe),t===null?(c=gh(),c===null&&(c=ee,f=dh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},yh(n),ps(n,xe,c)):((t.lanes&s)!==0&&(_h(t,n),Al(n,null,null,s),Tl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ps(n,xe,l)):(l=f.cache,ps(n,xe,l),l!==c.cache&&fh(n,[xe],s,!0))),Xe(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Fi(t){t.flags|=4}function Wh(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Bp())t.flags|=8192;else throw Ea=lu,ph}else t.flags&=-16777217}function mp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ny(n))if(Bp())t.flags|=8192;else throw Ea=lu,ph}function Su(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Do():536870912,t.lanes|=n,pr|=n)}function Cl(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function oe(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function mE(t,n,s){var l=n.pendingProps;switch(lh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(n),null;case 1:return oe(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Pi(xe),ft(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ir(n)?Fi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,uh())),oe(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Fi(n),f!==null?(oe(n),mp(n,f)):(oe(n),Wh(n,c,null,l,s))):f?f!==t.memoizedState?(Fi(n),oe(n),mp(n,f)):(oe(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Fi(n),oe(n),Wh(n,c,t,l,s)),null;case 27:if(Zt(n),s=bt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Fi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return oe(n),null}t=rt.current,ir(n)?Ym(n):(t=Ty(c,l,s),n.stateNode=t,Fi(n))}return oe(n),null;case 5:if(Zt(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Fi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return oe(n),null}if(f=rt.current,ir(n))Ym(n);else{var g=ju(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[Se]=n,f[Be]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ke(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Fi(n)}}return oe(n),Wh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Fi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=bt.current,ir(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=Qe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Se]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||cy(t.nodeValue,s)),t||gs(n,!0)}else t=ju(t).createTextNode(l),t[Se]=n,n.stateNode=t}return oe(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=ir(n),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Se]=n}else ga(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),t=!1}else s=uh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(wn(n),n):(wn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return oe(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ir(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Se]=n}else ga(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),c=!1}else c=uh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(wn(n),n):(wn(n),null)}return wn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Su(n,n.updateQueue),oe(n),null);case 4:return ft(),t===null&&Af(n.stateNode.containerInfo),oe(n),null;case 10:return Pi(n.type),oe(n),null;case 19:if(Y(ve),l=n.memoizedState,l===null)return oe(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Cl(l,!1);else{if(me!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=hu(t),f!==null){for(n.flags|=128,Cl(l,!1),t=f.updateQueue,n.updateQueue=t,Su(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)qm(s,t),s=s.sibling;return st(ve,ve.current&1|2),zt&&ji(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&rn()>Nu&&(n.flags|=128,c=!0,Cl(l,!1),n.lanes=4194304)}else{if(!c)if(t=hu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,Su(n,t),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!zt)return oe(n),null}else 2*rn()-l.renderingStartTime>Nu&&s!==536870912&&(n.flags|=128,c=!0,Cl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,s=ve.current,st(ve,c?s&1|2:s&1),zt&&ji(n,l.treeForkCount),t):(oe(n),null);case 22:case 23:return wn(n),Ah(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(oe(n),n.subtreeFlags&6&&(n.flags|=8192)):oe(n),s=n.updateQueue,s!==null&&Su(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Y(_a),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Pi(xe),oe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function gE(t,n){switch(lh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Pi(xe),ft(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Zt(n),null;case 31:if(n.memoizedState!==null){if(wn(n),n.alternate===null)throw Error(r(340));ga()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(wn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ga()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(ve),null;case 4:return ft(),null;case 10:return Pi(n.type),null;case 22:case 23:return wn(n),Ah(),t!==null&&Y(_a),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Pi(xe),null;case 25:return null;default:return null}}function gp(t,n){switch(lh(n),n.tag){case 3:Pi(xe),ft();break;case 26:case 27:case 5:Zt(n);break;case 4:ft();break;case 31:n.memoizedState!==null&&wn(n);break;case 13:wn(n);break;case 19:Y(ve);break;case 10:Pi(n.type);break;case 22:case 23:wn(n),Ah(),t!==null&&Y(_a);break;case 24:Pi(xe)}}function Nl(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==c)}}catch(E){Kt(n,n.return,E)}}function As(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var R=s,j=E;try{j()}catch(F){Kt(c,R,F)}}}l=l.next}while(l!==f)}}catch(F){Kt(n,n.return,F)}}function pp(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{rg(n,s)}catch(l){Kt(t,t.return,l)}}}function yp(t,n,s){s.props=ba(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Kt(t,n,l)}}function Dl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){Kt(t,n,c)}}function bi(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Kt(t,n,c)}else s.current=null}function _p(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Kt(t,t.return,c)}}function tf(t,n,s){try{var l=t.stateNode;LE(l,t.type,s,n),l[Be]=n}catch(c){Kt(t,t.return,c)}}function vp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ns(t.type)||t.tag===4}function ef(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||vp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ns(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Kn));else if(l!==4&&(l===27&&Ns(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(nf(t,n,s),t=t.sibling;t!==null;)nf(t,n,s),t=t.sibling}function wu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Ns(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(wu(t,n,s),t=t.sibling;t!==null;)wu(t,n,s),t=t.sibling}function Ep(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ke(n,l,s),n[Se]=t,n[Be]=s}catch(f){Kt(t,t.return,f)}}var Qi=!1,De=!1,sf=!1,Tp=typeof WeakSet=="function"?WeakSet:Set,qe=null;function pE(t,n){if(t=t.containerInfo,wf=Qu,t=Om(t),Zc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,j=0,F=0,X=t,B=null;e:for(;;){for(var q;X!==s||c!==0&&X.nodeType!==3||(E=g+c),X!==f||l!==0&&X.nodeType!==3||(R=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(q=X.firstChild)!==null;)B=X,X=q;for(;;){if(X===t)break e;if(B===s&&++j===c&&(E=g),B===f&&++F===l&&(R=g),(q=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=q}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Rf={focusedElem:t,selectionRange:s},Qu=!1,qe=n;qe!==null;)if(n=qe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,qe=t;else for(;qe!==null;){switch(n=qe,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ot=ba(s.type,c);t=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pt){Kt(s,s.return,pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Nf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,qe=t;break}qe=n.return}}function Ap(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Xi(t,s),l&4&&Nl(5,s);break;case 1:if(Xi(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){Kt(s,s.return,g)}else{var c=ba(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(s,s.return,g)}}l&64&&pp(s),l&512&&Dl(s,s.return);break;case 3:if(Xi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{rg(t,n)}catch(g){Kt(s,s.return,g)}}break;case 27:n===null&&l&4&&Ep(s);case 26:case 5:Xi(t,s),n===null&&l&4&&_p(s),l&512&&Dl(s,s.return);break;case 12:Xi(t,s);break;case 31:Xi(t,s),l&4&&wp(t,s);break;case 13:Xi(t,s),l&4&&Rp(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=wE.bind(null,s),FE(t,s))));break;case 22:if(l=s.memoizedState!==null||Qi,!l){n=n!==null&&n.memoizedState!==null||De,c=Qi;var f=De;Qi=l,(De=n)&&!f?Ki(t,s,(s.subtreeFlags&8772)!==0):Xi(t,s),Qi=c,De=f}break;case 30:break;default:Xi(t,s)}}function bp(t){var n=t.alternate;n!==null&&(t.alternate=null,bp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ba(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var he=null,fn=!1;function Yi(t,n,s){for(s=s.child;s!==null;)Sp(t,n,s),s=s.sibling}function Sp(t,n,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Fn,s)}catch{}switch(s.tag){case 26:De||bi(s,n),Yi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:De||bi(s,n);var l=he,c=fn;Ns(s.type)&&(he=s.stateNode,fn=!1),Yi(t,n,s),jl(s.stateNode),he=l,fn=c;break;case 5:De||bi(s,n);case 6:if(l=he,c=fn,he=null,Yi(t,n,s),he=l,fn=c,he!==null)if(fn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(s.stateNode)}catch(f){Kt(s,n,f)}else try{he.removeChild(s.stateNode)}catch(f){Kt(s,n,f)}break;case 18:he!==null&&(fn?(t=he,py(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Sr(t)):py(he,s.stateNode));break;case 4:l=he,c=fn,he=s.stateNode.containerInfo,fn=!0,Yi(t,n,s),he=l,fn=c;break;case 0:case 11:case 14:case 15:As(2,s,n),De||As(4,s,n),Yi(t,n,s);break;case 1:De||(bi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&yp(s,n,l)),Yi(t,n,s);break;case 21:Yi(t,n,s);break;case 22:De=(l=De)||s.memoizedState!==null,Yi(t,n,s),De=l;break;default:Yi(t,n,s)}}function wp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Sr(t)}catch(s){Kt(n,n.return,s)}}}function Rp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Sr(t)}catch(s){Kt(n,n.return,s)}}function yE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Tp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Tp),n;default:throw Error(r(435,t.tag))}}function Ru(t,n){var s=yE(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=RE.bind(null,t,l);l.then(c,c)}})}function dn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ns(E.type)){he=E.stateNode,fn=!1;break t}break;case 5:he=E.stateNode,fn=!1;break t;case 3:case 4:he=E.stateNode.containerInfo,fn=!0;break t}E=E.return}if(he===null)throw Error(r(160));Sp(f,g,c),he=null,fn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)xp(n,t),n=n.sibling}var ei=null;function xp(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(n,t),mn(t),l&4&&(As(3,t,t.return),Nl(3,t),As(5,t,t.return));break;case 1:dn(n,t),mn(t),l&512&&(De||s===null||bi(s,s.return)),l&64&&Qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=ei;if(dn(n,t),mn(t),l&512&&(De||s===null||bi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ui]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ke(f,l,s),f[Se]=t,we(f),l=f;break t;case"link":var g=xy("link","href",c).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),Ke(f,l,s),c.head.appendChild(f);break;case"meta":if(g=xy("meta","content",c).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=c.createElement(l),Ke(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[Se]=t,we(f),l=f}t.stateNode=l}else Cy(c,t.type,t.stateNode);else t.stateNode=Ry(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Cy(c,t.type,t.stateNode):Ry(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&tf(t,t.memoizedProps,s.memoizedProps)}break;case 27:dn(n,t),mn(t),l&512&&(De||s===null||bi(s,s.return)),s!==null&&l&4&&tf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(dn(n,t),mn(t),l&512&&(De||s===null||bi(s,s.return)),t.flags&32){c=t.stateNode;try{hn(c,"")}catch(ot){Kt(t,t.return,ot)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,tf(t,c,s!==null?s.memoizedProps:c)),l&1024&&(sf=!0);break;case 6:if(dn(n,t),mn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ot){Kt(t,t.return,ot)}}break;case 3:if(qu=null,c=ei,ei=Bu(n.containerInfo),dn(n,t),ei=c,mn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Sr(n.containerInfo)}catch(ot){Kt(t,t.return,ot)}sf&&(sf=!1,Cp(t));break;case 4:l=ei,ei=Bu(t.stateNode.containerInfo),dn(n,t),mn(t),ei=l;break;case 12:dn(n,t),mn(t);break;case 31:dn(n,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ru(t,l)));break;case 13:dn(n,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Cu=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ru(t,l)));break;case 22:c=t.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,j=Qi,F=De;if(Qi=j||c,De=F||R,dn(n,t),De=F,Qi=j,mn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||R||Qi||De||Sa(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ot){Kt(R,R.return,ot)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(ot){Kt(R,R.return,ot)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;c?yy(q,!0):yy(R.stateNode,!1)}catch(ot){Kt(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ru(t,s))));break;case 19:dn(n,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ru(t,l)));break;case 30:break;case 21:break;default:dn(n,t),mn(t)}}function mn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(vp(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=ef(t);wu(t,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(hn(g,""),s.flags&=-33);var E=ef(t);wu(t,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,j=ef(t);nf(t,j,R);break;default:throw Error(r(161))}}catch(F){Kt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Cp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Cp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Xi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ap(t,n.alternate,n),n=n.sibling}function Sa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:As(4,n,n.return),Sa(n);break;case 1:bi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&yp(n,n.return,s),Sa(n);break;case 27:jl(n.stateNode);case 26:case 5:bi(n,n.return),Sa(n);break;case 22:n.memoizedState===null&&Sa(n);break;case 30:Sa(n);break;default:Sa(n)}t=t.sibling}}function Ki(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(c,f,s),Nl(4,f);break;case 1:if(Ki(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(j){Kt(l,l.return,j)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)ag(R[c],E)}catch(j){Kt(l,l.return,j)}}s&&g&64&&pp(f),Dl(f,f.return);break;case 27:Ep(f);case 26:case 5:Ki(c,f,s),s&&l===null&&g&4&&_p(f),Dl(f,f.return);break;case 12:Ki(c,f,s);break;case 31:Ki(c,f,s),s&&g&4&&wp(c,f);break;case 13:Ki(c,f,s),s&&g&4&&Rp(c,f);break;case 22:f.memoizedState===null&&Ki(c,f,s),Dl(f,f.return);break;case 30:break;default:Ki(c,f,s)}n=n.sibling}}function af(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&pl(s))}function rf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&pl(t))}function ni(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Np(t,n,s,l),n=n.sibling}function Np(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ni(t,n,s,l),c&2048&&Nl(9,n);break;case 1:ni(t,n,s,l);break;case 3:ni(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&pl(t)));break;case 12:if(c&2048){ni(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Kt(n,n.return,R)}}else ni(t,n,s,l);break;case 31:ni(t,n,s,l);break;case 13:ni(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ni(t,n,s,l):Il(t,n):f._visibility&2?ni(t,n,s,l):(f._visibility|=2,dr(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&af(g,n);break;case 24:ni(t,n,s,l),c&2048&&rf(n.alternate,n);break;default:ni(t,n,s,l)}}function dr(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=s,R=l,j=g.flags;switch(g.tag){case 0:case 11:case 15:dr(f,g,E,R,c),Nl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?dr(f,g,E,R,c):Il(f,g):(F._visibility|=2,dr(f,g,E,R,c)),c&&j&2048&&af(g.alternate,g);break;case 24:dr(f,g,E,R,c),c&&j&2048&&rf(g.alternate,g);break;default:dr(f,g,E,R,c)}n=n.sibling}}function Il(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Il(s,l),c&2048&&af(l.alternate,l);break;case 24:Il(s,l),c&2048&&rf(l.alternate,l);break;default:Il(s,l)}n=n.sibling}}var Vl=8192;function mr(t,n,s){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)Dp(t,n,s),t=t.sibling}function Dp(t,n,s){switch(t.tag){case 26:mr(t,n,s),t.flags&Vl&&t.memoizedState!==null&&iT(s,ei,t.memoizedState,t.memoizedProps);break;case 5:mr(t,n,s);break;case 3:case 4:var l=ei;ei=Bu(t.stateNode.containerInfo),mr(t,n,s),ei=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Vl,Vl=16777216,mr(t,n,s),Vl=l):mr(t,n,s));break;default:mr(t,n,s)}}function Ip(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ol(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];qe=l,Op(l,t)}Ip(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vp(t),t=t.sibling}function Vp(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&As(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,xu(t)):Ol(t);break;default:Ol(t)}}function xu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];qe=l,Op(l,t)}Ip(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:As(8,n,n.return),xu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,xu(n));break;default:xu(n)}t=t.sibling}}function Op(t,n){for(;qe!==null;){var s=qe;switch(s.tag){case 0:case 11:case 15:As(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,qe=l;else t:for(s=t;qe!==null;){l=qe;var c=l.sibling,f=l.return;if(bp(l),l===s){qe=null;break t}if(c!==null){c.return=f,qe=c;break t}qe=f}}}var _E={getCacheForType:function(t){var n=Ye(xe),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Ye(xe).controller.signal}},vE=typeof WeakMap=="function"?WeakMap:Map,Ft=0,ee=null,Ct=null,It=0,Xt=0,Rn=null,bs=!1,gr=!1,lf=!1,Zi=0,me=0,Ss=0,wa=0,of=0,xn=0,pr=0,Ml=null,gn=null,uf=!1,Cu=0,Mp=0,Nu=1/0,Du=null,ws=null,Le=0,Rs=null,yr=null,$i=0,cf=0,hf=null,Up=null,Ul=0,ff=null;function Cn(){return(Ft&2)!==0&&It!==0?It&-It:G.T!==null?_f():Io()}function zp(){if(xn===0)if((It&536870912)===0||zt){var t=Js;Js<<=1,(Js&3932160)===0&&(Js=262144),xn=t}else xn=536870912;return t=Sn.current,t!==null&&(t.flags|=32),xn}function pn(t,n,s){(t===ee&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)&&(_r(t,0),xs(t,It,xn,!1)),Ws(t,s),((Ft&2)===0||t!==ee)&&(t===ee&&((Ft&2)===0&&(wa|=s),me===4&&xs(t,It,xn,!1)),Si(t))}function Lp(t,n,s){if((Ft&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Qn(t,n),c=l?AE(t,n):mf(t,n,!0),f=l;do{if(c===0){gr&&!l&&xs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!EE(s)){c=mf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Ml;var R=E.current.memoizedState.isDehydrated;if(R&&(_r(E,g).flags|=256),g=mf(E,g,!1),g!==2){if(lf&&!R){E.errorRecoveryDisabledLanes|=f,wa|=f,c=4;break t}f=gn,gn=c,f!==null&&(gn===null?gn=f:gn.push.apply(gn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){_r(t,0),xs(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:xs(l,n,xn,!bs);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Cu+300-rn(),10<c)){if(xs(l,n,xn,!bs),ri(l,0,!0)!==0)break t;$i=n,l.timeoutHandle=my(kp.bind(null,l,s,gn,Du,uf,n,xn,wa,pr,bs,f,"Throttled",-0,0),c);break t}kp(l,s,gn,Du,uf,n,xn,wa,pr,bs,f,null,-0,0)}}break}while(!0);Si(t)}function kp(t,n,s,l,c,f,g,E,R,j,F,X,B,q){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},Dp(n,f,X);var ot=(f&62914560)===f?Cu-rn():(f&4194048)===f?Mp-rn():0;if(ot=sT(X,ot),ot!==null){$i=f,t.cancelPendingCommit=ot(Qp.bind(null,t,n,f,s,l,c,g,E,R,F,X,null,B,q)),xs(t,f,g,!j);return}}Qp(t,n,f,s,l,c,g,E,R)}function EE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!An(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xs(t,n,s,l){n&=~of,n&=~wa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ye(c),g=1<<f;l[f]=-1,c&=~g}s!==0&&ta(t,s,n)}function Iu(){return(Ft&6)===0?(zl(0),!1):!0}function df(){if(Ct!==null){if(Xt===0)var t=Ct.return;else t=Ct,Bi=pa=null,Ch(t),or=null,_l=0,t=Ct;for(;t!==null;)gp(t.alternate,t),t=t.return;Ct=null}}function _r(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,BE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),$i=0,df(),ee=t,Ct=s=ki(t.current,null),It=n,Xt=0,Rn=null,bs=!1,gr=Qn(t,n),lf=!1,pr=xn=of=wa=Ss=me=0,gn=Ml=null,uf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ye(l),f=1<<c;n|=t[c],l&=~f}return Zi=n,Jo(),s}function jp(t,n){wt=null,G.H=Rl,n===lr||n===ru?(n=eg(),Xt=3):n===ph?(n=eg(),Xt=4):Xt=n===Gh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,Ct===null&&(me=1,Eu(t,Ln(n,t.current)))}function Bp(){var t=Sn.current;return t===null?!0:(It&4194048)===It?Pn===null:(It&62914560)===It||(It&536870912)!==0?t===Pn:!1}function Pp(){var t=G.H;return G.H=Rl,t===null?Rl:t}function qp(){var t=G.A;return G.A=_E,t}function Vu(){me=4,bs||(It&4194048)!==It&&Sn.current!==null||(gr=!0),(Ss&134217727)===0&&(wa&134217727)===0||ee===null||xs(ee,It,xn,!1)}function mf(t,n,s){var l=Ft;Ft|=2;var c=Pp(),f=qp();(ee!==t||It!==n)&&(Du=null,_r(t,n)),n=!1;var g=me;t:do try{if(Xt!==0&&Ct!==null){var E=Ct,R=Rn;switch(Xt){case 8:df(),g=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var j=Xt;if(Xt=0,Rn=null,vr(t,E,R,j),s&&gr){g=0;break t}break;default:j=Xt,Xt=0,Rn=null,vr(t,E,R,j)}}TE(),g=me;break}catch(F){jp(t,F)}while(!0);return n&&t.shellSuspendCounter++,Bi=pa=null,Ft=l,G.H=c,G.A=f,Ct===null&&(ee=null,It=0,Jo()),g}function TE(){for(;Ct!==null;)Hp(Ct)}function AE(t,n){var s=Ft;Ft|=2;var l=Pp(),c=qp();ee!==t||It!==n?(Du=null,Nu=rn()+500,_r(t,n)):gr=Qn(t,n);t:do try{if(Xt!==0&&Ct!==null){n=Ct;var f=Rn;e:switch(Xt){case 1:Xt=0,Rn=null,vr(t,n,f,1);break;case 2:case 9:if(Wm(f)){Xt=0,Rn=null,Gp(n);break}n=function(){Xt!==2&&Xt!==9||ee!==t||(Xt=7),Si(t)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Wm(f)?(Xt=0,Rn=null,Gp(n)):(Xt=0,Rn=null,vr(t,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?Ny(g):E.stateNode.complete){Xt=0,Rn=null;var R=E.sibling;if(R!==null)Ct=R;else{var j=E.return;j!==null?(Ct=j,Ou(j)):Ct=null}break e}}Xt=0,Rn=null,vr(t,n,f,5);break;case 6:Xt=0,Rn=null,vr(t,n,f,6);break;case 8:df(),me=6;break t;default:throw Error(r(462))}}bE();break}catch(F){jp(t,F)}while(!0);return Bi=pa=null,G.H=l,G.A=c,Ft=s,Ct!==null?0:(ee=null,It=0,Jo(),me)}function bE(){for(;Ct!==null&&!Hc();)Hp(Ct)}function Hp(t){var n=dp(t.alternate,t,Zi);t.memoizedProps=t.pendingProps,n===null?Ou(t):Ct=n}function Gp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=lp(s,n,n.pendingProps,n.type,void 0,It);break;case 11:n=lp(s,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:Ch(n);default:gp(s,n),n=Ct=qm(n,Zi),n=dp(s,n,Zi)}t.memoizedProps=t.pendingProps,n===null?Ou(t):Ct=n}function vr(t,n,s,l){Bi=pa=null,Ch(n),or=null,_l=0;var c=n.return;try{if(hE(t,c,n,s,It)){me=1,Eu(t,Ln(s,t.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;me=1,Eu(t,Ln(s,t.current)),Ct=null;return}n.flags&32768?(zt||l===1?t=!0:gr||(It&536870912)!==0?t=!1:(bs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fp(n,t)):Ou(n)}function Ou(t){var n=t;do{if((n.flags&32768)!==0){Fp(n,bs);return}t=n.return;var s=mE(n.alternate,n,Zi);if(s!==null){Ct=s;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);me===0&&(me=5)}function Fp(t,n){do{var s=gE(t.alternate,t);if(s!==null){s.flags&=32767,Ct=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=s}while(t!==null);me=6,Ct=null}function Qp(t,n,s,l,c,f,g,E,R){t.cancelPendingCommit=null;do Mu();while(Le!==0);if((Ft&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=eh,Qc(t,s,f,g,E,R),t===ee&&(Ct=ee=null,It=0),yr=n,Rs=t,$i=s,cf=f,hf=c,Up=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,xE(is,function(){return $p(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=it.p,it.p=2,g=Ft,Ft|=4;try{pE(t,n,s)}finally{Ft=g,it.p=c,G.T=l}}Le=1,Yp(),Xp(),Kp()}}function Yp(){if(Le===1){Le=0;var t=Rs,n=yr,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=it.p;it.p=2;var c=Ft;Ft|=4;try{xp(n,t);var f=Rf,g=Om(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Vm(E.ownerDocument.documentElement,E)){if(R!==null&&Zc(E)){var j=R.start,F=R.end;if(F===void 0&&(F=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var q=B.getSelection(),ot=E.textContent.length,pt=Math.min(R.start,ot),te=R.end===void 0?pt:Math.min(R.end,ot);!q.extend&&pt>te&&(g=te,te=pt,pt=g);var U=Im(E,pt),D=Im(E,te);if(U&&D&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var k=X.createRange();k.setStart(U.node,U.offset),q.removeAllRanges(),pt>te?(q.addRange(k),q.extend(D.node,D.offset)):(k.setEnd(D.node,D.offset),q.addRange(k))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Qu=!!wf,Rf=wf=null}finally{Ft=c,it.p=l,G.T=s}}t.current=n,Le=2}}function Xp(){if(Le===2){Le=0;var t=Rs,n=yr,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=it.p;it.p=2;var c=Ft;Ft|=4;try{Ap(t,n.alternate,n)}finally{Ft=c,it.p=l,G.T=s}}Le=3}}function Kp(){if(Le===4||Le===3){Le=0,So();var t=Rs,n=yr,s=$i,l=Up;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,yr=Rs=null,Zp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ws=null),Mi(s),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Fn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=it.p,it.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,it.p=c}}($i&3)!==0&&Mu(),Si(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===ff?Ul++:(Ul=0,ff=t):Ul=0,zl(0)}}function Zp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,pl(n)))}function Mu(){return Yp(),Xp(),Kp(),$p()}function $p(){if(Le!==5)return!1;var t=Rs,n=cf;cf=0;var s=Mi($i),l=G.T,c=it.p;try{it.p=32>s?32:s,G.T=null,s=hf,hf=null;var f=Rs,g=$i;if(Le=0,yr=Rs=null,$i=0,(Ft&6)!==0)throw Error(r(331));var E=Ft;if(Ft|=4,Vp(f.current),Np(f,f.current,g,s),Ft=E,zl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Fn,f)}catch{}return!0}finally{it.p=c,G.T=l,Zp(t,n)}}function Jp(t,n,s){n=Ln(s,n),n=Hh(t.stateNode,n,2),t=vs(t,n,2),t!==null&&(Ws(t,2),Si(t))}function Kt(t,n,s){if(t.tag===3)Jp(t,t,s);else for(;n!==null;){if(n.tag===3){Jp(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ws===null||!ws.has(l))){t=Ln(s,t),s=Wg(2),l=vs(n,s,2),l!==null&&(tp(s,l,n,t),Ws(l,2),Si(l));break}}n=n.return}}function gf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new vE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(lf=!0,c.add(s),t=SE.bind(null,t,n,s),n.then(t,t))}function SE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ee===t&&(It&s)===s&&(me===4||me===3&&(It&62914560)===It&&300>rn()-Cu?(Ft&2)===0&&_r(t,0):of|=s,pr===It&&(pr=0)),Si(t)}function Wp(t,n){n===0&&(n=Do()),t=da(t,n),t!==null&&(Ws(t,n),Si(t))}function wE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Wp(t,s)}function RE(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Wp(t,s)}function xE(t,n){return ze(t,n)}var Uu=null,Er=null,pf=!1,zu=!1,yf=!1,Cs=0;function Si(t){t!==Er&&t.next===null&&(Er===null?Uu=Er=t:Er=Er.next=t),zu=!0,pf||(pf=!0,NE())}function zl(t,n){if(!yf&&zu){yf=!0;do for(var s=!1,l=Uu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ye(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,iy(l,f))}else f=It,f=ri(l,l===ee?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Qn(l,f)||(s=!0,iy(l,f));l=l.next}while(s);yf=!1}}function CE(){ty()}function ty(){zu=pf=!1;var t=0;Cs!==0&&jE()&&(t=Cs);for(var n=rn(),s=null,l=Uu;l!==null;){var c=l.next,f=ey(l,n);f===0?(l.next=null,s===null?Uu=c:s.next=c,c===null&&(Er=s)):(s=l,(t!==0||(f&3)!==0)&&(zu=!0)),l=c}Le!==0&&Le!==5||zl(t),Cs!==0&&(Cs=0)}function ey(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ye(f),E=1<<g,R=c[g];R===-1?((E&s)===0||(E&l)!==0)&&(c[g]=Fc(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=ee,s=It,s=ri(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ns(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Qn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&ns(l),Mi(s)){case 2:case 8:s=Qr;break;case 32:s=is;break;case 268435456:s=wo;break;default:s=is}return l=ny.bind(null,t),s=ze(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&ns(l),t.callbackPriority=2,t.callbackNode=null,2}function ny(t,n){if(Le!==0&&Le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Mu()&&t.callbackNode!==s)return null;var l=It;return l=ri(t,t===ee?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Lp(t,l,n),ey(t,rn()),t.callbackNode!=null&&t.callbackNode===s?ny.bind(null,t):null)}function iy(t,n){if(Mu())return null;Lp(t,n,!0)}function NE(){PE(function(){(Ft&6)!==0?ze(Fr,CE):ty()})}function _f(){if(Cs===0){var t=ar;t===0&&(t=si,si<<=1,(si&261888)===0&&(si=256)),Cs=t}return Cs}function sy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ga(""+t)}function ay(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function DE(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=sy((c[Be]||null).action),g=l.submitter;g&&(n=(n=g[Be]||null)?sy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new yi("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Cs!==0){var R=g?ay(c,g):new FormData(c);Lh(s,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?ay(c,g):new FormData(c),Lh(s,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var vf=0;vf<th.length;vf++){var Ef=th[vf],IE=Ef.toLowerCase(),VE=Ef[0].toUpperCase()+Ef.slice(1);ti(IE,"on"+VE)}ti(zm,"onAnimationEnd"),ti(Lm,"onAnimationIteration"),ti(km,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(X1,"onTransitionRun"),ti(K1,"onTransitionStart"),ti(Z1,"onTransitionCancel"),ti(jm,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function ry(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],R=E.instance,j=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(F){$o(F)}c.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(E=l[g],R=E.instance,j=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(F){$o(F)}c.currentTarget=null,f=R}}}}function Nt(t,n){var s=n[ja];s===void 0&&(s=n[ja]=new Set);var l=t+"__bubble";s.has(l)||(ly(n,t,2,!1),s.add(l))}function Tf(t,n,s){var l=0;n&&(l|=4),ly(s,t,l,n)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function Af(t){if(!t[Lu]){t[Lu]=!0,Kr.forEach(function(s){s!=="selectionchange"&&(OE.has(s)||Tf(s,!1,t),Tf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Lu]||(n[Lu]=!0,Tf("selectionchange",!1,n))}}function ly(t,n,s,l){switch(zy(n)){case 2:var c=lT;break;case 8:c=oT;break;default:c=Lf}s=c.bind(null,n,s,t),c=void 0,!aa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function bf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ci(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue t}E=E.parentNode}}l=l.return}us(function(){var j=f,F=On(s),X=[];t:{var B=Bm.get(t);if(B!==void 0){var q=yi,ot=t;switch(t){case"keypress":if(la(s)===0)break t;case"keydown":case"keyup":q=Xo;break;case"focusin":ot="focus",q=ua;break;case"focusout":ot="blur",q=ua;break;case"beforeblur":case"afterblur":q=ua;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=jo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case zm:case Lm:case km:q=Po;break;case jm:q=T;break;case"scroll":case"scrollend":q=ll;break;case"wheel":q=P;break;case"copy":case"cut":case"paste":q=qo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Li;break;case"toggle":case"beforetoggle":q=St}var pt=(n&4)!==0,te=!pt&&(t==="scroll"||t==="scrollend"),U=pt?B!==null?B+"Capture":null:B;pt=[];for(var D=j,k;D!==null;){var Q=D;if(k=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||k===null||U===null||(Q=Zn(D,U),Q!=null&&pt.push(kl(D,Q,k))),te)break;D=D.return}0<pt.length&&(B=new q(B,ot,null,s,F),X.push({event:B,listeners:pt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&s!==sl&&(ot=s.relatedTarget||s.fromElement)&&(ci(ot)||ot[oi]))break t;if((q||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,q?(ot=s.relatedTarget||s.toElement,q=j,ot=ot?ci(ot):null,ot!==null&&(te=h(ot),pt=ot.tag,ot!==te||pt!==5&&pt!==27&&pt!==6)&&(ot=null)):(q=null,ot=j),q!==ot)){if(pt=ol,Q="onMouseLeave",U="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(pt=Li,Q="onPointerLeave",U="onPointerEnter",D="pointer"),te=q==null?B:En(q),k=ot==null?B:En(ot),B=new pt(Q,D+"leave",q,s,F),B.target=te,B.relatedTarget=k,Q=null,ci(F)===j&&(pt=new pt(U,D+"enter",ot,s,F),pt.target=k,pt.relatedTarget=te,Q=pt),te=Q,q&&ot)e:{for(pt=ME,U=q,D=ot,k=0,Q=U;Q;Q=pt(Q))k++;Q=0;for(var dt=D;dt;dt=pt(dt))Q++;for(;0<k-Q;)U=pt(U),k--;for(;0<Q-k;)D=pt(D),Q--;for(;k--;){if(U===D||D!==null&&U===D.alternate){pt=U;break e}U=pt(U),D=pt(D)}pt=null}else pt=null;q!==null&&oy(X,B,q,pt,!1),ot!==null&&te!==null&&oy(X,te,ot,pt,!0)}}t:{if(B=j?En(j):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var Pt=wm;else if(bm(B))if(Rm)Pt=F1;else{Pt=H1;var ct=q1}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&Ha(j.elementType)&&(Pt=wm):Pt=G1;if(Pt&&(Pt=Pt(t,j))){Sm(X,Pt,s,F);break t}ct&&ct(t,B,j),t==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&el(B,"number",B.value)}switch(ct=j?En(j):window,t){case"focusin":(bm(ct)||ct.contentEditable==="true")&&($a=ct,$c=j,dl=null);break;case"focusout":dl=$c=$a=null;break;case"mousedown":Jc=!0;break;case"contextmenu":case"mouseup":case"dragend":Jc=!1,Mm(X,s,F);break;case"selectionchange":if(Y1)break;case"keydown":case"keyup":Mm(X,s,F)}var xt;if(Gt)t:{switch(t){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else Za?ca(t,s)&&(Vt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Vt="onCompositionStart");Vt&&(Ei&&s.locale!=="ko"&&(Za||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Za&&(xt=rl()):(pi=F,al="value"in pi?pi.value:pi.textContent,Za=!0)),ct=ku(j,Vt),0<ct.length&&(Vt=new vi(Vt,t,null,s,F),X.push({event:Vt,listeners:ct}),xt?Vt.data=xt:(xt=Ka(s),xt!==null&&(Vt.data=xt)))),(xt=Un?k1(t,s):j1(t,s))&&(Vt=ku(j,"onBeforeInput"),0<Vt.length&&(ct=new vi("onBeforeInput","beforeinput",null,s,F),X.push({event:ct,listeners:Vt}),ct.data=xt)),DE(X,t,j,s,F)}ry(X,n)})}function kl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function ku(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Zn(t,s),c!=null&&l.unshift(kl(t,c,f)),c=Zn(t,n),c!=null&&l.push(kl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ME(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function oy(t,n,s,l,c){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,R=E.alternate,j=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||j===null||(R=j,c?(j=Zn(s,f),j!=null&&g.unshift(kl(s,j,R))):c||(j=Zn(s,f),j!=null&&g.push(kl(s,j,R)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var UE=/\r\n?/g,zE=/\u0000|\uFFFD/g;function uy(t){return(typeof t=="string"?t:""+t).replace(UE,`
`).replace(zE,"")}function cy(t,n){return n=uy(n),uy(t)===n}function Wt(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||hn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&hn(t,""+l);break;case"className":Tn(t,"class",l);break;case"tabIndex":Tn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(t,s,l);break;case"style":il(t,l,f);break;case"data":if(n!=="object"){Tn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ga(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Wt(t,n,"name",c.name,c,null),Wt(t,n,"formEncType",c.formEncType,c,null),Wt(t,n,"formMethod",c.formMethod,c,null),Wt(t,n,"formTarget",c.formTarget,c,null)):(Wt(t,n,"encType",c.encType,c,null),Wt(t,n,"method",c.method,c,null),Wt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ga(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ga(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),Pa(t,"popover",l);break;case"xlinkActuate":Re(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Re(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Re(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Re(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Re(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Re(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Re(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Re(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Re(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Pa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ko.get(s)||s,Pa(t,s,l))}}function Sf(t,n,s,l,c,f){switch(s){case"style":il(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?hn(t,l):(typeof l=="number"||typeof l=="bigint")&&hn(t,""+l);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[Be]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Pa(t,s,l)}}}function Ke(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Wt(t,n,f,g,s,null)}}c&&Wt(t,n,"srcSet",s.srcSet,s,null),l&&Wt(t,n,"src",s.src,s,null);return;case"input":Nt("invalid",t);var E=f=g=c=null,R=null,j=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":c=F;break;case"type":g=F;break;case"checked":R=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:Wt(t,n,l,F,s,null)}}Uo(t,f,E,R,j,g,c,!1);return;case"select":Nt("invalid",t),l=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Wt(t,n,c,E,s,null)}n=f,s=g,t.multiple=!!l,n!=null?as(t,!!l,n,!1):s!=null&&as(t,!!l,s,!0);return;case"textarea":Nt("invalid",t),f=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Wt(t,n,g,E,s,null)}rs(t,l,c,f);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(l=s[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(t,n,R,l,s,null)}return;case"dialog":Nt("beforetoggle",t),Nt("toggle",t),Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Nt(Ll[l],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Wt(t,n,j,l,s,null)}return;default:if(Ha(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&Sf(t,n,F,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Wt(t,n,E,l,s,null))}function LE(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,R=null,j=null,F=null;for(q in s){var X=s[q];if(s.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=X;default:l.hasOwnProperty(q)||Wt(t,n,q,null,l,X)}}for(var B in l){var q=l[B];if(X=s[B],l.hasOwnProperty(B)&&(q!=null||X!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":j=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==X&&Wt(t,n,B,q,l,X)}}qa(t,g,E,R,j,F,f,c);return;case"select":q=g=E=B=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||Wt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=s[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Wt(t,n,c,f,l,R)}n=E,s=g,l=q,B!=null?as(t,!!s,B,!1):!!l!=!!s&&(n!=null?as(t,!!s,n,!0):as(t,!!s,s?[]:"",!1));return;case"textarea":q=B=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=s[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Wt(t,n,g,c,l,f)}zo(t,B,q);return;case"option":for(var ot in s)if(B=s[ot],s.hasOwnProperty(ot)&&B!=null&&!l.hasOwnProperty(ot))switch(ot){case"selected":t.selected=!1;break;default:Wt(t,n,ot,null,l,B)}for(R in l)if(B=l[R],q=s[R],l.hasOwnProperty(R)&&B!==q&&(B!=null||q!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Wt(t,n,R,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)B=s[pt],s.hasOwnProperty(pt)&&B!=null&&!l.hasOwnProperty(pt)&&Wt(t,n,pt,null,l,B);for(j in l)if(B=l[j],q=s[j],l.hasOwnProperty(j)&&B!==q&&(B!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Wt(t,n,j,B,l,q)}return;default:if(Ha(n)){for(var te in s)B=s[te],s.hasOwnProperty(te)&&B!==void 0&&!l.hasOwnProperty(te)&&Sf(t,n,te,void 0,l,B);for(F in l)B=l[F],q=s[F],!l.hasOwnProperty(F)||B===q||B===void 0&&q===void 0||Sf(t,n,F,B,l,q);return}}for(var U in s)B=s[U],s.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Wt(t,n,U,null,l,B);for(X in l)B=l[X],q=s[X],!l.hasOwnProperty(X)||B===q||B==null&&q==null||Wt(t,n,X,B,l,q)}function hy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&hy(g)){for(g=0,E=c.responseEnd,l+=1;l<s.length;l++){var R=s[l],j=R.startTime;if(j>E)break;var F=R.transferSize,X=R.initiatorType;F&&hy(X)&&(R=R.responseEnd,g+=F*(R<E?1:(E-j)/(R-j)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var wf=null,Rf=null;function ju(t){return t.nodeType===9?t:t.ownerDocument}function fy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function xf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Cf=null;function jE(){var t=window.event;return t&&t.type==="popstate"?t===Cf?!1:(Cf=t,!0):(Cf=null,!1)}var my=typeof setTimeout=="function"?setTimeout:void 0,BE=typeof clearTimeout=="function"?clearTimeout:void 0,gy=typeof Promise=="function"?Promise:void 0,PE=typeof queueMicrotask=="function"?queueMicrotask:typeof gy<"u"?function(t){return gy.resolve(null).then(t).catch(qE)}:my;function qE(t){setTimeout(function(){throw t})}function Ns(t){return t==="head"}function py(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),Sr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")jl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,jl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ui]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&jl(t.ownerDocument.body);s=c}while(s);Sr(n)}function yy(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Nf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Nf(s),Ba(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function HE(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ui])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function GE(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=qn(t.nextSibling),t===null))return null;return t}function _y(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=qn(t.nextSibling),t===null))return null;return t}function Df(t){return t.data==="$?"||t.data==="$~"}function If(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function FE(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Vf=null;function vy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return qn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Ey(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function Ty(t,n,s){switch(n=ju(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function jl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ba(t)}var Hn=new Map,Ay=new Set;function Bu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ji=it.d;it.d={f:QE,r:YE,D:XE,C:KE,L:ZE,m:$E,X:WE,S:JE,M:tT};function QE(){var t=Ji.f(),n=Iu();return t||n}function YE(t){var n=Vn(t);n!==null&&n.tag===5&&n.type==="form"?jg(n):Ji.r(t)}var Tr=typeof document>"u"?null:document;function by(t,n,s){var l=Tr;if(l&&typeof n=="string"&&n){var c=cn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Ay.has(c)||(Ay.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ke(n,"link",t),we(n),l.head.appendChild(n)))}}function XE(t){Ji.D(t),by("dns-prefetch",t,null)}function KE(t,n){Ji.C(t,n),by("preconnect",t,n)}function ZE(t,n,s){Ji.L(t,n,s);var l=Tr;if(l&&t&&n){var c='link[rel="preload"][as="'+cn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+cn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+cn(s.imageSizes)+'"]')):c+='[href="'+cn(t)+'"]';var f=c;switch(n){case"style":f=Ar(t);break;case"script":f=br(t)}Hn.has(f)||(t=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Hn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Bl(f))||n==="script"&&l.querySelector(Pl(f))||(n=l.createElement("link"),Ke(n,"link",t),we(n),l.head.appendChild(n)))}}function $E(t,n){Ji.m(t,n);var s=Tr;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=br(t)}if(!Hn.has(f)&&(t=b({rel:"modulepreload",href:t},n),Hn.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Pl(f)))return}l=s.createElement("link"),Ke(l,"link",t),we(l),s.head.appendChild(l)}}}function JE(t,n,s){Ji.S(t,n,s);var l=Tr;if(l&&t){var c=hi(l).hoistableStyles,f=Ar(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Bl(f)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Hn.get(f))&&Of(t,s);var R=g=l.createElement("link");we(R),Ke(R,"link",t),R._p=new Promise(function(j,F){R.onload=j,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Pu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function WE(t,n){Ji.X(t,n);var s=Tr;if(s&&t){var l=hi(s).hoistableScripts,c=br(t),f=l.get(c);f||(f=s.querySelector(Pl(c)),f||(t=b({src:t,async:!0},n),(n=Hn.get(c))&&Mf(t,n),f=s.createElement("script"),we(f),Ke(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function tT(t,n){Ji.M(t,n);var s=Tr;if(s&&t){var l=hi(s).hoistableScripts,c=br(t),f=l.get(c);f||(f=s.querySelector(Pl(c)),f||(t=b({src:t,async:!0,type:"module"},n),(n=Hn.get(c))&&Mf(t,n),f=s.createElement("script"),we(f),Ke(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Sy(t,n,s,l){var c=(c=bt.current)?Bu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ar(s.href),s=hi(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ar(s.href);var f=hi(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Bl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Hn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Hn.set(t,s),f||eT(c,t,s,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=br(s),s=hi(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ar(t){return'href="'+cn(t)+'"'}function Bl(t){return'link[rel="stylesheet"]['+t+"]"}function wy(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function eT(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ke(n,"link",s),we(n),t.head.appendChild(n))}function br(t){return'[src="'+cn(t)+'"]'}function Pl(t){return"script[async]"+t}function Ry(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+cn(s.href)+'"]');if(l)return n.instance=l,we(l),l;var c=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),we(l),Ke(l,"style",c),Pu(l,s.precedence,t),n.instance=l;case"stylesheet":c=Ar(s.href);var f=t.querySelector(Bl(c));if(f)return n.state.loading|=4,n.instance=f,we(f),f;l=wy(s),(c=Hn.get(c))&&Of(l,c),f=(t.ownerDocument||t).createElement("link"),we(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ke(f,"link",l),n.state.loading|=4,Pu(f,s.precedence,t),n.instance=f;case"script":return f=br(s.src),(c=t.querySelector(Pl(f)))?(n.instance=c,we(c),c):(l=s,(c=Hn.get(f))&&(l=b({},s),Mf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),we(c),Ke(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Pu(l,s.precedence,t));return n.instance}function Pu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Of(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var qu=null;function xy(t,n,s){if(qu===null){var l=new Map,c=qu=new Map;c.set(s,l)}else c=qu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[ui]||f[Se]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function Cy(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function nT(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ny(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function iT(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Ar(l.href),f=n.querySelector(Bl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Hu.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,we(f);return}f=n.ownerDocument||n,l=wy(l),(c=Hn.get(c))&&Of(l,c),f=f.createElement("link"),we(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ke(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Hu.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Uf=0;function sT(t,n){return t.stylesheets&&t.count===0&&Fu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Fu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Uf===0&&(Uf=62500*kE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Fu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Uf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Hu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gu=null;function Fu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gu=new Map,n.forEach(aT,t),Gu=null,Hu.call(t))}function aT(t,n){if(!(n.state.loading&4)){var s=Gu.get(t);if(s)var l=s.get(null);else{s=new Map,Gu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,c),s.set(g,c),this.count++,l=Hu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var ql={$$typeof:ut,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function rT(t,n,s,l,c,f,g,E,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Dy(t,n,s,l,c,f,g,E,R,j,F,X){return t=new rT(t,n,s,g,R,j,F,X,E),n=1,f===!0&&(n|=24),f=bn(3,null,null,n),t.current=f,f.stateNode=t,n=dh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},yh(f),t}function Iy(t){return t?(t=tr,t):tr}function Vy(t,n,s,l,c,f){c=Iy(c),l.context===null?l.context=c:l.pendingContext=c,l=_s(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=vs(t,l,n),s!==null&&(pn(s,t,n),El(s,t,n))}function Oy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function zf(t,n){Oy(t,n),(t=t.alternate)&&Oy(t,n)}function My(t){if(t.tag===13||t.tag===31){var n=da(t,67108864);n!==null&&pn(n,t,67108864),zf(t,67108864)}}function Uy(t){if(t.tag===13||t.tag===31){var n=Cn();n=ea(n);var s=da(t,n);s!==null&&pn(s,t,n),zf(t,n)}}var Qu=!0;function lT(t,n,s,l){var c=G.T;G.T=null;var f=it.p;try{it.p=2,Lf(t,n,s,l)}finally{it.p=f,G.T=c}}function oT(t,n,s,l){var c=G.T;G.T=null;var f=it.p;try{it.p=8,Lf(t,n,s,l)}finally{it.p=f,G.T=c}}function Lf(t,n,s,l){if(Qu){var c=kf(l);if(c===null)bf(t,n,l,Yu,s),Ly(t,l);else if(cT(c,t,n,s,l))l.stopPropagation();else if(Ly(t,l),n&4&&-1<uT.indexOf(t)){for(;c!==null;){var f=Vn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ai(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-ye(g);E.entanglements[1]|=R,g&=~R}Si(f),(Ft&6)===0&&(Nu=rn()+500,zl(0))}}break;case 31:case 13:E=da(f,2),E!==null&&pn(E,f,2),Iu(),zf(f,2)}if(f=kf(l),f===null&&bf(t,n,l,Yu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else bf(t,n,l,null,s)}}function kf(t){return t=On(t),jf(t)}var Yu=null;function jf(t){if(Yu=null,t=ci(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Yu=t,null}function zy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($s()){case Fr:return 2;case Qr:return 8;case is:case Gc:return 32;case wo:return 268435456;default:return 32}default:return 32}}var Bf=!1,Ds=null,Is=null,Vs=null,Hl=new Map,Gl=new Map,Os=[],uT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ly(t,n){switch(t){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(n.pointerId)}}function Fl(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Vn(n),n!==null&&My(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function cT(t,n,s,l,c){switch(n){case"focusin":return Ds=Fl(Ds,t,n,s,l,c),!0;case"dragenter":return Is=Fl(Is,t,n,s,l,c),!0;case"mouseover":return Vs=Fl(Vs,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Hl.set(f,Fl(Hl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Gl.set(f,Fl(Gl.get(f)||null,t,n,s,l,c)),!0}return!1}function ky(t){var n=ci(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Yn(t.priority,function(){Uy(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,Yn(t.priority,function(){Uy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=kf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);sl=l,s.target.dispatchEvent(l),sl=null}else return n=Vn(s),n!==null&&My(n),t.blockedOn=s,!1;n.shift()}return!0}function jy(t,n,s){Xu(t)&&s.delete(n)}function hT(){Bf=!1,Ds!==null&&Xu(Ds)&&(Ds=null),Is!==null&&Xu(Is)&&(Is=null),Vs!==null&&Xu(Vs)&&(Vs=null),Hl.forEach(jy),Gl.forEach(jy)}function Ku(t,n){t.blockedOn===n&&(t.blockedOn=null,Bf||(Bf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,hT)))}var Zu=null;function By(t){Zu!==t&&(Zu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Zu===t&&(Zu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(jf(l||s)===null)continue;break}var f=Vn(s);f!==null&&(t.splice(n,3),n-=3,Lh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Sr(t){function n(R){return Ku(R,t)}Ds!==null&&Ku(Ds,t),Is!==null&&Ku(Is,t),Vs!==null&&Ku(Vs,t),Hl.forEach(n),Gl.forEach(n);for(var s=0;s<Os.length;s++){var l=Os[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Os.length&&(s=Os[0],s.blockedOn===null);)ky(s),s.blockedOn===null&&Os.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],g=c[Be]||null;if(typeof f=="function")g||By(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Be]||null)E=g.formAction;else if(jf(c)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),By(s)}}}function Py(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Pf(t){this._internalRoot=t}$u.prototype.render=Pf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=Cn();Vy(s,l,t,n,null,null)},$u.prototype.unmount=Pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Vy(t.current,2,null,t,null,null),Iu(),n[oi]=null}};function $u(t){this._internalRoot=t}$u.prototype.unstable_scheduleHydration=function(t){if(t){var n=Io();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Os.length&&n!==0&&n<Os[s].priority;s++);Os.splice(s,0,t),s===0&&ky(t)}};var qy=e.version;if(qy!=="19.2.0")throw Error(r(527,qy,"19.2.0"));it.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var fT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{Fn=Ju.inject(fT),Ge=Ju}catch{}}return Yl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",c=Kg,f=Zg,g=$g;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Dy(t,1,!1,null,null,s,l,null,c,f,g,Py),t[oi]=n.current,Af(t),new Pf(n)},Yl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,c="",f=Kg,g=Zg,E=$g,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=Dy(t,1,!0,n,s??null,l,c,R,f,g,E,Py),n.context=Iy(null),s=n.current,l=Cn(),l=ea(l),c=_s(l),c.callback=null,vs(s,c,l),s=l,n.current.lanes=s,Ws(n,s),Si(n),t[oi]=n.current,Af(t),new $u(n)},Yl.version="19.2.0",Yl}var Jy;function AT(){if(Jy)return Gf.exports;Jy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Gf.exports=TT(),Gf.exports}var bT=AT();const ST=b0(bT),wT=()=>{};var Wy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},RT=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],p=a[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],d=a[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},w0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,p=d?a[o+1]:0,v=o+2<a.length,_=v?a[o+2]:0,A=h>>2,b=(h&3)<<4|p>>4;let I=(p&15)<<2|_>>6,H=_&63;v||(H=64,d||(I=64)),r.push(i[A],i[b],i[I],i[H])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(S0(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):RT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const _=o<a.length?i[a.charAt(o)]:64;++o;const b=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||p==null||_==null||b==null)throw new xT;const I=h<<2|p>>4;if(r.push(I),_!==64){const H=p<<4&240|_>>2;if(r.push(H),b!==64){const W=_<<6&192|b;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class xT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CT=function(a){const e=S0(a);return w0.encodeByteArray(e,!0)},dc=function(a){return CT(a).replace(/\./g,"")},NT=function(a){try{return w0.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=()=>DT().__FIREBASE_DEFAULTS__,VT=()=>{if(typeof process>"u"||typeof Wy>"u")return;const a=Wy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},OT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&NT(a[1]);return e&&JSON.parse(e)},Od=()=>{try{return wT()||IT()||VT()||OT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},MT=a=>{var e,i;return(i=(e=Od())==null?void 0:e.emulatorHosts)==null?void 0:i[a]},R0=a=>{const e=MT(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},x0=()=>{var a;return(a=Od())==null?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function C0(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[dc(JSON.stringify(i)),dc(JSON.stringify(d)),""].join(".")}const Wl={};function zT(){const a={prod:[],emulator:[]};for(const e of Object.keys(Wl))Wl[e]?a.emulator.push(e):a.prod.push(e);return a}function LT(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let t_=!1;function D0(a,e){if(typeof window>"u"||typeof document>"u"||!yo(window.location.host)||Wl[a]===e||Wl[a]||t_)return;Wl[a]=e;function i(I){return`__firebase__banner__${I}`}const r="__firebase__banner",h=zT().prod.length>0;function d(){const I=document.getElementById(r);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function v(I,H){I.setAttribute("width","24"),I.setAttribute("id",H),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{t_=!0,d()},I}function A(I,H){I.setAttribute("id",H),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function b(){const I=LT(r),H=i("text"),W=document.getElementById(H)||document.createElement("span"),tt=i("learnmore"),$=document.getElementById(tt)||document.createElement("a"),ht=i("preprendIcon"),gt=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ut=I.element;p(ut),A($,tt);const yt=_();v(gt,ht),ut.append(gt,W,$,yt),document.body.appendChild(ut)}h?(W.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jT(){var e;const a=(e=Od())==null?void 0:e.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BT(){return!jT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PT(){try{return typeof indexedDB=="object"}catch{return!1}}function qT(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="FirebaseError";class Ua extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=HT,Object.setPrototypeOf(this,Ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I0.prototype.create)}}class I0{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?GT(h,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Ua(o,p,r)}}function GT(a,e){return a.replace(FT,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const FT=/\{\$([^}]+)}/g;function mc(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=a[o],d=e[o];if(e_(h)&&e_(d)){if(!mc(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function e_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(a){return a&&a._delegate?a._delegate:a}class Ir{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new UT;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XT(e))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=Ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ra){return this.instances.has(e)}getOptions(e=Ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YT(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ra){return this.component?this.component.multipleInstances?e:Ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YT(a){return a===Ra?void 0:a}function XT(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new QT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(jt||(jt={}));const ZT={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},$T=jt.INFO,JT={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},WT=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=JT[e];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class V0{constructor(e){this.name=e,this._logLevel=$T,this._logHandler=WT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...e),this._logHandler(this,jt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...e),this._logHandler(this,jt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...e),this._logHandler(this,jt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...e),this._logHandler(this,jt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...e),this._logHandler(this,jt.ERROR,...e)}}const tA=(a,e)=>e.some(i=>a instanceof i);let n_,i_;function eA(){return n_||(n_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nA(){return i_||(i_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O0=new WeakMap,ud=new WeakMap,M0=new WeakMap,Xf=new WeakMap,Md=new WeakMap;function iA(a){const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Ls(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&O0.set(i,a)}).catch(()=>{}),Md.set(e,a),e}function sA(a){if(ud.has(a))return;const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});ud.set(a,e)}let cd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return ud.get(a);if(e==="objectStoreNames")return a.objectStoreNames||M0.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ls(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function aA(a){cd=a(cd)}function rA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(Kf(this),e,...i);return M0.set(r,e.sort?e.sort():[e]),Ls(r)}:nA().includes(a)?function(...e){return a.apply(Kf(this),e),Ls(O0.get(this))}:function(...e){return Ls(a.apply(Kf(this),e))}}function lA(a){return typeof a=="function"?rA(a):(a instanceof IDBTransaction&&sA(a),tA(a,eA())?new Proxy(a,cd):a)}function Ls(a){if(a instanceof IDBRequest)return iA(a);if(Xf.has(a))return Xf.get(a);const e=lA(a);return e!==a&&(Xf.set(a,e),Md.set(e,a)),e}const Kf=a=>Md.get(a);function oA(a,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),p=Ls(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Ls(d.result),v.oldVersion,v.newVersion,Ls(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const uA=["get","getKey","getAll","getAllKeys","count"],cA=["put","add","delete","clear"],Zf=new Map;function s_(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Zf.get(e))return Zf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=cA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||uA.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&v.done]))[0]};return Zf.set(e,h),h}aA(a=>({...a,get:(e,i,r)=>s_(e,i)||a.get(e,i,r),has:(e,i)=>!!s_(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(fA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function fA(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hd="@firebase/app",a_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new V0("@firebase/app"),dA="@firebase/app-compat",mA="@firebase/analytics-compat",gA="@firebase/analytics",pA="@firebase/app-check-compat",yA="@firebase/app-check",_A="@firebase/auth",vA="@firebase/auth-compat",EA="@firebase/database",TA="@firebase/data-connect",AA="@firebase/database-compat",bA="@firebase/functions",SA="@firebase/functions-compat",wA="@firebase/installations",RA="@firebase/installations-compat",xA="@firebase/messaging",CA="@firebase/messaging-compat",NA="@firebase/performance",DA="@firebase/performance-compat",IA="@firebase/remote-config",VA="@firebase/remote-config-compat",OA="@firebase/storage",MA="@firebase/storage-compat",UA="@firebase/firestore",zA="@firebase/ai",LA="@firebase/firestore-compat",kA="firebase",jA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="[DEFAULT]",BA={[hd]:"fire-core",[dA]:"fire-core-compat",[gA]:"fire-analytics",[mA]:"fire-analytics-compat",[yA]:"fire-app-check",[pA]:"fire-app-check-compat",[_A]:"fire-auth",[vA]:"fire-auth-compat",[EA]:"fire-rtdb",[TA]:"fire-data-connect",[AA]:"fire-rtdb-compat",[bA]:"fire-fn",[SA]:"fire-fn-compat",[wA]:"fire-iid",[RA]:"fire-iid-compat",[xA]:"fire-fcm",[CA]:"fire-fcm-compat",[NA]:"fire-perf",[DA]:"fire-perf-compat",[IA]:"fire-rc",[VA]:"fire-rc-compat",[OA]:"fire-gcs",[MA]:"fire-gcs-compat",[UA]:"fire-fst",[LA]:"fire-fst-compat",[zA]:"fire-vertex","fire-js":"fire-js",[kA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new Map,PA=new Map,dd=new Map;function r_(a,e){try{a.container.addComponent(e)}catch(i){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function ao(a){const e=a.name;if(dd.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;dd.set(e,a);for(const i of gc.values())r_(i,a);for(const i of PA.values())r_(i,a);return!0}function U0(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function z0(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ks=new I0("app","Firebase",qA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=jA;function k0(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:fd,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ks.create("bad-app-name",{appName:String(o)});if(i||(i=x0()),!i)throw ks.create("no-options");const h=gc.get(o);if(h){if(mc(i,h.options)&&mc(r,h.config))return h;throw ks.create("duplicate-app",{appName:o})}const d=new KT(o);for(const v of dd.values())d.addComponent(v);const p=new HA(i,r,d);return gc.set(o,p),p}function j0(a=fd){const e=gc.get(a);if(!e&&a===fd&&x0())return k0();if(!e)throw ks.create("no-app",{appName:a});return e}function js(a,e,i){let r=BA[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}ao(new Ir(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="firebase-heartbeat-database",FA=1,ro="firebase-heartbeat-store";let $f=null;function B0(){return $f||($f=oA(GA,FA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(ro)}catch(i){console.warn(i)}}}}).catch(a=>{throw ks.create("idb-open",{originalErrorMessage:a.message})})),$f}async function QA(a){try{const i=(await B0()).transaction(ro),r=await i.objectStore(ro).get(P0(a));return await i.done,r}catch(e){if(e instanceof Ua)Wi.warn(e.message);else{const i=ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wi.warn(i.message)}}}async function l_(a,e){try{const r=(await B0()).transaction(ro,"readwrite");await r.objectStore(ro).put(e,P0(a)),await r.done}catch(i){if(i instanceof Ua)Wi.warn(i.message);else{const r=ks.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Wi.warn(r.message)}}}function P0(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=1024,XA=30;class KA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new $A(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=o_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>XA){const d=JA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Wi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=o_(),{heartbeatsToSend:r,unsentEntries:o}=ZA(this._heartbeatsCache.heartbeats),h=dc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Wi.warn(i),""}}}function o_(){return new Date().toISOString().substring(0,10)}function ZA(a,e=YA){const i=[];let r=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),u_(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),u_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class $A{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PT()?qT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await QA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return l_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return l_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function u_(a){return dc(JSON.stringify({version:2,heartbeats:a})).length}function JA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(a){ao(new Ir("platform-logger",e=>new hA(e),"PRIVATE")),ao(new Ir("heartbeat",e=>new KA(e),"PRIVATE")),js(hd,a_,a),js(hd,a_,"esm2020"),js("fire-js","")}WA("");var tb="firebase",eb="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */js(tb,eb,"app");var c_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bs,q0;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function x(){}x.prototype=S.prototype,C.F=S.prototype,C.prototype=new x,C.prototype.constructor=C,C.D=function(O,N,z){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return S.prototype[N].apply(O,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,S,x){x||(x=0);const O=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)O[N]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(N=0;N<16;++N)O[N]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=C.g[0],x=C.g[1],N=C.g[2];let z=C.g[3],w;w=S+(z^x&(N^z))+O[0]+3614090360&4294967295,S=x+(w<<7&4294967295|w>>>25),w=z+(N^S&(x^N))+O[1]+3905402710&4294967295,z=S+(w<<12&4294967295|w>>>20),w=N+(x^z&(S^x))+O[2]+606105819&4294967295,N=z+(w<<17&4294967295|w>>>15),w=x+(S^N&(z^S))+O[3]+3250441966&4294967295,x=N+(w<<22&4294967295|w>>>10),w=S+(z^x&(N^z))+O[4]+4118548399&4294967295,S=x+(w<<7&4294967295|w>>>25),w=z+(N^S&(x^N))+O[5]+1200080426&4294967295,z=S+(w<<12&4294967295|w>>>20),w=N+(x^z&(S^x))+O[6]+2821735955&4294967295,N=z+(w<<17&4294967295|w>>>15),w=x+(S^N&(z^S))+O[7]+4249261313&4294967295,x=N+(w<<22&4294967295|w>>>10),w=S+(z^x&(N^z))+O[8]+1770035416&4294967295,S=x+(w<<7&4294967295|w>>>25),w=z+(N^S&(x^N))+O[9]+2336552879&4294967295,z=S+(w<<12&4294967295|w>>>20),w=N+(x^z&(S^x))+O[10]+4294925233&4294967295,N=z+(w<<17&4294967295|w>>>15),w=x+(S^N&(z^S))+O[11]+2304563134&4294967295,x=N+(w<<22&4294967295|w>>>10),w=S+(z^x&(N^z))+O[12]+1804603682&4294967295,S=x+(w<<7&4294967295|w>>>25),w=z+(N^S&(x^N))+O[13]+4254626195&4294967295,z=S+(w<<12&4294967295|w>>>20),w=N+(x^z&(S^x))+O[14]+2792965006&4294967295,N=z+(w<<17&4294967295|w>>>15),w=x+(S^N&(z^S))+O[15]+1236535329&4294967295,x=N+(w<<22&4294967295|w>>>10),w=S+(N^z&(x^N))+O[1]+4129170786&4294967295,S=x+(w<<5&4294967295|w>>>27),w=z+(x^N&(S^x))+O[6]+3225465664&4294967295,z=S+(w<<9&4294967295|w>>>23),w=N+(S^x&(z^S))+O[11]+643717713&4294967295,N=z+(w<<14&4294967295|w>>>18),w=x+(z^S&(N^z))+O[0]+3921069994&4294967295,x=N+(w<<20&4294967295|w>>>12),w=S+(N^z&(x^N))+O[5]+3593408605&4294967295,S=x+(w<<5&4294967295|w>>>27),w=z+(x^N&(S^x))+O[10]+38016083&4294967295,z=S+(w<<9&4294967295|w>>>23),w=N+(S^x&(z^S))+O[15]+3634488961&4294967295,N=z+(w<<14&4294967295|w>>>18),w=x+(z^S&(N^z))+O[4]+3889429448&4294967295,x=N+(w<<20&4294967295|w>>>12),w=S+(N^z&(x^N))+O[9]+568446438&4294967295,S=x+(w<<5&4294967295|w>>>27),w=z+(x^N&(S^x))+O[14]+3275163606&4294967295,z=S+(w<<9&4294967295|w>>>23),w=N+(S^x&(z^S))+O[3]+4107603335&4294967295,N=z+(w<<14&4294967295|w>>>18),w=x+(z^S&(N^z))+O[8]+1163531501&4294967295,x=N+(w<<20&4294967295|w>>>12),w=S+(N^z&(x^N))+O[13]+2850285829&4294967295,S=x+(w<<5&4294967295|w>>>27),w=z+(x^N&(S^x))+O[2]+4243563512&4294967295,z=S+(w<<9&4294967295|w>>>23),w=N+(S^x&(z^S))+O[7]+1735328473&4294967295,N=z+(w<<14&4294967295|w>>>18),w=x+(z^S&(N^z))+O[12]+2368359562&4294967295,x=N+(w<<20&4294967295|w>>>12),w=S+(x^N^z)+O[5]+4294588738&4294967295,S=x+(w<<4&4294967295|w>>>28),w=z+(S^x^N)+O[8]+2272392833&4294967295,z=S+(w<<11&4294967295|w>>>21),w=N+(z^S^x)+O[11]+1839030562&4294967295,N=z+(w<<16&4294967295|w>>>16),w=x+(N^z^S)+O[14]+4259657740&4294967295,x=N+(w<<23&4294967295|w>>>9),w=S+(x^N^z)+O[1]+2763975236&4294967295,S=x+(w<<4&4294967295|w>>>28),w=z+(S^x^N)+O[4]+1272893353&4294967295,z=S+(w<<11&4294967295|w>>>21),w=N+(z^S^x)+O[7]+4139469664&4294967295,N=z+(w<<16&4294967295|w>>>16),w=x+(N^z^S)+O[10]+3200236656&4294967295,x=N+(w<<23&4294967295|w>>>9),w=S+(x^N^z)+O[13]+681279174&4294967295,S=x+(w<<4&4294967295|w>>>28),w=z+(S^x^N)+O[0]+3936430074&4294967295,z=S+(w<<11&4294967295|w>>>21),w=N+(z^S^x)+O[3]+3572445317&4294967295,N=z+(w<<16&4294967295|w>>>16),w=x+(N^z^S)+O[6]+76029189&4294967295,x=N+(w<<23&4294967295|w>>>9),w=S+(x^N^z)+O[9]+3654602809&4294967295,S=x+(w<<4&4294967295|w>>>28),w=z+(S^x^N)+O[12]+3873151461&4294967295,z=S+(w<<11&4294967295|w>>>21),w=N+(z^S^x)+O[15]+530742520&4294967295,N=z+(w<<16&4294967295|w>>>16),w=x+(N^z^S)+O[2]+3299628645&4294967295,x=N+(w<<23&4294967295|w>>>9),w=S+(N^(x|~z))+O[0]+4096336452&4294967295,S=x+(w<<6&4294967295|w>>>26),w=z+(x^(S|~N))+O[7]+1126891415&4294967295,z=S+(w<<10&4294967295|w>>>22),w=N+(S^(z|~x))+O[14]+2878612391&4294967295,N=z+(w<<15&4294967295|w>>>17),w=x+(z^(N|~S))+O[5]+4237533241&4294967295,x=N+(w<<21&4294967295|w>>>11),w=S+(N^(x|~z))+O[12]+1700485571&4294967295,S=x+(w<<6&4294967295|w>>>26),w=z+(x^(S|~N))+O[3]+2399980690&4294967295,z=S+(w<<10&4294967295|w>>>22),w=N+(S^(z|~x))+O[10]+4293915773&4294967295,N=z+(w<<15&4294967295|w>>>17),w=x+(z^(N|~S))+O[1]+2240044497&4294967295,x=N+(w<<21&4294967295|w>>>11),w=S+(N^(x|~z))+O[8]+1873313359&4294967295,S=x+(w<<6&4294967295|w>>>26),w=z+(x^(S|~N))+O[15]+4264355552&4294967295,z=S+(w<<10&4294967295|w>>>22),w=N+(S^(z|~x))+O[6]+2734768916&4294967295,N=z+(w<<15&4294967295|w>>>17),w=x+(z^(N|~S))+O[13]+1309151649&4294967295,x=N+(w<<21&4294967295|w>>>11),w=S+(N^(x|~z))+O[4]+4149444226&4294967295,S=x+(w<<6&4294967295|w>>>26),w=z+(x^(S|~N))+O[11]+3174756917&4294967295,z=S+(w<<10&4294967295|w>>>22),w=N+(S^(z|~x))+O[2]+718787259&4294967295,N=z+(w<<15&4294967295|w>>>17),w=x+(z^(N|~S))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+z&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const x=S-this.blockSize,O=this.C;let N=this.h,z=0;for(;z<S;){if(N==0)for(;z<=x;)o(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<S;)if(O[N++]=C.charCodeAt(z++),N==this.blockSize){o(this,O),N=0;break}}else for(;z<S;)if(O[N++]=C[z++],N==this.blockSize){o(this,O),N=0;break}}this.h=N,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var x=C.length-8;x<C.length;++x)C[x]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,x=0;x<4;++x)for(let O=0;O<32;O+=8)C[S++]=this.g[x]>>>O&255;return C};function h(C,S){var x=p;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=S(C)}function d(C,S){this.h=S;const x=[];let O=!0;for(let N=C.length-1;N>=0;N--){const z=C[N]|0;O&&z==S||(x[N]=z,O=!1)}this.g=x}var p={};function v(C){return-128<=C&&C<128?h(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return $(_(-C));const S=[];let x=1;for(let O=0;C>=x;O++)S[O]=C/x|0,x*=4294967296;return new d(S,0)}function A(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return $(A(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(S,8));let O=b;for(let z=0;z<C.length;z+=8){var N=Math.min(8,C.length-z);const w=parseInt(C.substring(z,z+N),S);N<8?(N=_(Math.pow(S,N)),O=O.j(N).add(_(w))):(O=O.j(x),O=O.add(_(w)))}return O}var b=v(0),I=v(1),H=v(16777216);a=d.prototype,a.m=function(){if(tt(this))return-$(this).m();let C=0,S=1;for(let x=0;x<this.g.length;x++){const O=this.i(x);C+=(O>=0?O:4294967296+O)*S,S*=4294967296}return C},a.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(tt(this))return"-"+$(this).toString(C);const S=_(Math.pow(C,6));var x=this;let O="";for(;;){const N=yt(x,S).g;x=ht(x,N.j(S));let z=((x.g.length>0?x.g[0]:x.h)>>>0).toString(C);if(x=N,W(x))return z+O;for(;z.length<6;)z="0"+z;O=z+O}},a.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function tt(C){return C.h==-1}a.l=function(C){return C=ht(this,C),tt(C)?-1:W(C)?0:1};function $(C){const S=C.g.length,x=[];for(let O=0;O<S;O++)x[O]=~C.g[O];return new d(x,~C.h).add(I)}a.abs=function(){return tt(this)?$(this):this},a.add=function(C){const S=Math.max(this.g.length,C.g.length),x=[];let O=0;for(let N=0;N<=S;N++){let z=O+(this.i(N)&65535)+(C.i(N)&65535),w=(z>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);O=w>>>16,z&=65535,w&=65535,x[N]=w<<16|z}return new d(x,x[x.length-1]&-2147483648?-1:0)};function ht(C,S){return C.add($(S))}a.j=function(C){if(W(this)||W(C))return b;if(tt(this))return tt(C)?$(this).j($(C)):$($(this).j(C));if(tt(C))return $(this.j($(C)));if(this.l(H)<0&&C.l(H)<0)return _(this.m()*C.m());const S=this.g.length+C.g.length,x=[];for(var O=0;O<2*S;O++)x[O]=0;for(O=0;O<this.g.length;O++)for(let N=0;N<C.g.length;N++){const z=this.i(O)>>>16,w=this.i(O)&65535,ie=C.i(N)>>>16,se=C.i(N)&65535;x[2*O+2*N]+=w*se,gt(x,2*O+2*N),x[2*O+2*N+1]+=z*se,gt(x,2*O+2*N+1),x[2*O+2*N+1]+=w*ie,gt(x,2*O+2*N+1),x[2*O+2*N+2]+=z*ie,gt(x,2*O+2*N+2)}for(C=0;C<S;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=S;C<2*S;C++)x[C]=0;return new d(x,0)};function gt(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function ut(C,S){this.g=C,this.h=S}function yt(C,S){if(W(S))throw Error("division by zero");if(W(C))return new ut(b,b);if(tt(C))return S=yt($(C),S),new ut($(S.g),$(S.h));if(tt(S))return S=yt(C,$(S)),new ut($(S.g),S.h);if(C.g.length>30){if(tt(C)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var x=I,O=S;O.l(C)<=0;)x=Lt(x),O=Lt(O);var N=Rt(x,1),z=Rt(O,1);for(O=Rt(O,2),x=Rt(x,2);!W(O);){var w=z.add(O);w.l(C)<=0&&(N=N.add(x),z=w),O=Rt(O,1),x=Rt(x,1)}return S=ht(C,N.j(S)),new ut(N,S)}for(N=b;C.l(S)>=0;){for(x=Math.max(1,Math.floor(C.m()/S.m())),O=Math.ceil(Math.log(x)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),z=_(x),w=z.j(S);tt(w)||w.l(C)>0;)x-=O,z=_(x),w=z.j(S);W(z)&&(z=I),N=N.add(z),C=ht(C,w)}return new ut(N,C)}a.B=function(C){return yt(this,C).h},a.and=function(C){const S=Math.max(this.g.length,C.g.length),x=[];for(let O=0;O<S;O++)x[O]=this.i(O)&C.i(O);return new d(x,this.h&C.h)},a.or=function(C){const S=Math.max(this.g.length,C.g.length),x=[];for(let O=0;O<S;O++)x[O]=this.i(O)|C.i(O);return new d(x,this.h|C.h)},a.xor=function(C){const S=Math.max(this.g.length,C.g.length),x=[];for(let O=0;O<S;O++)x[O]=this.i(O)^C.i(O);return new d(x,this.h^C.h)};function Lt(C){const S=C.g.length+1,x=[];for(let O=0;O<S;O++)x[O]=C.i(O)<<1|C.i(O-1)>>>31;return new d(x,C.h)}function Rt(C,S){const x=S>>5;S%=32;const O=C.g.length-x,N=[];for(let z=0;z<O;z++)N[z]=S>0?C.i(z+x)>>>S|C.i(z+x+1)<<32-S:C.i(z+x);return new d(N,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,q0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Bs=d}).apply(typeof c_<"u"?c_:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var H0,Kl,G0,lc,md,F0,Q0,Y0;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var y=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in y))break t;y=y[L]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function A(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,L,P){for(var nt=Array(arguments.length-2),St=2;St<arguments.length;St++)nt[St-2]=arguments[St];return m.prototype[L].apply(T,nt)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const P=L.length||0;u.length=y+P;for(let nt=0;nt<P;nt++)u[y+nt]=L[nt]}else u.push(L)}}class tt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,y){const T=ut.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var ut=new tt(()=>new yt,u=>u.reset());class yt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Lt,Rt=!1,C=new gt,S=()=>{const u=Promise.resolve(void 0);Lt=()=>{u.then(x)}};function x(){for(var u;u=ht();){try{u.h.call(u.g)}catch(y){$(y)}var m=ut;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Rt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ie,N),ie.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),G=0;function it(u,m,y,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function et(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function Ht(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function V(u){const m={};for(const y in u)m[y]=u[y];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let y,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(y in T)u[y]=T[y];for(let P=0;P<Y.length;P++)y=Y[P],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,y,T,L){const P=u.toString();u=this.g[P],u||(u=this.g[P]=[],this.h++);const nt=bt(u,m,T,L);return nt>-1?(m=u[nt],y||(m.fa=!1)):(m=new it(m,this.src,P,!!T,L),m.fa=y,u.push(m)),m};function vt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],L=Array.prototype.indexOf.call(T,m,void 0),P;(P=L>=0)&&Array.prototype.splice.call(T,L,1),P&&(et(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function bt(u,m,y,T){for(let L=0;L<u.length;++L){const P=u[L];if(!P.da&&P.listener==m&&P.capture==!!y&&P.ha==T)return L}return-1}var Dt="closure_lm_"+(Math.random()*1e6|0),J={};function ft(u,m,y,T,L){if(Array.isArray(m)){for(let P=0;P<m.length;P++)ft(u,m[P],y,T,L);return null}return y=Gr(y),u&&u[se]?u.J(m,y,p(T)?!!T.capture:!1,L):Bt(u,m,y,!1,T,L)}function Bt(u,m,y,T,L,P){if(!m)throw Error("Invalid event type");const nt=p(L)?!!L.capture:!!L;let St=Oi(u);if(St||(u[Dt]=St=new rt(u)),y=St.add(m,y,T,nt,P),y.proxy)return y;if(T=Zt(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)z||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(je(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Zt(){function u(y){return m.call(u.src,u.listener,y)}const m=an;return u}function Ue(u,m,y,T,L){if(Array.isArray(m))for(var P=0;P<m.length;P++)Ue(u,m[P],y,T,L);else T=p(T)?!!T.capture:!!T,y=Gr(y),u&&u[se]?(u=u.i,P=String(m).toString(),P in u.g&&(m=u.g[P],y=bt(m,y,T,L),y>-1&&(et(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[P],u.h--)))):u&&(u=Oi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,y,T,L)),(y=u>-1?m[u]:null)&&We(y))}function We(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[se])vt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(je(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Oi(m))?(vt(y,u),y.h==0&&(y.src=null,m[Dt]=null)):et(u)}}}function je(u){return u in J?J[u]:J[u]="on"+u}function an(u,m){if(u.da)u=!0;else{m=new ie(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&We(u),u=y.call(T,m)}return u}function Oi(u){return u=u[Dt],u instanceof rt?u:null}var Hr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Gr(u){return typeof u=="function"?u:(u[Hr]||(u[Hr]=function(m){return u.handleEvent(m)}),u[Hr])}function Ae(){O.call(this),this.i=new rt(this),this.M=this,this.G=null}b(Ae,O),Ae.prototype[se]=!0,Ae.prototype.removeEventListener=function(u,m,y,T){Ue(this,u,m,y,T)};function ze(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),st(m,L)}L=!0;let P,nt;if(y)for(nt=y.length-1;nt>=0;nt--)P=m.g=y[nt],L=ns(P,T,!0,m)&&L;if(P=m.g=u,L=ns(P,T,!0,m)&&L,L=ns(P,T,!1,m)&&L,y)for(nt=0;nt<y.length;nt++)P=m.g=y[nt],L=ns(P,T,!1,m)&&L}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)et(y[T]);delete u.g[m],u.h--}}this.G=null},Ae.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},Ae.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function ns(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let P=0;P<m.length;++P){const nt=m[P];if(nt&&!nt.da&&nt.capture==y){const St=nt.listener,_e=nt.ha||nt.src;nt.fa&&vt(u.i,nt),L=St.call(_e,T)!==!1&&L}}return L&&!T.defaultPrevented}function Hc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function So(u){u.g=Hc(()=>{u.g=null,u.i&&(u.i=!1,So(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class rn extends O{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:So(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $s(u){O.call(this),this.h=u,this.g={}}b($s,O);var Fr=[];function Qr(u){Ut(u.g,function(m,y){this.g.hasOwnProperty(y)&&We(m)},u),u.g={}}$s.prototype.N=function(){$s.Z.N.call(this),Qr(this)},$s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=d.JSON.stringify,Gc=d.JSON.parse,wo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ro(){}function xo(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){N.call(this,"d")}b(Ge,N);function In(){N.call(this,"c")}b(In,N);var ye={},Co=null;function ka(){return Co=Co||new Ae}ye.Ia="serverreachability";function No(u){N.call(this,ye.Ia,u)}b(No,N);function si(u){const m=ka();ze(m,new No(m))}ye.STAT_EVENT="statevent";function Js(u,m){N.call(this,ye.STAT_EVENT,u),this.stat=m}b(Js,N);function be(u){const m=ka();ze(m,new Js(m,u))}ye.Ja="timingevent";function ai(u,m){N.call(this,ye.Ja,u),this.size=m}b(ai,N);function ri(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function Fc(u,m,y,T,L,P){u.info(function(){if(u.g)if(P){var nt="",St=P.split("&");for(let Gt=0;Gt<St.length;Gt++){var _e=St[Gt].split("=");if(_e.length>1){const ce=_e[0];_e=_e[1];const Un=ce.split("_");nt=Un.length>=2&&Un[1]=="type"?nt+(ce+"="+_e+"&"):nt+(ce+"=redacted&")}}}else nt=null;else nt=P;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+y+`
`+nt})}function Do(u,m,y,T,L,P,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+y+`
`+P+" "+nt})}function li(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Qc(u,y)+(T?" "+T:"")})}function Ws(u,m){u.info(function(){return"TIMEOUT: "+m})}Qn.prototype.info=function(){};function Qc(u,m){if(!u.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(u=0;u<P.length;u++)if(Array.isArray(P[u])){var y=P[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let nt=1;nt<T.length;nt++)T[nt]=""}}}}return is(P)}catch{return m}}var ta={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xr;function ea(){}b(ea,Ro),ea.prototype.g=function(){return new XMLHttpRequest},Xr=new ea;function Mi(u){return encodeURIComponent(String(u))}function Io(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Yn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new $s(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Se={},Be={};function oi(u,m,y){u.M=1,u.A=na(Re(m)),u.u=y,u.R=!0,ja(u,null)}function ja(u,m){u.F=Date.now(),ui(u),u.B=Re(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Ha(y.i,"t",T),u.C=0,y=u.j.L,u.h=new Xn,u.g=Qo(u.j,y?m:null,!u.u),u.P>0&&(u.O=new rn(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Fr[0]=L.toString()),L=Fr);for(let P=0;P<L.length;P++){const nt=ft(y,L[P],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),si(),Fc(u.i,u.v,u.B,u.l,u.S,u.u)}Yn.prototype.ba=function(u){u=u.target;const m=this.O;m&&$n(u)==3?m.j():this.Y(u)},Yn.prototype.Y=function(u){try{if(u==this.g)t:{const St=$n(this.g),_e=this.g.ya(),Gt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Fe(this.g)))){this.K||St!=4||_e==7||(_e==8||Gt<=0?si(3):si(2)),ci(this);var m=this.g.ca();this.X=m;var y=Yc(this);if(this.o=m==200,Do(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var P=T;break e}}P=null}if(u=P)li(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,u);else{this.o=!1,this.m=3,be(12),En(this),Vn(this);break t}}if(this.R){u=!0;let ce;for(;!this.K&&this.C<y.length;)if(ce=Oo(this,y),ce==Be){St==4&&(this.m=4,be(14),u=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==Se){this.m=4,be(15),li(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else li(this.i,this.l,ce,null),hi(this,ce);if(Vo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||y.length!=0||this.h.h||(this.m=1,be(16),u=!1),this.o=this.o&&u,!u)li(this.i,this.l,y,"[Invalid Chunked Response]"),En(this),Vn(this);else if(y.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),ul(nt),nt.P=!0,be(11))}}else li(this.i,this.l,y,null),hi(this,y);St==4&&En(this),this.o&&!this.K&&(St==4?qo(this.j,this):(this.o=!1,ui(this)))}else zi(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),En(this),Vn(this)}}}catch{}finally{}};function Yc(u){if(!Vo(u))return u.g.la();const m=Fe(u.g);if(m==="")return"";let y="";const T=m.length,L=$n(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return En(u),Vn(u),"";u.h.i=new d.TextDecoder}for(let P=0;P<T;P++)u.h.h=!0,y+=u.h.i.decode(m[P],{stream:!(L&&P==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Vo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Oo(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Be:(y=Number(m.substring(y,T)),isNaN(y)?Se:(T+=1,T+y>m.length?Be:(m=m.slice(T,T+y),u.C=T+y,m)))}Yn.prototype.cancel=function(){this.K=!0,En(this)};function ui(u){u.T=Date.now()+u.H,Ba(u,u.H)}function Ba(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ri(_(u.aa,u),m)}function ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Yn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ws(this.i,this.B),this.M!=2&&(si(),be(17)),En(this),this.m=2,Vn(this)):Ba(this,this.T-u)};function Vn(u){u.j.I==0||u.K||qo(u.j,u)}function En(u){ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Qr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function hi(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||di(y.h,u))){if(!u.L&&di(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)Xa(y),hs(y);else break t;ua(y),be(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ri(_(y.Va,y),6e3));fi(y.h)<=1&&y.ta&&(y.ta=void 0)}else vi(y,11)}else if((u.L||y.g==u)&&Xa(y),!w(m))for(L=y.Ba.g.parse(m),m=0;m<L.length;m++){let Gt=L[m];const ce=Gt[0];if(!(ce<=y.K))if(y.K=ce,Gt=Gt[1],y.I==2)if(Gt[0]=="c"){y.M=Gt[1],y.ba=Gt[2];const Un=Gt[3];Un!=null&&(y.ka=Un,y.j.info("VER="+y.ka));const Ei=Gt[4];Ei!=null&&(y.za=Ei,y.j.info("SVER="+y.za));const Jn=Gt[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(T=1.5*Jn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Wn=u.g;if(Wn){const ca=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ca){var P=T.h;P.g||ca.indexOf("spdy")==-1&&ca.indexOf("quic")==-1&&ca.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&($r(P,P.h),P.h=null))}if(T.G){const Ka=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(T.wa=Ka,Yt(T.J,T.G,Ka))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var nt=u;if(T.na=Fo(T,T.L?T.ba:null,T.W),nt.L){Jr(T.h,nt);var St=nt,_e=T.O;_e&&(St.H=_e),St.D&&(ci(St),ui(St)),T.g=nt}else Bo(T);y.i.length>0&&_i(y)}else Gt[0]!="stop"&&Gt[0]!="close"||vi(y,7);else y.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?vi(y,7):ll(y):Gt[0]!="noop"&&y.l&&y.l.qa(Gt),y.A=0)}}si(4)}catch{}}var we=class{constructor(u,m){this.g=u,this.map=m}};function Kr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fi(u){return u.h?1:u.g?u.g.size:0}function di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function $r(u,m){u.g?u.g.add(m):u.h=m}function Jr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Kr.prototype.cancel=function(){if(this.i=Wr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Wr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return H(u.i)}var Mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let L,P=null;T>=0?(L=u[y].substring(0,T),P=u[y].substring(T+1)):L=u[y],m(L,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Tn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Tn?(this.l=u.l,Pe(this,u.j),this.o=u.o,this.g=u.g,ss(this,u.u),this.h=u.h,tl(this,ko(u.i)),this.m=u.m):u&&(m=String(u).match(Mo))?(this.l=!1,Pe(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),ss(this,m[4]),this.h=mi(m[5]||"",!0),tl(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new rs(null,this.l))}Tn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ia(m,qa,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ia(m,qa,!0),"@"),u.push(Mi(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ia(y,y.charAt(0)=="/"?el:Uo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ia(y,zo)),u.join("")},Tn.prototype.resolve=function(u){const m=Re(this);let y=!!u.j;y?Pe(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)ss(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const P=[];for(let nt=0;nt<L.length;){const St=L[nt++];St=="."?T&&nt==L.length&&P.push(""):St==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),T&&nt==L.length&&P.push("")):(P.push(St),T=!0)}T=P.join("/")}else T=L}return y?m.h=T:y=u.i.toString()!=="",y?tl(m,ko(u.i)):y=!!u.m,y&&(m.m=u.m),m};function Re(u){return new Tn(u)}function Pe(u,m,y){u.j=y?mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function tl(u,m,y){m instanceof rs?(u.i=m,Ga(u.i,u.l)):(y||(m=ia(m,as)),u.i=new rs(m,u.l))}function Yt(u,m,y){u.i.set(m,y)}function na(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ia(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,cn),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qa=/[#\/\?@]/g,Uo=/[#\?:]/g,el=/[#\?]/g,as=/[#\?@]/g,zo=/#/g;function rs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function hn(u){u.g||(u.g=new Map,u.h=0,u.i&&Pa(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}a=rs.prototype,a.add=function(u,m){hn(this),this.i=null,u=ls(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Lo(u,m){hn(u),m=ls(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function nl(u,m){return hn(u),m=ls(u,m),u.g.has(m)}a.forEach=function(u,m){hn(this),this.g.forEach(function(y,T){y.forEach(function(L){u.call(m,L,T,this)},this)},this)};function il(u,m){hn(u);let y=[];if(typeof m=="string")nl(u,m)&&(y=y.concat(u.g.get(ls(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}a.set=function(u,m){return hn(this),this.i=null,u=ls(this,u),nl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=il(this,u),u.length>0?String(u[0]):m):m};function Ha(u,m,y){Lo(u,m),y.length>0&&(u.i=null,u.g.set(ls(u,m),H(y)),u.h+=y.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const L=Mi(y);y=il(this,y);for(let P=0;P<y.length;P++){let nt=L;y[P]!==""&&(nt+="="+Mi(y[P])),u.push(nt)}}return this.i=u.join("&")};function ko(u){const m=new rs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ls(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ga(u,m){m&&!u.j&&(hn(u),u.i=null,u.g.forEach(function(y,T){const L=T.toLowerCase();T!=L&&(Lo(this,T),Ha(this,L,y))},u)),u.j=m}function Kn(u,m){const y=new Qn;if(d.Image){const T=new Image;T.onload=A(On,y,"TestLoadImage: loaded",!0,m,T),T.onerror=A(On,y,"TestLoadImage: error",!1,m,T),T.onabort=A(On,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(On,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function sl(u,m){const y=new Qn,T=new AbortController,L=setTimeout(()=>{T.abort(),On(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(P=>{clearTimeout(L),P.ok?On(y,"TestPingServer: ok",!0,m):On(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),On(y,"TestPingServer: error",!1,m)})}function On(u,m,y,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(y)}catch{}}function os(){this.g=new wo}function gi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(gi,Ro),gi.prototype.g=function(){return new sa(this.i,this.h)};function sa(u,m){Ae.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(sa,Ae),a=sa.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Zn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?us(this):Zn(this),this.readyState==3&&Fa(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,us(this))},a.Na=function(u){this.g&&(this.response=u,us(this))},a.ga=function(){this.g&&us(this)};function us(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Zn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mn(u){let m="";return Ut(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function aa(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Mn(y),typeof u=="string"?y!=null&&Mi(y):Yt(u,m,y))}function $t(u){Ae.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b($t,Ae);var pi=/^https?$/i,al=["POST","PUT"];a=$t.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xr.g(),this.g.onreadystatechange=I(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(P){ra(this,P);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)y.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const P of T.keys())y.set(P,T.get(P));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(P=>P.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(al,m,void 0)>=0)||T||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,nt]of y)this.g.setRequestHeader(P,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(P){ra(this,P)}};function ra(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,rl(u),Ui(u)}function rl(u){u.A||(u.A=!0,ze(u,"complete"),ze(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ze(this,"complete"),ze(this,"abort"),Ui(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),$t.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?la(this):this.Xa())},a.Xa=function(){la(this)};function la(u){if(u.h&&typeof h<"u"){if(u.v&&$n(u)==4)setTimeout(u.Ca.bind(u),0);else if(ze(u,"readystatechange"),$n(u)==4){u.h=!1;try{const P=u.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=P===0){let nt=String(u.D).match(Mo)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),T=!pi.test(nt?nt.toLowerCase():"")}y=T}if(y)ze(u,"complete"),ze(u,"success");else{u.o=6;try{var L=$n(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",rl(u)}}finally{Ui(u)}}}}function Ui(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||ze(u,"ready");try{y.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function $n(u){return u.g?u.g.readyState:0}a.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Gc(m)}};function Fe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(u){const m={};u=(u.g&&$n(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var y=Io(u[T]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const P=m[L]||[];m[L]=P,P.push(y)}Ht(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function cs(u){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,u),this.Za=yi("retryDelaySeedMs",1e4,u),this.Ta=yi("forwardChannelMaxRetries",2,u),this.va=yi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Kr(u&&u.concurrentRequestLimit),this.Ba=new os,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=cs.prototype,a.ka=8,a.I=1,a.connect=function(u,m,y,T){be(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=Fo(this,null,this.W),_i(this)};function ll(u){if(Qa(u),u.I==3){var m=u.V++,y=Re(u.J);if(Yt(y,"SID",u.M),Yt(y,"RID",m),Yt(y,"TYPE","terminate"),oa(u,y),m=new Yn(u,u.j,m),m.M=2,m.A=na(Re(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=Qo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}Go(u)}function hs(u){u.g&&(ul(u),u.g.cancel(),u.g=null)}function Qa(u){hs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Xa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function _i(u){if(!Zr(u.h)&&!u.m){u.m=!0;var m=u.Ea;Lt||S(),Rt||(Lt(),Rt=!0),C.add(m,u),u.D=0}}function Ya(u,m){return fi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ri(_(u.Ea,u,m),Ho(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Yn(this,this.j,u);let P=this.o;if(this.U&&(P?(P=V(P),st(P,this.U)):P=this.U),this.u!==null||this.R||(L.J=P,P=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=jo(this,L,m),y=Re(this.J),Yt(y,"RID",u),Yt(y,"CVER",22),this.G&&Yt(y,"X-HTTP-Session-Id",this.G),oa(this,y),P&&(this.R?m="headers="+Mi(Mn(P))+"&"+m:this.u&&aa(y,this.u,P)),$r(this.h,L),this.Ra&&Yt(y,"TYPE","init"),this.S?(Yt(y,"$req",m),Yt(y,"SID","null"),L.U=!0,oi(L,y,null)):oi(L,y,m),this.I=2}}else this.I==3&&(u?ol(this,u):this.i.length==0||Zr(this.h)||ol(this))};function ol(u,m){var y;m?y=m.l:y=u.V++;const T=Re(u.J);Yt(T,"SID",u.M),Yt(T,"RID",y),Yt(T,"AID",u.K),oa(u,T),u.u&&u.o&&aa(T,u.u,u.o),y=new Yn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=jo(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),$r(u.h,y),oi(y,T,m)}function oa(u,m){u.H&&Ut(u.H,function(y,T){Yt(m,T,y)}),u.l&&Ut({},function(y,T){Yt(m,T,y)})}function jo(u,m,y){y=Math.min(u.i.length,y);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let St=-1;for(;;){const _e=["count="+y];St==-1?y>0?(St=L[0].g,_e.push("ofs="+St)):St=0:_e.push("ofs="+St);let Gt=!0;for(let ce=0;ce<y;ce++){var P=L[ce].g;const Un=L[ce].map;if(P-=St,P<0)St=Math.max(0,L[ce].g-100),Gt=!1;else try{P="req"+P+"_"||"";try{var nt=Un instanceof Map?Un:Object.entries(Un);for(const[Ei,Jn]of nt){let Wn=Jn;p(Jn)&&(Wn=is(Jn)),_e.push(P+Ei+"="+encodeURIComponent(Wn))}}catch(Ei){throw _e.push(P+"type="+encodeURIComponent("_badmap")),Ei}}catch{T&&T(Un)}}if(Gt){nt=_e.join("&");break t}}nt=void 0}return u=u.i.splice(0,y),m.G=u,nt}function Bo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Lt||S(),Rt||(Lt(),Rt=!0),C.add(m,u),u.A=0}}function ua(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ri(_(u.Da,u),Ho(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Po(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ri(_(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),hs(this),Po(this))};function ul(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Po(u){u.g=new Yn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Re(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),oa(u,m),u.u&&u.o&&aa(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=na(Re(m)),y.u=null,y.R=!0,ja(y,u)}a.Va=function(){this.C!=null&&(this.C=null,hs(this),ua(this),be(19))};function Xa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function qo(u,m){var y=null;if(u.g==m){Xa(u),ul(u),u.g=null;var T=2}else if(di(u.h,m))y=m.G,Jr(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=ka(),ze(T,new ai(T,y)),_i(u)}else Bo(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Ya(u,m)||T==2&&ua(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),L){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function Ho(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),T=u.Ua;const L=!T;T=new Tn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pe(T,"https"),na(T),L?Kn(T.toString(),y):sl(T.toString(),y)}else be(2);u.I=0,u.l&&u.l.pa(m),Go(u),Qa(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Go(u){if(u.I=0,u.ja=[],u.l){const m=Wr(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Fo(u,m,y){var T=y instanceof Tn?Re(y):new Tn(y);if(T.g!="")m&&(T.g=m+"."+T.g),ss(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const P=new Tn(null);T&&Pe(P,T),m&&(P.g=m),L&&ss(P,L),y&&(P.h=y),T=P}return y=u.G,m=u.wa,y&&m&&Yt(T,y,m),Yt(T,"VER",u.ka),oa(u,T),T}function Qo(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new gi({ab:y})):new $t(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yo(){}a=Yo.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function fs(){}fs.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){Ae.call(this),this.g=new cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Li(this)}b(ln,Ae),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){ll(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=is(u),u=y);m.i.push(new we(m.Ya++,u)),m.I==3&&_i(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,ll(this.g),delete this.g,ln.Z.N.call(this)};function Xo(u){Ge.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Xo,Ge);function Ko(){In.call(this),this.status=1}b(Ko,In);function Li(u){this.g=u}b(Li,Yo),Li.prototype.ra=function(){ze(this.g,"a")},Li.prototype.qa=function(u){ze(this.g,new Xo(u))},Li.prototype.pa=function(u){ze(this.g,new Ko)},Li.prototype.oa=function(){ze(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Y0=function(){return new fs},Q0=function(){return ka()},F0=ye,md={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ta.NO_ERROR=0,ta.TIMEOUT=8,ta.HTTP_ERROR=6,lc=ta,Yr.COMPLETE="complete",G0=Yr,xo.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,Kl=xo,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,H0=$t}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});const h_="@firebase/firestore",f_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kr="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new V0("@firebase/firestore");function wr(){return Va.logLevel}function lt(a,...e){if(Va.logLevel<=jt.DEBUG){const i=e.map(Ud);Va.debug(`Firestore (${kr}): ${a}`,...i)}}function ts(a,...e){if(Va.logLevel<=jt.ERROR){const i=e.map(Ud);Va.error(`Firestore (${kr}): ${a}`,...i)}}function Vr(a,...e){if(Va.logLevel<=jt.WARN){const i=e.map(Ud);Va.warn(`Firestore (${kr}): ${a}`,...i)}}function Ud(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,X0(a,r,i)}function X0(a,e,i){let r=`FIRESTORE (${kr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ts(r),new Error(r)}function Qt(a,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||X0(e,o,r)}function At(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Ua{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(nn.UNAUTHENTICATED)))}shutdown(){}}class ib{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class sb{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Qt(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new Ca;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ca,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ca)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qt(typeof r.accessToken=="string",31837,{l:r}),new K0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qt(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class ab{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rb{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new ab(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class d_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,z0(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Qt(this.o===void 0,3512);const r=h=>{h.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new d_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new d_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=ob(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Ot(a,e){return a<e?-1:a>e?1:0}function gd(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const o=a.charAt(r),h=e.charAt(r);if(o!==h)return Jf(o)===Jf(h)?Ot(o,h):Jf(o)?1:-1}return Ot(a.length,e.length)}const ub=55296,cb=57343;function Jf(a){const e=a.charCodeAt(0);return e>=ub&&e<=cb}function Or(a,e,i){return a.length===e.length&&a.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="__name__";class wi{constructor(e,i,r){i===void 0?i=0:i>e.length&&_t(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&_t(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=wi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Ot(e.length,i.length)}static compareSegments(e,i){const r=wi.isNumericId(e),o=wi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?wi.extractNumericId(e).compare(wi.extractNumericId(i)):gd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bs.fromString(e.substring(4,e.length-2))}}class ae extends wi{construct(e,i,r){return new ae(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new at(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ae(i)}static emptyPath(){return new ae([])}}const hb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends wi{construct(e,i,r){return new $e(e,i,r)}static isValidIdentifier(e){return hb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===m_}static keyField(){return new $e([m_])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new at(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new at(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(h(),o++)}if(h(),d)throw new at(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $e(i)}static emptyPath(){return new $e([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(ae.fromString(e))}static fromName(e){return new mt(ae.fromString(e).popFirst(5))}static empty(){return new mt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ae.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new ae(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(a,e,i){if(!i)throw new at(K.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function fb(a,e,i,r){if(e===!0&&r===!0)throw new at(K.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function g_(a){if(!mt.isDocumentKey(a))throw new at(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function p_(a){if(mt.isDocumentKey(a))throw new at(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function $0(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function xc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":_t(12329,{type:typeof a})}function Na(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new at(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=xc(a);throw new at(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(a,e){const i={typeString:a};return e&&(i.value=e),i}function _o(a,e){if(!$0(a))throw new at(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new at(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=-62135596800,__=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(e){return ue.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*__);return new ue(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<y_)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/__}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_o(e,ue._jsonSchema))return new ue(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-y_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:Oe("string",ue._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new ue(0,0))}static max(){return new Et(new ue(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=-1;function db(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(r===1e9?new ue(i+1,0):new ue(i,r));return new qs(o,mt.empty(),e)}function mb(a){return new qs(a.readTime,a.key,lo)}class qs{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new qs(Et.min(),mt.empty(),lo)}static max(){return new qs(Et.max(),mt.empty(),lo)}}function gb(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(a.documentKey,e.documentKey),i!==0?i:Ot(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jr(a){if(a.code!==K.FAILED_PRECONDITION||a.message!==pb)throw a;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let o=0,h=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(v=>r(v)))})),d=!0,h===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((o=>o?Z.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,o)=>{const h=e.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++p,p===h&&r(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new Z(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function _b(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Br(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Cc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=-1;function Nc(a){return a==null}function pc(a){return a===0&&1/a==-1/0}function vb(a){return typeof a=="number"&&Number.isInteger(a)&&!pc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="";function Eb(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=v_(e)),e=Tb(a.get(i),e);return v_(e)}function Tb(a,e){let i=e;const r=a.length;for(let o=0;o<r;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case J0:i+="";break;default:i+=h}}return i}function v_(a){return a+J0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Xs(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function W0(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e,i){this.comparator=e,this.root=i||Ze.EMPTY}insert(e,i){return new fe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(e){return new fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tc(this.root,e,this.comparator,!0)}}class tc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ze{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??Ze.RED,this.left=o??Ze.EMPTY,this.right=h??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new Ze(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ze.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _t(27949);return e+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new Ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.comparator=e,this.data=new fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new T_(this.data.getIterator())}getIteratorFrom(e){return new T_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof ke)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new ke(this.comparator);return i.data=e,i}}class T_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort($e.comparator)}static empty(){return new Nn([])}unionWith(e){let i=new ke($e.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Nn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Or(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new tv("Invalid base64 string: "+h):h}})(e);return new Je(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const Ab=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(a){if(Qt(!!a,39018),typeof a=="string"){let e=0;const i=Ab.exec(a);if(Qt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Te(a.seconds),nanos:Te(a.nanos)}}function Te(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Gs(a){return typeof a=="string"?Je.fromBase64String(a):Je.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="server_timestamp",nv="__type__",iv="__previous_value__",sv="__local_write_time__";function kd(a){var i,r;return((r=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[nv])==null?void 0:r.stringValue)===ev}function Dc(a){const e=a.mapValue.fields[iv];return kd(e)?Dc(e):e}function oo(a){const e=Hs(a.mapValue.fields[sv].timestampValue);return new ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,i,r,o,h,d,p,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const yc="(default)";class uo{constructor(e,i){this.projectId=e,this.database=i||yc}static empty(){return new uo("","")}get isDefaultDatabase(){return this.database===yc}isEqual(e){return e instanceof uo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="__type__",Sb="__max__",ec={mapValue:{}},rv="__vector__",_c="value";function Fs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?kd(a)?4:Rb(a)?9007199254740991:wb(a)?10:11:_t(28295,{value:a})}function Vi(a,e){if(a===e)return!0;const i=Fs(a);if(i!==Fs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return oo(a).isEqual(oo(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Hs(o.timestampValue),p=Hs(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,h){return Gs(o.bytesValue).isEqual(Gs(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,h){return Te(o.geoPointValue.latitude)===Te(h.geoPointValue.latitude)&&Te(o.geoPointValue.longitude)===Te(h.geoPointValue.longitude)})(a,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return Te(o.integerValue)===Te(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=Te(o.doubleValue),p=Te(h.doubleValue);return d===p?pc(d)===pc(p):isNaN(d)&&isNaN(p)}return!1})(a,e);case 9:return Or(a.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(E_(d)!==E_(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Vi(d[v],p[v])))return!1;return!0})(a,e);default:return _t(52216,{left:a})}}function co(a,e){return(a.values||[]).find((i=>Vi(i,e)))!==void 0}function Mr(a,e){if(a===e)return 0;const i=Fs(a),r=Fs(e);if(i!==r)return Ot(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const p=Te(h.integerValue||h.doubleValue),v=Te(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(a,e);case 3:return A_(a.timestampValue,e.timestampValue);case 4:return A_(oo(a),oo(e));case 5:return gd(a.stringValue,e.stringValue);case 6:return(function(h,d){const p=Gs(h),v=Gs(d);return p.compareTo(v)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=Ot(p[_],v[_]);if(A!==0)return A}return Ot(p.length,v.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const p=Ot(Te(h.latitude),Te(d.latitude));return p!==0?p:Ot(Te(h.longitude),Te(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return b_(a.arrayValue,e.arrayValue);case 10:return(function(h,d){var I,H,W,tt;const p=h.fields||{},v=d.fields||{},_=(I=p[_c])==null?void 0:I.arrayValue,A=(H=v[_c])==null?void 0:H.arrayValue,b=Ot(((W=_==null?void 0:_.values)==null?void 0:W.length)||0,((tt=A==null?void 0:A.values)==null?void 0:tt.length)||0);return b!==0?b:b_(_,A)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===ec.mapValue&&d===ec.mapValue)return 0;if(h===ec.mapValue)return 1;if(d===ec.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let b=0;b<v.length&&b<A.length;++b){const I=gd(v[b],A[b]);if(I!==0)return I;const H=Mr(p[v[b]],_[A[b]]);if(H!==0)return H}return Ot(v.length,A.length)})(a.mapValue,e.mapValue);default:throw _t(23264,{he:i})}}function A_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ot(a,e);const i=Hs(a),r=Hs(e),o=Ot(i.seconds,r.seconds);return o!==0?o:Ot(i.nanos,r.nanos)}function b_(a,e){const i=a.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Mr(i[o],r[o]);if(h)return h}return Ot(i.length,r.length)}function Ur(a){return pd(a)}function pd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Hs(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Gs(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return mt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=pd(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${pd(i.fields[d])}`;return o+"}"})(a.mapValue):_t(61005,{value:a})}function oc(a){switch(Fs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dc(a);return e?16+oc(e):16;case 5:return 2*a.stringValue.length;case 6:return Gs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+oc(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Xs(r.fields,((h,d)=>{o+=h.length+oc(d)})),o})(a.mapValue);default:throw _t(13486,{value:a})}}function S_(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function yd(a){return!!a&&"integerValue"in a}function jd(a){return!!a&&"arrayValue"in a}function w_(a){return!!a&&"nullValue"in a}function R_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function uc(a){return!!a&&"mapValue"in a}function wb(a){var i,r;return((r=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[av])==null?void 0:r.stringValue)===rv}function to(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Xs(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=to(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=to(a.arrayValue.values[i]);return e}return{...a}}function Rb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Sb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!uc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=to(i)}setAll(e){let i=$e.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=to(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];uc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Xs(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new _n(to(this.value))}}function lv(a){const e=[];return Xs(a.fields,((i,r)=>{const o=new $e([i]);if(uc(r)){const h=lv(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,i,r,o,h,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new sn(e,0,Et.min(),Et.min(),Et.min(),_n.empty(),0)}static newFoundDocument(e,i,r,o){return new sn(e,1,i,Et.min(),r,o,0)}static newNoDocument(e,i){return new sn(e,2,i,Et.min(),Et.min(),_n.empty(),0)}static newUnknownDocument(e,i){return new sn(e,3,i,Et.min(),Et.min(),_n.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,i){this.position=e,this.inclusive=i}}function x_(a,e,i){let r=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?r=mt.comparator(mt.fromName(d.referenceValue),i.key):r=Mr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function C_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Vi(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,i="asc"){this.field=e,this.dir=i}}function xb(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{}class Ve extends ov{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Nb(e,i,r):i==="array-contains"?new Vb(e,r):i==="in"?new Ob(e,r):i==="not-in"?new Mb(e,r):i==="array-contains-any"?new Ub(e,r):new Ve(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new Db(e,r):new Ib(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Mr(i,this.value)):i!==null&&Fs(this.value)===Fs(i)&&this.matchesComparison(Mr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends ov{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ii(e,i)}matches(e){return uv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uv(a){return a.op==="and"}function cv(a){return Cb(a)&&uv(a)}function Cb(a){for(const e of a.filters)if(e instanceof ii)return!1;return!0}function _d(a){if(a instanceof Ve)return a.field.canonicalString()+a.op.toString()+Ur(a.value);if(cv(a))return a.filters.map((e=>_d(e))).join(",");{const e=a.filters.map((i=>_d(i))).join(",");return`${a.op}(${e})`}}function hv(a,e){return a instanceof Ve?(function(r,o){return o instanceof Ve&&r.op===o.op&&r.field.isEqual(o.field)&&Vi(r.value,o.value)})(a,e):a instanceof ii?(function(r,o){return o instanceof ii&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,p)=>h&&hv(d,o.filters[p])),!0):!1})(a,e):void _t(19439)}function fv(a){return a instanceof Ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ur(i.value)}`})(a):a instanceof ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(fv).join(" ,")+"}"})(a):"Filter"}class Nb extends Ve{constructor(e,i,r){super(e,i,r),this.key=mt.fromName(r.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Db extends Ve{constructor(e,i){super(e,"in",i),this.keys=dv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Ib extends Ve{constructor(e,i){super(e,"not-in",i),this.keys=dv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function dv(a,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((r=>mt.fromName(r.referenceValue)))}class Vb extends Ve{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return jd(i)&&co(i.arrayValue,this.value)}}class Ob extends Ve{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&co(this.value.arrayValue,i)}}class Mb extends Ve{constructor(e,i){super(e,"not-in",i)}matches(e){if(co(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!co(this.value.arrayValue,i)}}class Ub extends Ve{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!jd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>co(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,i=null,r=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function N_(a,e=null,i=[],r=[],o=null,h=null,d=null){return new zb(a,e,i,r,o,h,d)}function Bd(a){const e=At(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>_d(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),Nc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Ur(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Ur(r))).join(",")),e.Te=i}return e.Te}function Pd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!xb(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!hv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!C_(a.startAt,e.startAt)&&C_(a.endAt,e.endAt)}function vd(a){return mt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,i=null,r=[],o=[],h=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Lb(a,e,i,r,o,h,d,p){return new Pr(a,e,i,r,o,h,d,p)}function qd(a){return new Pr(a)}function D_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function mv(a){return a.collectionGroup!==null}function eo(a){const e=At(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new ke($e.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new ho(h,r))})),i.has($e.keyField().canonicalString())||e.Ie.push(new ho($e.keyField(),r))}return e.Ie}function xi(a){const e=At(a);return e.Ee||(e.Ee=kb(e,eo(a))),e.Ee}function kb(a,e){if(a.limitType==="F")return N_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new ho(o.field,h)}));const i=a.endAt?new vc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new vc(a.startAt.position,a.startAt.inclusive):null;return N_(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function Ed(a,e){const i=a.filters.concat([e]);return new Pr(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Ec(a,e,i){return new Pr(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Ic(a,e){return Pd(xi(a),xi(e))&&a.limitType===e.limitType}function gv(a){return`${Bd(xi(a))}|lt:${a.limitType}`}function Rr(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>fv(o))).join(", ")}]`),Nc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Ur(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Ur(o))).join(",")),`Target(${r})`})(xi(a))}; limitType=${a.limitType})`}function Vc(a,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):mt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,e)&&(function(r,o){for(const h of eo(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(a,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,v){const _=x_(d,p,v);return d.inclusive?_<=0:_<0})(r.startAt,eo(r),o)||r.endAt&&!(function(d,p,v){const _=x_(d,p,v);return d.inclusive?_>=0:_>0})(r.endAt,eo(r),o))})(a,e)}function jb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function pv(a){return(e,i)=>{let r=!1;for(const o of eo(a)){const h=Bb(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function Bb(a,e,i){const r=a.field.isKeyField()?mt.comparator(e.key,i.key):(function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?Mr(v,_):_t(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Xs(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return W0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=new fe(mt.comparator);function es(){return Pb}const yv=new fe(mt.comparator);function Zl(...a){let e=yv;for(const i of a)e=e.insert(i.key,i);return e}function _v(a){let e=yv;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function xa(){return no()}function vv(){return no()}function no(){return new za((a=>a.toString()),((a,e)=>a.isEqual(e)))}const qb=new fe(mt.comparator),Hb=new ke(mt.comparator);function Mt(...a){let e=Hb;for(const i of a)e=e.add(i);return e}const Gb=new ke(Ot);function Fb(){return Gb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pc(e)?"-0":e}}function Ev(a){return{integerValue:""+a}}function Qb(a,e){return vb(e)?Ev(e):Hd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){this._=void 0}}function Yb(a,e,i){return a instanceof fo?(function(o,h){const d={fields:{[nv]:{stringValue:ev},[sv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&kd(h)&&(h=Dc(h)),h&&(d.fields[iv]=h),{mapValue:d}})(i,e):a instanceof mo?Av(a,e):a instanceof go?bv(a,e):(function(o,h){const d=Tv(o,h),p=I_(d)+I_(o.Ae);return yd(d)&&yd(o.Ae)?Ev(p):Hd(o.serializer,p)})(a,e)}function Xb(a,e,i){return a instanceof mo?Av(a,e):a instanceof go?bv(a,e):i}function Tv(a,e){return a instanceof Tc?(function(r){return yd(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class fo extends Oc{}class mo extends Oc{constructor(e){super(),this.elements=e}}function Av(a,e){const i=Sv(e);for(const r of a.elements)i.some((o=>Vi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class go extends Oc{constructor(e){super(),this.elements=e}}function bv(a,e){let i=Sv(e);for(const r of a.elements)i=i.filter((o=>!Vi(o,r)));return{arrayValue:{values:i}}}class Tc extends Oc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function I_(a){return Te(a.integerValue||a.doubleValue)}function Sv(a){return jd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,i){this.field=e,this.transform=i}}function Zb(a,e){return a.field.isEqual(e.field)&&(function(r,o){return r instanceof mo&&o instanceof mo||r instanceof go&&o instanceof go?Or(r.elements,o.elements,Vi):r instanceof Tc&&o instanceof Tc?Vi(r.Ae,o.Ae):r instanceof fo&&o instanceof fo})(a.transform,e.transform)}class $b{constructor(e,i){this.version=e,this.transformResults=i}}class Ci{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ci}static exists(e){return new Ci(void 0,e)}static updateTime(e){return new Ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Mc{}function wv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new xv(a.key,Ci.none()):new vo(a.key,a.data,Ci.none());{const i=a.data,r=_n.empty();let o=new ke($e.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Ks(a.key,r,new Nn(o.toArray()),Ci.none())}}function Jb(a,e,i){a instanceof vo?(function(o,h,d){const p=o.value.clone(),v=O_(o.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,e,i):a instanceof Ks?(function(o,h,d){if(!cc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=O_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Rv(o)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(a,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function io(a,e,i,r){return a instanceof vo?(function(h,d,p,v){if(!cc(h.precondition,d))return p;const _=h.value.clone(),A=M_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,e,i,r):a instanceof Ks?(function(h,d,p,v){if(!cc(h.precondition,d))return p;const _=M_(h.fieldTransforms,v,d),A=d.data;return A.setAll(Rv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((b=>b.field)))})(a,e,i,r):(function(h,d,p){return cc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,e,i)}function Wb(a,e){let i=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),h=Tv(r.transform,o||null);h!=null&&(i===null&&(i=_n.empty()),i.set(r.field,h))}return i||null}function V_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Or(r,o,((h,d)=>Zb(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class vo extends Mc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ks extends Mc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Rv(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function O_(a,e,i){const r=new Map;Qt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,p=e.data.field(h.field);r.set(h.field,Xb(d,p,i[o]))}return r}function M_(a,e,i){const r=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);r.set(o.field,Yb(h,d,e))}return r}class xv extends Mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t2 extends Mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&Jb(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=io(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=io(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=vv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const v=wv(d,p);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Et.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Mt())}isEqual(e){return this.batchId===e.batchId&&Or(this.mutations,e.mutations,((i,r)=>V_(i,r)))&&Or(this.baseMutations,e.baseMutations,((i,r)=>V_(i,r)))}}class Gd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Qt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return qb})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Gd(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,kt;function s2(a){switch(a){case K.OK:return _t(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return _t(15467,{code:a})}}function Cv(a){if(a===void 0)return ts("GRPC error has no .code"),K.UNKNOWN;switch(a){case Ie.OK:return K.OK;case Ie.CANCELLED:return K.CANCELLED;case Ie.UNKNOWN:return K.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return K.INTERNAL;case Ie.UNAVAILABLE:return K.UNAVAILABLE;case Ie.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ie.NOT_FOUND:return K.NOT_FOUND;case Ie.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ie.ABORTED:return K.ABORTED;case Ie.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ie.DATA_LOSS:return K.DATA_LOSS;default:return _t(39323,{code:a})}}(kt=Ie||(Ie={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new Bs([4294967295,4294967295],0);function U_(a){const e=a2().encode(a),i=new q0;return i.update(e),new Uint8Array(i.digest())}function z_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Bs([i,r],0),new Bs([o,h],0)]}class Fd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new $l(`Invalid padding: ${i}`);if(r<0)throw new $l(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new $l(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Bs.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Bs.fromNumber(r)));return o.compare(r2)===1&&(o=new Bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=U_(e),[r,o]=z_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Fd(h,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=U_(e),[r,o]=z_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Eo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Uc(Et.min(),o,new fe(Ot),es(),Mt())}}class Eo{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Eo(r,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Nv{constructor(e,i){this.targetId=e,this.Ce=i}}class Dv{constructor(e,i,r=Je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class L_{constructor(){this.ve=0,this.Fe=k_(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mt(),i=Mt(),r=Mt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:_t(38017,{changeType:h})}})),new Eo(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=k_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class l2{constructor(e){this.Ge=e,this.ze=new Map,this.je=es(),this.Je=nc(),this.He=nc(),this.Ye=new fe(Ot)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:_t(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(vd(h))if(r===0){const d=new mt(h.path);this.et(i,d,sn.newNoDocument(d,Et.min()))}else Qt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=Gs(r).toUint8Array()}catch(v){if(v instanceof tv)return Vr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Fd(d,o,h)}catch(v){return Vr(v instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&vd(p.target)){const v=new mt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,sn.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=Mt();this.He.forEach(((h,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Uc(e,i,this.Ye,this.je,r);return this.je=es(),this.Je=nc(),this.He=nc(),this.Ye=new fe(Ot),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new L_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new ke(Ot),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new ke(Ot),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new L_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function nc(){return new fe(mt.comparator)}function k_(){return new fe(mt.comparator)}const o2={asc:"ASCENDING",desc:"DESCENDING"},u2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c2={and:"AND",or:"OR"};class h2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Td(a,e){return a.useProto3Json||Nc(e)?e:{value:e}}function Ac(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Iv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function f2(a,e){return Ac(a,e.toTimestamp())}function Ni(a){return Qt(!!a,49232),Et.fromTimestamp((function(i){const r=Hs(i);return new ue(r.seconds,r.nanos)})(a))}function Qd(a,e){return Ad(a,e).canonicalString()}function Ad(a,e){const i=(function(o){return new ae(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function Vv(a){const e=ae.fromString(a);return Qt(Lv(e),10190,{key:e.toString()}),e}function bd(a,e){return Qd(a.databaseId,e.path)}function Wf(a,e){const i=Vv(e);if(i.get(1)!==a.databaseId.projectId)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new mt(Mv(i))}function Ov(a,e){return Qd(a.databaseId,e)}function d2(a){const e=Vv(a);return e.length===4?ae.emptyPath():Mv(e)}function Sd(a){return new ae(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Mv(a){return Qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function j_(a,e,i){return{name:bd(a,e),fields:i.value.mapValue.fields}}function m2(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(Qt(A===void 0||typeof A=="string",58123),Je.fromBase64String(A||"")):(Qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Je.fromUint8Array(A||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?K.UNKNOWN:Cv(_.code);return new at(A,_.message||"")})(d);i=new Dv(r,o,h,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Wf(a,r.document.name),h=Ni(r.document.updateTime),d=r.document.createTime?Ni(r.document.createTime):Et.min(),p=new _n({mapValue:{fields:r.document.fields}}),v=sn.newFoundDocument(o,h,d,p),_=r.targetIds||[],A=r.removedTargetIds||[];i=new hc(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Wf(a,r.document),h=r.readTime?Ni(r.readTime):Et.min(),d=sn.newNoDocument(o,h),p=r.removedTargetIds||[];i=new hc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Wf(a,r.document),h=r.removedTargetIds||[];i=new hc([],h,o,null)}else{if(!("filter"in e))return _t(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new i2(o,h),p=r.targetId;i=new Nv(p,d)}}return i}function g2(a,e){let i;if(e instanceof vo)i={update:j_(a,e.key,e.value)};else if(e instanceof xv)i={delete:bd(a,e.key)};else if(e instanceof Ks)i={update:j_(a,e.key,e.data),updateMask:S2(e.fieldMask)};else{if(!(e instanceof t2))return _t(16599,{Vt:e.type});i={verify:bd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const p=d.transform;if(p instanceof fo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof mo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof go)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Tc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:f2(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:_t(27497)})(a,e.precondition)),i}function p2(a,e){return a&&a.length>0?(Qt(e!==void 0,14353),a.map((i=>(function(o,h){let d=o.updateTime?Ni(o.updateTime):Ni(h);return d.isEqual(Et.min())&&(d=Ni(h)),new $b(d,o.transformResults||[])})(i,e)))):[]}function y2(a,e){return{documents:[Ov(a,e.path)]}}function _2(a,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Ov(a,o);const h=(function(_){if(_.length!==0)return zv(ii.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(I){return{field:xr(I.field),direction:T2(I.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Td(a,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function v2(a){let e=d2(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Qt(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(b){const I=Uv(b);return I instanceof ii&&cv(I)?I.getFilters():[I]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((I=>(function(W){return new ho(Cr(W.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(I)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let I;return I=typeof b=="object"?b.value:b,Nc(I)?null:I})(i.limit));let v=null;i.startAt&&(v=(function(b){const I=!!b.before,H=b.values||[];return new vc(H,I)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const I=!b.before,H=b.values||[];return new vc(H,I)})(i.endAt)),Lb(e,o,d,h,p,"F",v,_)}function E2(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Uv(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Cr(i.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Cr(i.unaryFilter.field);return Ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Cr(i.unaryFilter.field);return Ve.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Cr(i.unaryFilter.field);return Ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ve.create(Cr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return ii.create(i.compositeFilter.filters.map((r=>Uv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(a):_t(30097,{filter:a})}function T2(a){return o2[a]}function A2(a){return u2[a]}function b2(a){return c2[a]}function xr(a){return{fieldPath:a.canonicalString()}}function Cr(a){return $e.fromServerFormat(a.fieldPath)}function zv(a){return a instanceof Ve?(function(i){if(i.op==="=="){if(R_(i.value))return{unaryFilter:{field:xr(i.field),op:"IS_NAN"}};if(w_(i.value))return{unaryFilter:{field:xr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(R_(i.value))return{unaryFilter:{field:xr(i.field),op:"IS_NOT_NAN"}};if(w_(i.value))return{unaryFilter:{field:xr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xr(i.field),op:A2(i.op),value:i.value}}})(a):a instanceof ii?(function(i){const r=i.getFilters().map((o=>zv(o)));return r.length===1?r[0]:{compositeFilter:{op:b2(i.op),filters:r}}})(a):_t(54877,{filter:a})}function S2(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Lv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,i,r,o,h=Et.min(),d=Et.min(),p=Je.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.yt=e}}function R2(a){const e=v2({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Ec(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.Cn=new C2}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(qs.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class C2{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new ke(ae.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new ke(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kv=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(kv,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zr(0)}static cr(){return new zr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="LruGarbageCollector",N2=1048576;function q_([a,e],[i,r]){const o=Ot(a,i);return o===0?Ot(e,r):o}class D2{constructor(e){this.Ir=e,this.buffer=new ke(q_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();q_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class I2{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){lt(P_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Br(i)?lt(P_,"Ignoring IndexedDB error during garbage collection: ",i):await jr(i)}await this.Vr(3e5)}))}}class V2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Cc.ce);const r=new D2(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(B_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,h,d,p,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(r=b,p=Date.now(),this.removeTargets(e,r,i)))).next((b=>(h=b,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(_=Date.now(),wr()<=jt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${b} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:b}))))}}function O2(a,e){return new V2(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.changes=new za((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&io(r.mutation,o,Nn.empty(),ue.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Mt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Mt()){const o=xa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=Zl();return h.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=xa();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Mt())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let h=es();const d=no(),p=(function(){return no()})();return i.forEach(((v,_)=>{const A=r.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Ks)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),io(A.mutation,_,A.mutation.getFieldMask(),ue.now())):d.set(_.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new U2(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=no();let o=new fe(((d,p)=>d-p)),h=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||Nn.empty();A=p.applyToLocalView(_,A),r.set(v,A);const b=(o.get(p.batchId)||Mt()).add(v);o=o.insert(p.batchId,b)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,b=vv();A.forEach((I=>{if(!h.has(I)){const H=wv(i.get(I),r.get(I));H!==null&&b.set(I,H),h=h.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,b))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):mv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):Z.resolve(xa());let p=lo,v=h;return d.next((_=>Z.forEach(_,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),h.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((I=>{v=v.insert(A,I)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Mt()))).next((A=>({batchId:p,changes:_v(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next((r=>{let o=Zl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=Zl();return this.indexManager.getCollectionParents(e,h).next((p=>Z.forEach(p,(v=>{const _=(function(b,I){return new Pr(I,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((A=>{A.forEach(((b,I)=>{d=d.insert(b,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,sn.newInvalidDocument(A)))}));let p=Zl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&io(A.mutation,_,Nn.empty(),ue.now()),Vc(i,_)&&(p=p.insert(v,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:R2(o.bundledQuery),readTime:Ni(o.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.overlays=new fe(mt.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=xa();return Z.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.St(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const o=xa(),h=i.length+1,d=new mt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new fe(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=xa(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=xa(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=o)););return Z.resolve(p)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new n2(i,r));let h=this.qr.get(i);h===void 0&&(h=Mt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this.Qr=new ke(He.$r),this.Ur=new ke(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new He(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new He(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new mt(new ae([])),r=new He(i,e),o=new He(i,e+1),h=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new mt(new ae([])),r=new He(i,e),o=new He(i,e+1);let h=Mt();return this.Ur.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new He(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class He{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return mt.comparator(e.key,i.key)||Ot(e.Yr,i.Yr)}static Kr(e,i){return Ot(e.Yr,i.Yr)||mt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ke(He.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new e2(h,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new He(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Ld:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new He(i,0),o=new He(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(d=>{const p=this.Xr(d.Yr);h.push(p)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new ke(Ot);return i.forEach((o=>{const h=new He(o,0),d=new He(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(p=>{r=r.add(p.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;mt.isDocumentKey(h)||(h=h.child(""));const d=new He(new mt(h),0);let p=new ke(Ot);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(p=p.add(v.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(o=>{const h=new He(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new He(i,0),o=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.ri=e,this.docs=(function(){return new fe(mt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(i))}getEntries(e,i){let r=es();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():sn.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=es();const d=i.path,p=new mt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||gb(mb(A),r)<=0||(o.has(A.key)||Vc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,r,o){_t(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new q2(this)}getSize(e){return Z.resolve(this.size)}}class q2 extends M2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.persistence=e,this.si=new za((i=>Bd(i)),Pd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Yd,this.targetCount=0,this.ai=zr.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new zr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),Z.waitFor(h).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,i){this.ui={},this.overlays={},this.ci=new Cc(0),this.li=!1,this.li=!0,this.hi=new j2,this.referenceDelegate=e(this),this.Pi=new H2(this),this.indexManager=new x2,this.remoteDocumentCache=(function(o){return new P2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new w2(i),this.Ii=new L2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new k2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new B2(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){lt("MemoryPersistence","Starting transaction:",e);const o=new G2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class G2 extends yb{constructor(e){super(),this.currentSequenceNumber=e}}class Xd{constructor(e){this.persistence=e,this.Ri=new Yd,this.Vi=null}static mi(e){return new Xd(e)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const o=mt.fromPath(r);return this.gi(e,o).next((h=>{h||i.removeEntry(o,Et.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class bc{constructor(e,i){this.persistence=e,this.pi=new za((r=>Eb(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=O2(this,i)}static mi(e,i){return new bc(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,o)=>this.br(e,r,o).next((h=>h?Z.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,h.removeEntry(d,Et.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=oc(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Mt(),o=Mt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Kd(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return BT()?8:_b(kT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new F2;return this.Ss(e,i,d).next((p=>{if(h.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>h.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(wr()<=jt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Rr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(wr()<=jt.DEBUG&&lt("QueryEngine","Query:",Rr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(wr()<=jt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Rr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(i))):Z.resolve())}ys(e,i){if(D_(i))return Z.resolve(null);let r=xi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Ec(i,null,"F"),r=xi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Mt(...h);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(i,p);return this.Cs(i,_,d,v.readTime)?this.ys(e,Ec(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,r,o){return D_(i)||o.isEqual(Et.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?Z.resolve(null):(wr()<=jt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Rr(i)),this.vs(e,d,i,db(o,lo)).next((p=>p)))}))}Ds(e,i){let r=new ke(pv(e));return i.forEach(((o,h)=>{Vc(e,h)&&(r=r.add(h))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,r){return wr()<=jt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Rr(i)),this.ps.getDocumentsMatchingQuery(e,i,qs.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="LocalStore",Y2=3e8;class X2{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new fe(Ot),this.xs=new za((h=>Bd(h)),Pd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new z2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function K2(a,e,i,r){return new X2(a,e,i,r)}async function Bv(a,e){const i=At(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],p=[];let v=Mt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function Z2(a,e){const i=At(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,A){const b=_.batch,I=b.keys();let H=Z.resolve();return I.forEach((W=>{H=H.next((()=>A.getEntry(v,W))).next((tt=>{const $=_.docVersions.get(W);Qt($!==null,48541),tt.version.compareTo($)<0&&(b.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),A.addEntry(tt)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(v,b)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let v=Mt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function Pv(a){const e=At(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function $2(a,e){const i=At(a),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((A,b)=>{const I=o.get(b);if(!I)return;p.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,b))));let H=I.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(b)!==null?H=H.withResumeToken(Je.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,r)),o=o.insert(b,H),(function(tt,$,ht){return tt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=Y2?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(I,H,A)&&p.push(i.Pi.updateTargetData(h,H))}));let v=es(),_=Mt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),p.push(J2(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!r.isEqual(Et.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((b=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));p.push(A)}return Z.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function J2(a,e,i){let r=Mt(),o=Mt();return i.forEach((h=>r=r.add(h))),e.getEntries(a,r).next((h=>{let d=es();return i.forEach(((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(Et.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):lt(Zd,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function W2(a,e){const i=At(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ld),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function tS(a,e){const i=At(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((h=>h?(o=h,Z.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new zs(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function wd(a,e,i){const r=At(a),o=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Br(d))throw d;lt(Zd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function H_(a,e,i){const r=At(a);let o=Et.min(),h=Mt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const b=At(v),I=b.xs.get(A);return I!==void 0?Z.resolve(b.Ms.get(I)):b.Pi.getTargetData(_,A)})(r,d,xi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?h:Mt()))).next((p=>(eS(r,jb(e),p),{documents:p,Qs:h})))))}function eS(a,e,i){let r=a.Os.get(e)||Et.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Os.set(e,r)}class G_{constructor(){this.activeTargetIds=Fb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nS{constructor(){this.Mo=new G_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new G_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="ConnectivityMonitor";class Q_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(F_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){lt(F_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic=null;function Rd(){return ic===null?ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():ic++,"0x"+ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="RestConnection",sS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===yc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,h){const d=Rd(),p=this.zo(e,i.toUriEncodedString());lt(td,`Sending RPC '${e}' ${d}:`,p,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(p),A=yo(_);return this.Jo(e,p,v,r,A).then((b=>(lt(td,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw Vr(td,`RPC '${e}' ${d} failed with error: `,b,"url: ",p,"request:",r),b}))}Ho(e,i,r,o,h,d){return this.Go(e,i,r,o,h)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const r=sS[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class lS extends aS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,h){const d=Rd();return new Promise(((p,v)=>{const _=new H0;_.setWithCredentials(!0),_.listenOnce(G0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case lc.NO_ERROR:const b=_.getResponseJson();lt(en,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),p(b);break;case lc.TIMEOUT:lt(en,`RPC '${e}' ${d} timed out`),v(new at(K.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:const I=_.getStatus();if(lt(en,`RPC '${e}' ${d} failed with status:`,I,"response text:",_.getResponseText()),I>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const W=H==null?void 0:H.error;if(W&&W.status&&W.message){const tt=(function(ht){const gt=ht.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(gt)>=0?gt:K.UNKNOWN})(W.status);v(new at(tt,W.message))}else v(new at(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new at(K.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{lt(en,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);lt(en,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,r,15)}))}T_(e,i,r){const o=Rd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Y0(),p=Q0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=h.join("");lt(en,`Creating RPC '${e}' stream ${o}: ${A}`,v);const b=d.createWebChannel(A,v);this.I_(b);let I=!1,H=!1;const W=new rS({Yo:$=>{H?lt(en,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(I||(lt(en,`Opening RPC '${e}' stream ${o} transport.`),b.open(),I=!0),lt(en,`RPC '${e}' stream ${o} sending:`,$),b.send($))},Zo:()=>b.close()}),tt=($,ht,gt)=>{$.listen(ht,(ut=>{try{gt(ut)}catch(yt){setTimeout((()=>{throw yt}),0)}}))};return tt(b,Kl.EventType.OPEN,(()=>{H||(lt(en,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),tt(b,Kl.EventType.CLOSE,(()=>{H||(H=!0,lt(en,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(b))})),tt(b,Kl.EventType.ERROR,($=>{H||(H=!0,Vr(en,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),W.a_(new at(K.UNAVAILABLE,"The operation could not be completed")))})),tt(b,Kl.EventType.MESSAGE,($=>{var ht;if(!H){const gt=$.data[0];Qt(!!gt,16349);const ut=gt,yt=(ut==null?void 0:ut.error)||((ht=ut[0])==null?void 0:ht.error);if(yt){lt(en,`RPC '${e}' stream ${o} received error:`,yt);const Lt=yt.status;let Rt=(function(x){const O=Ie[x];if(O!==void 0)return Cv(O)})(Lt),C=yt.message;Rt===void 0&&(Rt=K.INTERNAL,C="Unknown error status: "+Lt+" with message "+yt.message),H=!0,W.a_(new at(Rt,C)),b.close()}else lt(en,`RPC '${e}' stream ${o} received:`,gt),W.u_(gt)}})),tt(p,F0.STAT_EVENT,($=>{$.stat===md.PROXY?lt(en,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===md.NOPROXY&&lt(en,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function ed(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(a){return new h2(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="PersistentStream";class Hv{constructor(e,i,r,o,h,d,p,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(ts(i.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new at(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return lt(Y_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(lt(Y_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oS extends Hv{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=m2(this.serializer,e),r=(function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Ni(d.readTime):Et.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Sd(this.serializer),i.addTarget=(function(h,d){let p;const v=d.target;if(p=vd(v)?{documents:y2(h,v)}:{query:_2(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Iv(h,d.resumeToken);const _=Td(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=Ac(h,d.snapshotVersion.toTimestamp());const _=Td(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const r=E2(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Sd(this.serializer),i.removeTarget=e,this.q_(i)}}class uS extends Hv{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=p2(e.writeResults,e.commitTime),r=Ni(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Sd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>g2(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{}class hS extends cS{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,Ad(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(K.UNKNOWN,h.toString())}))}Ho(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Ad(i,r),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class fS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="RemoteStore";class dS{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{La(this)&&(lt(Oa,"Restarting streams for network reachability change."),await(async function(v){const _=At(v);_.Ea.add(4),await To(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Lc(_)})(this))}))})),this.Ra=new fS(r,o)}}async function Lc(a){if(La(a))for(const e of a.da)await e(!0)}async function To(a){for(const e of a.da)await e(!1)}function Gv(a,e){const i=At(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),tm(i)?Wd(i):qr(i).O_()&&Jd(i,e))}function $d(a,e){const i=At(a),r=qr(i);i.Ia.delete(e),r.O_()&&Fv(i,e),i.Ia.size===0&&(r.O_()?r.L_():La(i)&&i.Ra.set("Unknown"))}function Jd(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}qr(a).Y_(e)}function Fv(a,e){a.Va.Ue(e),qr(a).Z_(e)}function Wd(a){a.Va=new l2({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),qr(a).start(),a.Ra.ua()}function tm(a){return La(a)&&!qr(a).x_()&&a.Ia.size>0}function La(a){return At(a).Ea.size===0}function Qv(a){a.Va=void 0}async function mS(a){a.Ra.set("Online")}async function gS(a){a.Ia.forEach(((e,i)=>{Jd(a,e)}))}async function pS(a,e){Qv(a),tm(a)?(a.Ra.ha(e),Wd(a)):a.Ra.set("Unknown")}async function yS(a,e,i){if(a.Ra.set("Online"),e instanceof Dv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(a,e)}catch(r){lt(Oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sc(a,r)}else if(e instanceof hc?a.Va.Ze(e):e instanceof Nv?a.Va.st(e):a.Va.tt(e),!i.isEqual(Et.min()))try{const r=await Pv(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Je.EMPTY_BYTE_STRING,A.snapshotVersion)),Fv(h,v);const b=new zs(A.target,v,_,A.sequenceNumber);Jd(h,b)})),h.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){lt(Oa,"Failed to raise snapshot:",r),await Sc(a,r)}}async function Sc(a,e,i){if(!Br(e))throw e;a.Ea.add(1),await To(a),a.Ra.set("Offline"),i||(i=()=>Pv(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{lt(Oa,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Lc(a)}))}function Yv(a,e){return e().catch((i=>Sc(a,i,e)))}async function kc(a){const e=At(a),i=Qs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ld;for(;_S(e);)try{const o=await W2(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,vS(e,o)}catch(o){await Sc(e,o)}Xv(e)&&Kv(e)}function _S(a){return La(a)&&a.Ta.length<10}function vS(a,e){a.Ta.push(e);const i=Qs(a);i.O_()&&i.X_&&i.ea(e.mutations)}function Xv(a){return La(a)&&!Qs(a).x_()&&a.Ta.length>0}function Kv(a){Qs(a).start()}async function ES(a){Qs(a).ra()}async function TS(a){const e=Qs(a);for(const i of a.Ta)e.ea(i.mutations)}async function AS(a,e,i){const r=a.Ta.shift(),o=Gd.from(r,e,i);await Yv(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await kc(a)}async function bS(a,e){e&&Qs(a).X_&&await(async function(r,o){if((function(d){return s2(d)&&d!==K.ABORTED})(o.code)){const h=r.Ta.shift();Qs(r).B_(),await Yv(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await kc(r)}})(a,e),Xv(a)&&Kv(a)}async function X_(a,e){const i=At(a);i.asyncQueue.verifyOperationInProgress(),lt(Oa,"RemoteStore received new credentials");const r=La(i);i.Ea.add(3),await To(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Lc(i)}async function SS(a,e){const i=At(a);e?(i.Ea.delete(2),await Lc(i)):e||(i.Ea.add(2),await To(i),i.Ra.set("Unknown"))}function qr(a){return a.ma||(a.ma=(function(i,r,o){const h=At(i);return h.sa(),new oS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Xo:mS.bind(null,a),t_:gS.bind(null,a),r_:pS.bind(null,a),H_:yS.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),tm(a)?Wd(a):a.Ra.set("Unknown")):(await a.ma.stop(),Qv(a))}))),a.ma}function Qs(a){return a.fa||(a.fa=(function(i,r,o){const h=At(i);return h.sa(),new uS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:ES.bind(null,a),r_:bS.bind(null,a),ta:TS.bind(null,a),na:AS.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await kc(a)):(await a.fa.stop(),a.Ta.length>0&&(lt(Oa,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,p=new em(e,i,d,o,h);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nm(a,e){if(ts("AsyncQueue",`${e}: ${a}`),Br(a))return new at(K.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{static emptySet(e){return new Nr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||mt.comparator(i.key,r.key):(i,r)=>mt.comparator(i.key,r.key),this.keyedMap=Zl(),this.sortedSet=new fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Nr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Nr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.ga=new fe(mt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):_t(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Lr{constructor(e,i,r,o,h,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Lr(e,i,Nr.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ic(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class RS{constructor(){this.queries=Z_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=At(i),h=o.queries;o.queries=Z_(),h.forEach(((d,p)=>{for(const v of p.Sa)v.onError(r)}))})(this,new at(K.ABORTED,"Firestore shutting down"))}}function Z_(){return new za((a=>gv(a)),Ic)}async function xS(a,e){const i=At(a);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(r=2):(h=new wS,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=nm(d,`Initialization of query '${Rr(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&im(i)}async function CS(a,e){const i=At(a),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function NS(a,e){const i=At(a);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(o)&&(r=!0);d.wa=o}}r&&im(i)}function DS(a,e,i){const r=At(a),o=r.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(e)}function im(a){a.Ca.forEach((e=>{e.next()}))}var xd,$_;($_=xd||(xd={})).Ma="default",$_.Cache="cache";class IS{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Lr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Lr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this.key=e}}class $v{constructor(e){this.key=e}}class VS{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=pv(e),this.tu=new Nr(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new K_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,b)=>{const I=o.get(A),H=Vc(this.query,b)?b:null,W=!!I&&this.mutatedKeys.has(I.key),tt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let $=!1;I&&H?I.data.isEqual(H.data)?W!==tt&&(r.track({type:3,doc:H}),$=!0):this.su(I,H)||(r.track({type:2,doc:H}),$=!0,(v&&this.eu(H,v)>0||_&&this.eu(H,_)<0)&&(p=!0)):!I&&H?(r.track({type:0,doc:H}),$=!0):I&&!H&&(r.track({type:1,doc:I}),$=!0,(v||_)&&(p=!0)),$&&(H?(d=d.add(H),h=tt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,b)=>(function(H,W){const tt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:$})}};return tt(H)-tt(W)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Lr(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new K_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Mt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new $v(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new Zv(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Mt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Lr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sm="SyncEngine";class OS{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class MS{constructor(e){this.key=e,this.hu=!1}}class US{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new za((p=>gv(p)),Ic),this.Iu=new Map,this.Eu=new Set,this.du=new fe(mt.comparator),this.Au=new Map,this.Ru=new Yd,this.Vu={},this.mu=new Map,this.fu=zr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zS(a,e,i=!0){const r=i1(a);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await Jv(r,e,i,!0),o}async function LS(a,e){const i=i1(a);await Jv(i,e,!0,!1)}async function Jv(a,e,i,r){const o=await tS(a.localStore,xi(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let p;return r&&(p=await kS(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&Gv(a.remoteStore,o),p}async function kS(a,e,i,r,o){a.pu=(b,I,H)=>(async function(tt,$,ht,gt){let ut=$.view.ru(ht);ut.Cs&&(ut=await H_(tt.localStore,$.query,!1).then((({documents:C})=>$.view.ru(C,ut))));const yt=gt&&gt.targetChanges.get($.targetId),Lt=gt&&gt.targetMismatches.get($.targetId)!=null,Rt=$.view.applyChanges(ut,tt.isPrimaryClient,yt,Lt);return W_(tt,$.targetId,Rt.au),Rt.snapshot})(a,b,I,H);const h=await H_(a.localStore,e,!0),d=new VS(e,h.Qs),p=d.ru(h.documents),v=Eo.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),_=d.applyChanges(p,a.isPrimaryClient,v);W_(a,i,_.au);const A=new OS(e,i,d);return a.Tu.set(e,A),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),_.snapshot}async function jS(a,e,i){const r=At(a),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!Ic(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await wd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&$d(r.remoteStore,o.targetId),Cd(r,o.targetId)})).catch(jr)):(Cd(r,o.targetId),await wd(r.localStore,o.targetId,!0))}async function BS(a,e){const i=At(a),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),$d(i.remoteStore,r.targetId))}async function PS(a,e,i){const r=XS(a);try{const o=await(function(d,p){const v=At(d),_=ue.now(),A=p.reduce(((H,W)=>H.add(W.key)),Mt());let b,I;return v.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let W=es(),tt=Mt();return v.Ns.getEntries(H,A).next(($=>{W=$,W.forEach(((ht,gt)=>{gt.isValidDocument()||(tt=tt.add(ht))}))})).next((()=>v.localDocuments.getOverlayedDocuments(H,W))).next(($=>{b=$;const ht=[];for(const gt of p){const ut=Wb(gt,b.get(gt.key).overlayedDocument);ut!=null&&ht.push(new Ks(gt.key,ut,lv(ut.value.mapValue),Ci.exists(!0)))}return v.mutationQueue.addMutationBatch(H,_,ht,p)})).next(($=>{I=$;const ht=$.applyToLocalDocumentSet(b,tt);return v.documentOverlayCache.saveOverlays(H,$.batchId,ht)}))})).then((()=>({batchId:I.batchId,changes:_v(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new fe(Ot)),_=_.insert(p,v),d.Vu[d.currentUser.toKey()]=_})(r,o.batchId,i),await Ao(r,o.changes),await kc(r.remoteStore)}catch(o){const h=nm(o,"Failed to persist write");i.reject(h)}}async function Wv(a,e){const i=At(a);try{const r=await $2(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Qt(d.hu,14607):o.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await Ao(i,r,e)}catch(r){await jr(r)}}function J_(a,e,i){const r=At(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=At(d);v.onlineState=p;let _=!1;v.queries.forEach(((A,b)=>{for(const I of b.Sa)I.va(p)&&(_=!0)})),_&&im(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qS(a,e,i){const r=At(a);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new fe(mt.comparator);d=d.insert(h,sn.newNoDocument(h,Et.min()));const p=Mt().add(h),v=new Uc(Et.min(),new Map,new fe(Ot),d,p);await Wv(r,v),r.du=r.du.remove(h),r.Au.delete(e),am(r)}else await wd(r.localStore,e,!1).then((()=>Cd(r,e,i))).catch(jr)}async function HS(a,e){const i=At(a),r=e.batch.batchId;try{const o=await Z2(i.localStore,e);e1(i,r,null),t1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Ao(i,o)}catch(o){await jr(o)}}async function GS(a,e,i){const r=At(a);try{const o=await(function(d,p){const v=At(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next((b=>(Qt(b!==null,37113),A=b.keys(),v.mutationQueue.removeMutationBatch(_,b)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(r.localStore,e);e1(r,e,i),t1(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Ao(r,o)}catch(o){await jr(o)}}function t1(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function e1(a,e,i){const r=At(a);let o=r.Vu[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Cd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((r=>{a.Ru.containsKey(r)||n1(a,r)}))}function n1(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&($d(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),am(a))}function W_(a,e,i){for(const r of i)r instanceof Zv?(a.Ru.addReference(r.key,e),FS(a,r)):r instanceof $v?(lt(sm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,e),a.Ru.containsKey(r.key)||n1(a,r.key)):_t(19791,{wu:r})}function FS(a,e){const i=e.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(lt(sm,"New document in limbo: "+i),a.Eu.add(r),am(a))}function am(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new mt(ae.fromString(e)),r=a.fu.next();a.Au.set(r,new MS(i)),a.du=a.du.insert(i,r),Gv(a.remoteStore,new zs(xi(qd(i.path)),r,"TargetPurposeLimboResolution",Cc.ce))}}async function Ao(a,e,i){const r=At(a),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,v)=>{d.push(r.pu(v,e,i).then((_=>{var A;if((_||i)&&r.isPrimaryClient){const b=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))==null?void 0:A.current;r.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(_){o.push(_);const b=Kd.As(v.targetId,_);h.push(b)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,_){const A=At(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(_,(I=>Z.forEach(I.Es,(H=>A.persistence.referenceDelegate.addReference(b,I.targetId,H))).next((()=>Z.forEach(I.ds,(H=>A.persistence.referenceDelegate.removeReference(b,I.targetId,H)))))))))}catch(b){if(!Br(b))throw b;lt(Zd,"Failed to update sequence numbers: "+b)}for(const b of _){const I=b.targetId;if(!b.fromCache){const H=A.Ms.get(I),W=H.snapshotVersion,tt=H.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(I,tt)}}})(r.localStore,h))}async function QS(a,e){const i=At(a);if(!i.currentUser.isEqual(e)){lt(sm,"User change. New user:",e.toKey());const r=await Bv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new at(K.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ao(i,r.Ls)}}function YS(a,e){const i=At(a),r=i.Au.get(e);if(r&&r.hu)return Mt().add(r.key);{let o=Mt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function i1(a){const e=At(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qS.bind(null,e),e.Pu.H_=NS.bind(null,e.eventManager),e.Pu.yu=DS.bind(null,e.eventManager),e}function XS(a){const e=At(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GS.bind(null,e),e}class wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return K2(this.persistence,new Q2,e.initialUser,this.serializer)}Cu(e){return new jv(Xd.mi,this.serializer)}Du(e){return new nS}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wc.provider={build:()=>new wc};class KS extends wc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Qt(this.persistence.referenceDelegate instanceof bc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new I2(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new jv((r=>bc.mi(r,i)),this.serializer)}}class Nd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>J_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QS.bind(null,this.syncEngine),await SS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new RS})()}createDatastore(e){const i=zc(e.databaseInfo.databaseId),r=(function(h){return new lS(h)})(e.databaseInfo);return(function(h,d,p,v){return new hS(h,d,p,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,p){return new dS(r,o,h,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>J_(this.syncEngine,i,0)),(function(){return Q_.v()?new Q_:new iS})())}createSyncEngine(e,i){return(function(o,h,d,p,v,_,A){const b=new US(o,h,d,p,v,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=At(o);lt(Oa,"RemoteStore shutting down."),h.Ea.add(5),await To(h),h.Aa.shutdown(),h.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}Nd.provider={build:()=>new Nd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="FirestoreClient";class $S{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=zd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{lt(Ys,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(lt(Ys,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=nm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function nd(a,e){a.asyncQueue.verifyOperationInProgress(),lt(Ys,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Bv(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function t0(a,e){a.asyncQueue.verifyOperationInProgress();const i=await JS(a);lt(Ys,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>X_(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>X_(e.remoteStore,o))),a._onlineComponents=e}async function JS(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){lt(Ys,"Using user provided OfflineComponentProvider");try{await nd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Vr("Error using user provided cache. Falling back to memory cache: "+i),await nd(a,new wc)}}else lt(Ys,"Using default OfflineComponentProvider"),await nd(a,new KS(void 0));return a._offlineComponents}async function s1(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(lt(Ys,"Using user provided OnlineComponentProvider"),await t0(a,a._uninitializedComponentsProvider._online)):(lt(Ys,"Using default OnlineComponentProvider"),await t0(a,new Nd))),a._onlineComponents}function WS(a){return s1(a).then((e=>e.syncEngine))}async function e0(a){const e=await s1(a),i=e.eventManager;return i.onListen=zS.bind(null,e.syncEngine),i.onUnlisten=jS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=LS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=BS.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="firestore.googleapis.com",i0=!0;class s0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=r1,this.ssl=i0}else this.host=e.host,this.ssl=e.ssl??i0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<N2)throw new at(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new nb;switch(r.type){case"firstParty":return new rb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=n0.get(i);r&&(lt("ComponentProvider","Removing Datastore"),n0.delete(i),r.terminate())})(this),Promise.resolve()}}function tw(a,e,i,r={}){var _;a=Na(a,jc);const o=yo(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},p=`${e}:${i}`;o&&(C0(`https://${p}`),D0("Firestore",!0)),h.host!==r1&&h.host!==p&&Vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:o,emulatorOptions:r};if(!mc(v,d)&&(a._setSettings(v),r.mockUserToken)){let A,b;if(typeof r.mockUserToken=="string")A=r.mockUserToken,b=nn.MOCK_USER;else{A=N0(r.mockUserToken,(_=a._app)==null?void 0:_.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new at(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new nn(I)}a._authCredentials=new ib(new K0(A,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zs(this.firestore,e,this._query)}}class Me{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Me(this.firestore,e,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(_o(i,Me._jsonSchema))return new Me(e,r||null,new mt(ae.fromString(i.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Oe("string",Me._jsonSchemaVersion),referencePath:Oe("string")};class Ps extends Zs{constructor(e,i,r){super(e,i,qd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Me(this.firestore,null,new mt(e))}withConverter(e){return new Ps(this.firestore,e,this._path)}}function id(a,e,...i){if(a=vn(a),Z0("collection","path",e),a instanceof jc){const r=ae.fromString(e,...i);return p_(r),new Ps(a,null,r)}{if(!(a instanceof Me||a instanceof Ps))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ae.fromString(e,...i));return p_(r),new Ps(a.firestore,null,r)}}function l1(a,e,...i){if(a=vn(a),arguments.length===1&&(e=zd.newId()),Z0("doc","path",e),a instanceof jc){const r=ae.fromString(e,...i);return g_(r),new Me(a,null,new mt(r))}{if(!(a instanceof Me||a instanceof Ps))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ae.fromString(e,...i));return g_(r),new Me(a.firestore,a instanceof Ps?a.converter:null,new mt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="AsyncQueue";class r0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qv(this,"async_queue_retry"),this._c=()=>{const r=ed();r&&lt(a0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=ed();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=ed();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ca;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Br(e))throw e;lt(a0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",l0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=em.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:l0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function l0(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(a,["next","error","complete"])}class po extends jc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new r0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new r0(e),this._firestoreClient=void 0,await e}}}function ew(a,e){const i=typeof a=="object"?a:j0(),r=typeof a=="string"?a:yc,o=U0(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=R0("firestore");h&&tw(o,...h)}return o}function o1(a){if(a._terminated)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||nw(a),a._firestoreClient}function nw(a){var r,o,h;const e=a._freezeSettings(),i=(function(p,v,_,A){return new bb(p,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,a1(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(a._databaseId,((r=a._app)==null?void 0:r.options.appId)||"",a._persistenceKey,e);a._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new $S(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(p){const v=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(v),_online:v}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(Je.fromBase64String(e))}catch(i){throw new at(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Gn(Je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_o(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Oe("string",Gn._jsonSchemaVersion),bytes:Oe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(e){if(_o(e,Di._jsonSchema))return new Di(e.latitude,e.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Oe("string",Di._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_o(e,Ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ii(e.vectorValues);throw new at(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:Oe("string",Ii._jsonSchemaVersion),vectorValues:Oe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=/^__.*__$/;class sw{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,i,this.fieldTransforms):new vo(e,this.data,i,this.fieldTransforms)}}class u1{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Ks(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function c1(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:a})}}class rm{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(c1(this.Ac)&&iw.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class aw{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||zc(e)}Cc(e,i,r,o=!1){return new rm({Ac:e,methodName:i,Dc:r,path:$e.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lm(a){const e=a._freezeSettings(),i=zc(a._databaseId);return new aw(a._databaseId,!!e.ignoreUndefinedProperties,i)}function rw(a,e,i,r,o,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,e,i,o);um("Data must be an object, but it was:",d,r);const p=h1(r,d);let v,_;if(h.merge)v=new Nn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const b of h.mergeFields){const I=Dd(e,b,i);if(!d.contains(I))throw new at(K.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);d1(A,I)||A.push(I)}v=new Nn(A),_=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,_=d.fieldTransforms;return new sw(new _n(p),v,_)}class qc extends Pc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qc}}class om extends Pc{_toFieldTransform(e){return new Kb(e.path,new fo)}isEqual(e){return e instanceof om}}function lw(a,e,i,r){const o=a.Cc(1,e,i);um("Data must be an object, but it was:",o,r);const h=[],d=_n.empty();Xs(r,((v,_)=>{const A=cm(e,v,i);_=vn(_);const b=o.yc(A);if(_ instanceof qc)h.push(A);else{const I=bo(_,b);I!=null&&(h.push(A),d.set(A,I))}}));const p=new Nn(h);return new u1(d,p,o.fieldTransforms)}function ow(a,e,i,r,o,h){const d=a.Cc(1,e,i),p=[Dd(e,r,i)],v=[o];if(h.length%2!=0)throw new at(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<h.length;I+=2)p.push(Dd(e,h[I])),v.push(h[I+1]);const _=[],A=_n.empty();for(let I=p.length-1;I>=0;--I)if(!d1(_,p[I])){const H=p[I];let W=v[I];W=vn(W);const tt=d.yc(H);if(W instanceof qc)_.push(H);else{const $=bo(W,tt);$!=null&&(_.push(H),A.set(H,$))}}const b=new Nn(_);return new u1(A,b,d.fieldTransforms)}function uw(a,e,i,r=!1){return bo(i,a.Cc(r?4:3,e))}function bo(a,e){if(f1(a=vn(a)))return um("Unsupported field value:",e,a),h1(a,e);if(a instanceof Pc)return(function(r,o){if(!c1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const p of r){let v=bo(p,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(a,e)}return(function(r,o){if((r=vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Qb(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=ue.fromDate(r);return{timestampValue:Ac(o.serializer,h)}}if(r instanceof ue){const h=new ue(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ac(o.serializer,h)}}if(r instanceof Di)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:Iv(o.serializer,r._byteString)};if(r instanceof Me){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Qd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ii)return(function(d,p){return{mapValue:{fields:{[av]:{stringValue:rv},[_c]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Hd(p.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${xc(r)}`)})(a,e)}function h1(a,e){const i={};return W0(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xs(a,((r,o)=>{const h=bo(o,e.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function f1(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ue||a instanceof Di||a instanceof Gn||a instanceof Me||a instanceof Pc||a instanceof Ii)}function um(a,e,i){if(!f1(i)||!$0(i)){const r=xc(i);throw r==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+r)}}function Dd(a,e,i){if((e=vn(e))instanceof Bc)return e._internalPath;if(typeof e=="string")return cm(a,e);throw Rc("Field path arguments must be of type string or ",a,!1,void 0,i)}const cw=new RegExp("[~\\*/\\[\\]]");function cm(a,e,i){if(e.search(cw)>=0)throw Rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Bc(...e.split("."))._internalPath}catch{throw Rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Rc(a,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new at(K.INVALID_ARGUMENT,p+a+v)}function d1(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(hm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class hw extends m1{data(){return super.data()}}function hm(a,e){return typeof e=="string"?cm(a,e):e instanceof Bc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new at(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fm{}class dm extends fm{}function dw(a,e,...i){let r=[];e instanceof fm&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((v=>v instanceof gm)).length,p=h.filter((v=>v instanceof mm)).length;if(d>1||d>0&&p>0)throw new at(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)a=o._apply(a);return a}class mm extends dm{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new mm(e,i,r)}_apply(e){const i=this._parse(e);return g1(e._query,i),new Zs(e.firestore,e.converter,Ed(e._query,i))}_parse(e){const i=lm(e.firestore);return(function(h,d,p,v,_,A,b){let I;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){c0(b,A);const W=[];for(const tt of b)W.push(u0(v,h,tt));I={arrayValue:{values:W}}}else I=u0(v,h,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||c0(b,A),I=uw(p,d,b,A==="in"||A==="not-in");return Ve.create(_,A,I)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class gm extends fm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new gm(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ii.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const p=h.getFlattenedFilters();for(const v of p)g1(d,v),d=Ed(d,v)})(e._query,i),new Zs(e.firestore,e.converter,Ed(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pm extends dm{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new pm(e,i)}_apply(e){const i=(function(o,h,d){if(o.startAt!==null)throw new at(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new at(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ho(h,d)})(e._query,this._field,this._direction);return new Zs(e.firestore,e.converter,(function(o,h){const d=o.explicitOrderBy.concat([h]);return new Pr(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function mw(a,e="asc"){const i=e,r=hm("orderBy",a);return pm._create(r,i)}class ym extends dm{constructor(e,i,r){super(),this.type=e,this._limit=i,this._limitType=r}static _create(e,i,r){return new ym(e,i,r)}_apply(e){return new Zs(e.firestore,e.converter,Ec(e._query,this._limit,this._limitType))}}function gw(a){return ym._create("limit",a,"F")}function u0(a,e,i){if(typeof(i=vn(i))=="string"){if(i==="")throw new at(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mv(e)&&i.indexOf("/")!==-1)throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ae.fromString(i));if(!mt.isDocumentKey(r))throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return S_(a,new mt(r))}if(i instanceof Me)return S_(a,i._key);throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xc(i)}.`)}function c0(a,e){if(!Array.isArray(a)||a.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function g1(a,e){const i=(function(o,h){for(const d of o)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new at(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class pw{convertValue(e,i="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Te(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Xs(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){var r,o,h;const i=(h=(o=(r=e.fields)==null?void 0:r[_c].arrayValue)==null?void 0:o.values)==null?void 0:h.map((d=>Te(d.doubleValue)));return new Ii(i)}convertGeoPoint(e){return new Di(Te(e.latitude),Te(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Dc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(oo(e));default:return null}}convertTimestamp(e){const i=Hs(e);return new ue(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ae.fromString(e);Qt(Lv(r),9688,{name:e});const o=new uo(r.get(1),r.get(3)),h=new mt(r.popFirst(5));return o.isEqual(i)||ts(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(a,e,i){let r;return r=a?a.toFirestore(e):e,r}class Jl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Da extends m1{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(hm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Da._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Da._jsonSchemaVersion="firestore/documentSnapshot/1.0",Da._jsonSchema={type:Oe("string",Da._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class fc extends Da{data(e={}){return super.data(e)}}class Dr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Jl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new fc(this._firestore,this._userDataWriter,r.key,r,new Jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new fc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Jl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new fc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Jl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:_w(p.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Dr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _w(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:a})}}Dr._jsonSchemaVersion="firestore/querySnapshot/1.0",Dr._jsonSchema={type:Oe("string",Dr._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class p1 extends pw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Me(this.firestore,null,i)}}function vw(a,e,i,...r){a=Na(a,Me);const o=Na(a.firestore,po),h=lm(o);let d;return d=typeof(e=vn(e))=="string"||e instanceof Bc?ow(h,"updateDoc",a._key,e,i,r):lw(h,"updateDoc",a._key,e),y1(o,[d.toMutation(a._key,Ci.exists(!0))])}function h0(a,e){const i=Na(a.firestore,po),r=l1(a),o=yw(a.converter,e);return y1(i,[rw(lm(a.firestore),"addDoc",r._key,o,a.converter!==null,{}).toMutation(r._key,Ci.exists(!1))]).then((()=>r))}function Ew(a,...e){var v,_,A;a=vn(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||o0(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(o0(e[r])){const b=e[r];e[r]=(v=b.next)==null?void 0:v.bind(b),e[r+1]=(_=b.error)==null?void 0:_.bind(b),e[r+2]=(A=b.complete)==null?void 0:A.bind(b)}let h,d,p;if(a instanceof Me)d=Na(a.firestore,po),p=qd(a._key.path),h={next:b=>{e[r]&&e[r](Tw(d,a,b))},error:e[r+1],complete:e[r+2]};else{const b=Na(a,Zs);d=Na(b.firestore,po),p=b._query;const I=new p1(d);h={next:H=>{e[r]&&e[r](new Dr(d,I,b,H))},error:e[r+1],complete:e[r+2]},fw(a._query)}return(function(I,H,W,tt){const $=new ZS(tt),ht=new IS(H,$,W);return I.asyncQueue.enqueueAndForget((async()=>xS(await e0(I),ht))),()=>{$.Nu(),I.asyncQueue.enqueueAndForget((async()=>CS(await e0(I),ht)))}})(o1(d),p,o,h)}function y1(a,e){return(function(r,o){const h=new Ca;return r.asyncQueue.enqueueAndForget((async()=>PS(await WS(r),o,h))),h.promise})(o1(a),e)}function Tw(a,e,i){const r=i.docs.get(e._key),o=new p1(a);return new Da(a,o,e._key,r,new Jl(i.hasPendingWrites,i.fromCache),e.converter)}function f0(){return new om("serverTimestamp")}(function(e,i=!0){(function(o){kr=o})(L0),ao(new Ir("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),p=new po(new sb(r.getProvider("auth-internal")),new lb(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uo(_.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),js(h_,f_,e),js(h_,f_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="firebasestorage.googleapis.com",v1="storageBucket",Aw=120*1e3,bw=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe extends Ua{constructor(e,i,r=0){super(sd(e),`Firebase Storage: ${i} (${sd(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ge;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ge||(ge={}));function sd(a){return"storage/"+a}function _m(){const a="An unknown error occurred, please check the error payload for server response.";return new pe(ge.UNKNOWN,a)}function Sw(a){return new pe(ge.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}function ww(a){return new pe(ge.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Rw(){const a="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pe(ge.UNAUTHENTICATED,a)}function xw(){return new pe(ge.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Cw(a){return new pe(ge.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}function Nw(){return new pe(ge.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Dw(){return new pe(ge.CANCELED,"User canceled the upload/download.")}function Iw(a){return new pe(ge.INVALID_URL,"Invalid URL '"+a+"'.")}function Vw(a){return new pe(ge.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function Ow(){return new pe(ge.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+v1+"' property when initializing the app?")}function Mw(){return new pe(ge.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Uw(){return new pe(ge.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zw(a){return new pe(ge.UNSUPPORTED_ENVIRONMENT,`${a} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Id(a){return new pe(ge.INVALID_ARGUMENT,a)}function E1(){return new pe(ge.APP_DELETED,"The Firebase app was deleted.")}function Lw(a){return new pe(ge.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function so(a,e){return new pe(ge.INVALID_FORMAT,"String does not match format '"+a+"': "+e)}function Xl(a){throw new pe(ge.INTERNAL_ERROR,"Internal error: "+a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let r;try{r=Dn.makeFromUrl(e,i)}catch{return new Dn(e,"")}if(r.path==="")return r;throw Vw(e)}static makeFromUrl(e,i){let r=null;const o="([A-Za-z0-9.\\-_]+)";function h(yt){yt.path.charAt(yt.path.length-1)==="/"&&(yt.path_=yt.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),v={bucket:1,path:3};function _(yt){yt.path_=decodeURIComponent(yt.path)}const A="v[A-Za-z0-9_]+",b=i.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",H=new RegExp(`^https?://${b}/${A}/b/${o}/o${I}`,"i"),W={bucket:1,path:3},tt=i===_1?"(?:storage.googleapis.com|storage.cloud.google.com)":i,$="([^?#]*)",ht=new RegExp(`^https?://${tt}/${o}/${$}`,"i"),ut=[{regex:p,indices:v,postModify:h},{regex:H,indices:W,postModify:_},{regex:ht,indices:{bucket:1,path:2},postModify:_}];for(let yt=0;yt<ut.length;yt++){const Lt=ut[yt],Rt=Lt.regex.exec(e);if(Rt){const C=Rt[Lt.indices.bucket];let S=Rt[Lt.indices.path];S||(S=""),r=new Dn(C,S),Lt.postModify(r);break}}if(r==null)throw Iw(e);return r}}class kw{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(a,e,i){let r=1,o=null,h=null,d=!1,p=0;function v(){return p===2}let _=!1;function A(...$){_||(_=!0,e.apply(null,$))}function b($){o=setTimeout(()=>{o=null,a(H,v())},$)}function I(){h&&clearTimeout(h)}function H($,...ht){if(_){I();return}if($){I(),A.call(null,$,...ht);return}if(v()||d){I(),A.call(null,$,...ht);return}r<64&&(r*=2);let ut;p===1?(p=2,ut=0):ut=(r+Math.random())*1e3,b(ut)}let W=!1;function tt($){W||(W=!0,I(),!_&&(o!==null?($||(p=2),clearTimeout(o),b(0)):$||(p=1)))}return b(0),h=setTimeout(()=>{d=!0,tt(!0)},i),tt}function Bw(a){a(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(a){return a!==void 0}function qw(a){return typeof a=="object"&&!Array.isArray(a)}function vm(a){return typeof a=="string"||a instanceof String}function d0(a){return Em()&&a instanceof Blob}function Em(){return typeof Blob<"u"}function m0(a,e,i,r){if(r<e)throw Id(`Invalid value for '${a}'. Expected ${e} or greater.`);if(r>i)throw Id(`Invalid value for '${a}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(a,e,i){let r=e;return i==null&&(r=`https://${e}`),`${i}://${r}/v0${a}`}function T1(a){const e=encodeURIComponent;let i="?";for(const r in a)if(a.hasOwnProperty(r)){const o=e(r)+"="+e(a[r]);i=i+o+"&"}return i=i.slice(0,-1),i}var Ia;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(Ia||(Ia={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(a,e){const i=a>=500&&a<600,o=[408,429].indexOf(a)!==-1,h=e.indexOf(a)!==-1;return i||o||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,i,r,o,h,d,p,v,_,A,b,I=!0,H=!1){this.url_=e,this.method_=i,this.headers_=r,this.body_=o,this.successCodes_=h,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=v,this.timeout_=_,this.progressCallback_=A,this.connectionFactory_=b,this.retry=I,this.isUsingEmulator=H,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((W,tt)=>{this.resolve_=W,this.reject_=tt,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new sc(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const d=p=>{const v=p.loaded,_=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(v,_)};this.progressCallback_!==null&&h.addUploadProgressListener(d),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(d),this.pendingConnection_=null;const p=h.getErrorCode()===Ia.NO_ERROR,v=h.getStatus();if(!p||Hw(v,this.additionalRetryCodes_)&&this.retry){const A=h.getErrorCode()===Ia.ABORT;r(!1,new sc(!1,null,A));return}const _=this.successCodes_.indexOf(v)!==-1;r(!0,new sc(_,h))})},i=(r,o)=>{const h=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const v=this.callback_(p,p.getResponse());Pw(v)?h(v):h()}catch(v){d(v)}else if(p!==null){const v=_m();v.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,v)):d(v)}else if(o.canceled){const v=this.appDelete_?E1():Dw();d(v)}else{const v=Nw();d(v)}};this.canceled_?i(!1,new sc(!1,null,!0)):this.backoffId_=jw(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Bw(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sc{constructor(e,i,r){this.wasSuccessCode=e,this.connection=i,this.canceled=!!r}}function Fw(a,e){e!==null&&e.length>0&&(a.Authorization="Firebase "+e)}function Qw(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Yw(a,e){e&&(a["X-Firebase-GMPID"]=e)}function Xw(a,e){e!==null&&(a["X-Firebase-AppCheck"]=e)}function Kw(a,e,i,r,o,h,d=!0,p=!1){const v=T1(a.urlParams),_=a.url+v,A=Object.assign({},a.headers);return Yw(A,e),Fw(A,i),Qw(A,h),Xw(A,r),new Gw(_,a.method,A,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,o,d,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $w(...a){const e=Zw();if(e!==void 0){const i=new e;for(let r=0;r<a.length;r++)i.append(a[r]);return i.getBlob()}else{if(Em())return new Blob(a);throw new pe(ge.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Jw(a,e,i){return a.webkitSlice?a.webkitSlice(e,i):a.mozSlice?a.mozSlice(e,i):a.slice?a.slice(e,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(a){if(typeof atob>"u")throw zw("base-64");return atob(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ad{constructor(e,i){this.data=e,this.contentType=i||null}}function tR(a,e){switch(a){case Ri.RAW:return new ad(A1(e));case Ri.BASE64:case Ri.BASE64URL:return new ad(b1(a,e));case Ri.DATA_URL:return new ad(nR(e),iR(e))}throw _m()}function A1(a){const e=[];for(let i=0;i<a.length;i++){let r=a.charCodeAt(i);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(i<a.length-1&&(a.charCodeAt(i+1)&64512)===56320))e.push(239,191,189);else{const h=r,d=a.charCodeAt(++i);r=65536|(h&1023)<<10|d&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function eR(a){let e;try{e=decodeURIComponent(a)}catch{throw so(Ri.DATA_URL,"Malformed data URL.")}return A1(e)}function b1(a,e){switch(a){case Ri.BASE64:{const o=e.indexOf("-")!==-1,h=e.indexOf("_")!==-1;if(o||h)throw so(a,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ri.BASE64URL:{const o=e.indexOf("+")!==-1,h=e.indexOf("/")!==-1;if(o||h)throw so(a,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=Ww(e)}catch(o){throw o.message.includes("polyfill")?o:so(a,"Invalid character found")}const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}class S1{constructor(e){this.base64=!1,this.contentType=null;const i=e.match(/^data:([^,]+)?,/);if(i===null)throw so(Ri.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=i[1]||null;r!=null&&(this.base64=sR(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function nR(a){const e=new S1(a);return e.base64?b1(Ri.BASE64,e.rest):eR(e.rest)}function iR(a){return new S1(a).contentType}function sR(a,e){return a.length>=e.length?a.substring(a.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,i){let r=0,o="";d0(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,i){if(d0(this.data_)){const r=this.data_,o=Jw(r,e,i);return o===null?null:new Us(o)}else{const r=new Uint8Array(this.data_.buffer,e,i-e);return new Us(r,!0)}}static getBlob(...e){if(Em()){const i=e.map(r=>r instanceof Us?r.data_:r);return new Us($w.apply(null,i))}else{const i=e.map(d=>vm(d)?tR(Ri.RAW,d).data:d.data_);let r=0;i.forEach(d=>{r+=d.byteLength});const o=new Uint8Array(r);let h=0;return i.forEach(d=>{for(let p=0;p<d.length;p++)o[h++]=d[p]}),new Us(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(a){let e;try{e=JSON.parse(a)}catch{return null}return qw(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(a){if(a.length===0)return null;const e=a.lastIndexOf("/");return e===-1?"":a.slice(0,e)}function rR(a,e){const i=e.split("/").filter(r=>r.length>0).join("/");return a.length===0?i:a+"/"+i}function R1(a){const e=a.lastIndexOf("/",a.length-2);return e===-1?a:a.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(a,e){return e}class un{constructor(e,i,r,o){this.server=e,this.local=i||e,this.writable=!!r,this.xform=o||lR}}let ac=null;function oR(a){return!vm(a)||a.length<2?a:R1(a)}function x1(){if(ac)return ac;const a=[];a.push(new un("bucket")),a.push(new un("generation")),a.push(new un("metageneration")),a.push(new un("name","fullPath",!0));function e(h,d){return oR(d)}const i=new un("name");i.xform=e,a.push(i);function r(h,d){return d!==void 0?Number(d):d}const o=new un("size");return o.xform=r,a.push(o),a.push(new un("timeCreated")),a.push(new un("updated")),a.push(new un("md5Hash",null,!0)),a.push(new un("cacheControl",null,!0)),a.push(new un("contentDisposition",null,!0)),a.push(new un("contentEncoding",null,!0)),a.push(new un("contentLanguage",null,!0)),a.push(new un("contentType",null,!0)),a.push(new un("metadata","customMetadata",!0)),ac=a,ac}function uR(a,e){function i(){const r=a.bucket,o=a.fullPath,h=new Dn(r,o);return e._makeStorageReference(h)}Object.defineProperty(a,"ref",{get:i})}function cR(a,e,i){const r={};r.type="file";const o=i.length;for(let h=0;h<o;h++){const d=i[h];r[d.local]=d.xform(r,e[d.server])}return uR(r,a),r}function C1(a,e,i){const r=w1(e);return r===null?null:cR(a,r,i)}function hR(a,e,i,r){const o=w1(e);if(o===null||!vm(o.downloadTokens))return null;const h=o.downloadTokens;if(h.length===0)return null;const d=encodeURIComponent;return h.split(",").map(_=>{const A=a.bucket,b=a.fullPath,I="/b/"+d(A)+"/o/"+d(b),H=Tm(I,i,r),W=T1({alt:"media",token:_});return H+W})[0]}function fR(a,e){const i={},r=e.length;for(let o=0;o<r;o++){const h=e[o];h.writable&&(i[h.server]=a[h.local])}return JSON.stringify(i)}class N1{constructor(e,i,r,o){this.url=e,this.method=i,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(a){if(!a)throw _m()}function dR(a,e){function i(r,o){const h=C1(a,o,e);return D1(h!==null),h}return i}function mR(a,e){function i(r,o){const h=C1(a,o,e);return D1(h!==null),hR(h,o,a.host,a._protocol)}return i}function I1(a){function e(i,r){let o;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?o=xw():o=Rw():i.getStatus()===402?o=ww(a.bucket):i.getStatus()===403?o=Cw(a.path):o=r,o.status=i.getStatus(),o.serverResponse=r.serverResponse,o}return e}function gR(a){const e=I1(a);function i(r,o){let h=e(r,o);return r.getStatus()===404&&(h=Sw(a.path)),h.serverResponse=o.serverResponse,h}return i}function pR(a,e,i){const r=e.fullServerUrl(),o=Tm(r,a.host,a._protocol),h="GET",d=a.maxOperationRetryTime,p=new N1(o,h,mR(a,i),d);return p.errorHandler=gR(e),p}function yR(a,e){return a&&a.contentType||e&&e.type()||"application/octet-stream"}function _R(a,e,i){const r=Object.assign({},i);return r.fullPath=a.path,r.size=e.size(),r.contentType||(r.contentType=yR(null,e)),r}function vR(a,e,i,r,o){const h=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function p(){let ut="";for(let yt=0;yt<2;yt++)ut=ut+Math.random().toString().slice(2);return ut}const v=p();d["Content-Type"]="multipart/related; boundary="+v;const _=_R(e,r,o),A=fR(_,i),b="--"+v+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+A+`\r
--`+v+`\r
Content-Type: `+_.contentType+`\r
\r
`,I=`\r
--`+v+"--",H=Us.getBlob(b,r,I);if(H===null)throw Mw();const W={name:_.fullPath},tt=Tm(h,a.host,a._protocol),$="POST",ht=a.maxUploadRetryTime,gt=new N1(tt,$,dR(a,i),ht);return gt.urlParams=W,gt.headers=d,gt.body=H.uploadData(),gt.errorHandler=I1(e),gt}class ER{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ia.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ia.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ia.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,r,o,h){if(this.sent_)throw Xl("cannot .send() more than once");if(yo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,e,!0),h!==void 0)for(const d in h)h.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,h[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class TR extends ER{initXhr(){this.xhr_.responseType="text"}}function V1(){return new TR}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,i){this._service=e,i instanceof Dn?this._location=i:this._location=Dn.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new Ma(e,i)}get root(){const e=new Dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return R1(this._location.path)}get storage(){return this._service}get parent(){const e=aR(this._location.path);if(e===null)return null;const i=new Dn(this._location.bucket,e);return new Ma(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw Lw(e)}}function AR(a,e,i){a._throwIfRoot("uploadBytes");const r=vR(a.storage,a._location,x1(),new Us(e,!0),i);return a.storage.makeRequestWithTokens(r,V1).then(o=>({metadata:o,ref:a}))}function bR(a){a._throwIfRoot("getDownloadURL");const e=pR(a.storage,a._location,x1());return a.storage.makeRequestWithTokens(e,V1).then(i=>{if(i===null)throw Uw();return i})}function SR(a,e){const i=rR(a._location.path,e),r=new Dn(a._location.bucket,i);return new Ma(a.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(a){return/^[A-Za-z]+:\/\//.test(a)}function RR(a,e){return new Ma(a,e)}function O1(a,e){if(a instanceof Am){const i=a;if(i._bucket==null)throw Ow();const r=new Ma(i,i._bucket);return e!=null?O1(r,e):r}else return e!==void 0?SR(a,e):a}function xR(a,e){if(e&&wR(e)){if(a instanceof Am)return RR(a,e);throw Id("To use ref(service, url), the first argument must be a Storage instance.")}else return O1(a,e)}function g0(a,e){const i=e==null?void 0:e[v1];return i==null?null:Dn.makeFromBucketSpec(i,a)}function CR(a,e,i,r={}){a.host=`${e}:${i}`;const o=yo(e);o&&(C0(`https://${a.host}/b`),D0("Storage",!0)),a._isUsingEmulator=!0,a._protocol=o?"https":"http";const{mockUserToken:h}=r;h&&(a._overrideAuthToken=typeof h=="string"?h:N0(h,a.app.options.projectId))}class Am{constructor(e,i,r,o,h,d=!1){this.app=e,this._authProvider=i,this._appCheckProvider=r,this._url=o,this._firebaseVersion=h,this._isUsingEmulator=d,this._bucket=null,this._host=_1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Aw,this._maxUploadRetryTime=bw,this._requests=new Set,o!=null?this._bucket=Dn.makeFromBucketSpec(o,this._host):this._bucket=g0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dn.makeFromBucketSpec(this._url,e):this._bucket=g0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){m0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){m0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(z0(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ma(this,e)}_makeRequest(e,i,r,o,h=!0){if(this._deleted)return new kw(E1());{const d=Kw(e,this._appId,r,o,i,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,i){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,r,o).getPromise()}}const p0="@firebase/storage",y0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="storage";function NR(a,e,i){return a=vn(a),AR(a,e,i)}function DR(a){return a=vn(a),bR(a)}function IR(a,e){return a=vn(a),xR(a,e)}function VR(a=j0(),e){a=vn(a);const r=U0(a,M1).getImmediate({identifier:e}),o=R0("storage");return o&&OR(r,...o),r}function OR(a,e,i,r={}){CR(a,e,i,r)}function MR(a,{instanceIdentifier:e}){const i=a.getProvider("app").getImmediate(),r=a.getProvider("auth-internal"),o=a.getProvider("app-check-internal");return new Am(i,r,o,e,L0)}function UR(){ao(new Ir(M1,MR,"PUBLIC").setMultipleInstances(!0)),js(p0,y0,""),js(p0,y0,"esm2020")}UR();const zR={apiKey:"AIzaSyCXcz0Ci20GZJJ6oux88n7wCL0hcJYGk_0",authDomain:"logistic-automation-suite.firebaseapp.com",projectId:"logistic-automation-suite",storageBucket:"logistic-automation-suite.firebasestorage.app",messagingSenderId:"627729067946",appId:"1:627729067946:web:8b1675dfdcf2aee76a05d3",measurementId:"G-WB0W73XGMY"},U1=k0(zR),rc=ew(U1),LR=VR(U1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jR=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),_0=a=>{const e=jR(a);return e.charAt(0).toUpperCase()+e.slice(1)},z1=(...a)=>a.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),BR=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=ne.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:h,iconNode:d,...p},v)=>ne.createElement("svg",{ref:v,...PR,width:e,height:e,stroke:a,strokeWidth:r?Number(i)*24/Number(e):i,className:z1("lucide",o),...!h&&!BR(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>ne.createElement(_,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(a,e)=>{const i=ne.forwardRef(({className:r,...o},h)=>ne.createElement(qR,{ref:h,iconNode:e,className:z1(`lucide-${kR(_0(a))}`,`lucide-${a}`,r),...o}));return i.displayName=_0(a),i};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],GR=re("activity",HR);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],QR=re("arrow-right-left",FR);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],XR=re("bot",YR);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],ZR=re("calculator",KR);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],JR=re("calendar",$R);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],v0=re("chevron-right",WR);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],e4=re("circle-check",t4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],i4=re("cloud-upload",n4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],a4=re("cpu",s4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],l4=re("eye",r4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],u4=re("file-spreadsheet",o4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],h4=re("file-text",c4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v.5",key:"1dkoa9"}],["path",{d:"M12 10v4h4",key:"1czhmt"}],["path",{d:"m12 14 1.535-1.605a5 5 0 0 1 8 1.5",key:"lvuxfi"}],["path",{d:"M22 22v-4h-4",key:"1ewp4q"}],["path",{d:"m22 18-1.535 1.605a5 5 0 0 1-8-1.5",key:"14ync0"}]],d4=re("folder-sync",f4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],g4=re("layout-grid",m4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],y4=re("loader-circle",p4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],v4=re("mail",_4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],E0=re("rotate-ccw",E4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],A4=re("save",T4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],S4=re("search",b4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],T0=re("settings",w4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],x4=re("shield-check",R4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],N4=re("terminal",C4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],I4=re("truck",D4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],O4=re("user",V4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],U4=re("x",M4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],A0=re("zap",z4),rd=[{id:"MIGO",name:"Ingesta Masiva (MIGO)",description:"Motor de automatizacin para movimientos de mercanca masivos en SAP.",icon:"FileSpreadsheet",requiresFile:!0,fileType:"excel",supportsOpenMode:!0},{id:"PALLET",name:"Optimizador de Altura",description:"Anlisis de volumetra y sincronizacin de datos maestros (LX02).",icon:"Bot",requiresFile:!0,fileType:"excel",supportsOpenMode:!0},{id:"TRANSPORTE",name:"Monitor Logstico",description:"Trazabilidad en tiempo real de transportes y rutas (VT11/VT03N).",icon:"Truck",requiresFile:!1,requiresParam:!0,paramLabel:"Rango de Fechas"},{id:"VISION",name:"Visin Operacional",description:"Digitalizacin de pizarras de operaciones mediante IA.",icon:"Eye",requiresFile:!0,fileType:"image",supportsOpenMode:!0},{id:"AUDITOR",name:"Guardin de Stock",description:"Algoritmo de deteccin de anomalas y auditora de inventario.",icon:"ShieldCheck",requiresFile:!1,requiresParam:!0,paramLabel:"Cdigo de Almacn (Ej: SGVT)"},{id:"LT01",name:"Orquestador de Traspasos",description:"Agente de transferencias automticas ubicacin a ubicacin.",icon:"ArrowRightLeft",requiresFile:!0,fileType:"excel",supportsOpenMode:!0},{id:"UMV",name:"Sincronizador Maestros",description:"Extraccin y reconciliacin de factores de conversin (UMV).",icon:"Calculator",requiresFile:!0,fileType:"excel",supportsOpenMode:!0},{id:"CONCILIACION_EMAIL",name:"Traspaso Perdida de Vaco",description:"Automatizacin de traspasos por prdida de vaco desde correos de Outlook.",icon:"Mail",requiresFile:!1},{id:"ZONALES",name:"Consolidacin Zonales",description:"Consolidador automtico de reportes zonales (Faltantes, Sobrantes, Dao Mecnico).",icon:"FolderSync",requiresFile:!1}],ld={FileSpreadsheet:u4,Truck:I4,Eye:l4,ShieldCheck:x4,ArrowRightLeft:QR,Calculator:ZR,Bot:XR,Mail:v4,FolderSync:d4};function L4(){const[a,e]=ne.useState({userName:"Usuario SAP",bots:rd}),[i,r]=ne.useState(null),[o,h]=ne.useState(!1),[d,p]=ne.useState(null),[v,_]=ne.useState([]),[A,b]=ne.useState(null),[I,H]=ne.useState(""),[W,tt]=ne.useState(""),[$,ht]=ne.useState(""),[gt,ut]=ne.useState(!1),[yt,Lt]=ne.useState(!1),[Rt,C]=ne.useState({total:0,success:0,pending:0}),[S,x]=ne.useState(()=>{const J=localStorage.getItem("nexus_useOpenMode");return J?JSON.parse(J):!1}),[O,N]=ne.useState(()=>localStorage.getItem("nexus_openFileName")||""),[z,w]=ne.useState(!1),[ie,se]=ne.useState("Enviando...");ne.useEffect(()=>{localStorage.setItem("nexus_useOpenMode",JSON.stringify(S)),localStorage.setItem("nexus_openFileName",O)},[S,O]);const G=ne.useRef(null),it=ne.useRef(null),et=a.bots.find(J=>J.id===d)||null;ne.useEffect(()=>{const J=localStorage.getItem("nexus_config");if(J)try{const ft=JSON.parse(J),Bt=rd.map(Zt=>{var We;const Ue=(We=ft.bots)==null?void 0:We.find(je=>je.id===Zt.id);return Ue&&Ue.name!==Zt.name?{...Zt,name:Ue.name}:Zt});e({userName:ft.userName||"Usuario SAP",bots:Bt})}catch(ft){console.error("Error loading config",ft)}},[]);const Ut=J=>{e(J),localStorage.setItem("nexus_config",JSON.stringify(J)),h(!1)},Ht=()=>{r({userName:"Usuario SAP",bots:rd})},V=()=>{r(JSON.parse(JSON.stringify(a))),h(!0)};ne.useEffect(()=>{const J=dw(id(rc,"ordenes_bot"),mw("fecha_creacion","desc"),gw(50)),ft=Ew(J,Bt=>{const Zt=Bt.docs.map(an=>({id:an.id,...an.data()}));_(Zt);const Ue=Zt.length,We=Zt.filter(an=>an.status==="success").length,je=Zt.filter(an=>an.status==="pending"||an.status==="running").length;C({total:Ue,success:We,pending:je})});return()=>ft()},[]);const Y=J=>{p(J),b(null),H(""),tt(""),ht(""),Lt(!1),x(J==="VISION"||J==="PALLET"),N(""),w(!1)},st=J=>{J.preventDefault(),Lt(!0)},rt=J=>{J.preventDefault(),Lt(!1)},vt=J=>{if(J.preventDefault(),Lt(!1),J.dataTransfer.files&&J.dataTransfer.files.length>0&&et){const ft=J.dataTransfer.files[0];if(et.fileType==="excel"&&!ft.name.match(/\.(xls|xlsx|xlsm)$/)){alert("Por favor ingrese un archivo Excel vlido.");return}if(et.fileType==="image"&&!ft.type.startsWith("image/")){alert("Por favor ingrese un archivo de imagen vlido.");return}b(ft)}},bt=async()=>{if(et){if(et.requiresFile){if(S){if(!O){alert("Debe ingresar el nombre del archivo.");return}}else if(!A){alert("Debe cargar un archivo para continuar.");return}}if(et.id==="AUDITOR"&&!I){alert("Debe ingresar el cdigo de almacn.");return}if(et.id==="TRANSPORTE"&&(!W||!$)){alert("Debe seleccionar ambas fechas.");return}ut(!0),se("Iniciando...");try{let J="",ft="";if(et.requiresFile){if(S)ft=O,et.fileType==="excel"&&!ft.match(/\.(xls|xlsx|xlsm)$/i)&&(ft+=".xlsx");else if(A){se("Subiendo archivo...");const Ue=A.name.replace(/[^a-zA-Z0-9._-]/g,"_"),We=IR(LR,`uploads/${Date.now()}_${Ue}`),je=await NR(We,A);se("Obteniendo URL..."),J=await DR(je.ref),ft=A.name}}se("Creando orden...");const Bt={};if(et.id==="AUDITOR"&&(Bt.almacen=I),et.id==="TRANSPORTE"){const Ue=We=>{if(!We)return"";const[je,an,Oi]=We.split("-");return`${Oi}.${an}.${je}`};Bt.fechas=`${Ue(W)}-${Ue($)}`,Bt.sendEmail=z}const Zt={tipo_bot:et.id,status:"pending",fecha_creacion:f0(),worker:"En Cola",ruta_archivo:J,nombre_archivo_original:ft,parametros:Bt,execution_logs:[]};await h0(id(rc,"ordenes_bot"),Zt),b(null),H(""),tt(""),ht(""),N(""),w(!1),ut(!1),se("Enviando..."),alert(` Orden enviada exitosamente.

Puedes ver el progreso en la Consola de Eventos abajo.`)}catch(J){console.error("Error creating order:",J),ut(!1),se("Enviando..."),alert(` Error al enviar la orden:
${J instanceof Error?J.message:"Error desconocido"}`)}}},Dt=async J=>{var ft;if(confirm("Ests seguro de que deseas cancelar esta orden?"))try{await vw(l1(rc,"ordenes_bot",J),{status:"cancelled",execution_logs:[...((ft=v.find(Bt=>Bt.id===J))==null?void 0:ft.execution_logs)||[]," Cancelado por el usuario"]})}catch(Bt){console.error("Error cancelling order:",Bt),alert("Error al cancelar la orden.")}};return M.jsxs("div",{className:"h-full flex bg-dark-bg text-slate-200 font-sans overflow-hidden",children:[M.jsxs("aside",{className:"w-64 bg-dark-panel border-r border-white/5 flex flex-col flex-shrink-0 z-20 shadow-2xl",children:[M.jsxs("div",{className:"h-14 flex items-center gap-2 px-4 border-b border-white/5 bg-gradient-to-r from-nexus-900/20 to-transparent",children:[M.jsx("div",{className:"p-1.5 bg-nexus-500/10 rounded-lg border border-nexus-500/20",children:M.jsx(a4,{className:"w-4 h-4 text-nexus-400"})}),M.jsxs("div",{children:[M.jsx("h1",{className:"font-bold text-white tracking-tight text-xs",children:"Nexus Jarvis Automation Suite"}),M.jsx("span",{className:"text-[9px] text-slate-500 font-medium tracking-wider",children:"SUITE LOGSTICA"})]})]}),M.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 space-y-1.5",children:[M.jsx("p",{className:"text-[9px] uppercase font-bold text-slate-500 mb-2 px-1.5 tracking-widest",children:"Catlogo"}),a.bots.map(J=>{const ft=ld[J.icon],Bt=d===J.id;return M.jsxs("button",{onClick:()=>Y(J.id),className:`w-full group relative flex items-center gap-2 p-2 rounded-lg transition-all duration-300 text-left border ${Bt?"bg-nexus-600 text-white border-nexus-500 shadow-lg shadow-nexus-900/50":"bg-transparent text-slate-400 border-transparent hover:bg-white/5 hover:text-slate-200"}`,children:[M.jsx(ft,{className:`w-4 h-4 ${Bt?"text-white":"text-slate-500 group-hover:text-nexus-400"}`}),M.jsx("div",{className:"flex-1 min-w-0",children:M.jsx("span",{className:"block text-xs font-semibold truncate",children:J.name})}),Bt&&M.jsx(v0,{className:"w-3 h-3 text-white/50"})]},J.id)})]}),M.jsxs("div",{className:"p-3 border-t border-white/5 bg-black/20 space-y-2",children:[M.jsxs("div",{className:"flex gap-2",children:[M.jsxs("button",{onClick:V,className:"flex-1 flex items-center justify-center gap-2 p-1.5 rounded-lg text-slate-400 hover:text-white hover:bg-white/5 transition-colors text-xs font-medium border border-transparent hover:border-white/5",title:"Configuracin",children:[M.jsx(T0,{className:"w-3 h-3"}),"Config"]}),M.jsxs("button",{onClick:async()=>{if(confirm("Reiniciar todo el sistema? Esto cerrar los bots y recargar la interfaz."))try{await h0(id(rc,"ordenes_bot"),{tipo_bot:"SYSTEM_RESTART",status:"pending",fecha_creacion:f0(),worker:"En Cola",parametros:{}}),alert(" Reinicio solicitado. El sistema se cerrar y volver a abrir en unos segundos.")}catch{alert("Error solicitando reinicio")}},className:"flex-1 flex items-center justify-center gap-2 p-1.5 rounded-lg text-amber-500/80 hover:text-amber-400 hover:bg-amber-500/10 transition-colors text-xs font-medium border border-amber-500/20",title:"Reiniciar Sistema",children:[M.jsx(E0,{className:"w-3 h-3"}),"Reiniciar"]})]}),M.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[M.jsxs("div",{className:"bg-white/5 rounded-lg p-1.5 border border-white/5",children:[M.jsx("span",{className:"block text-[9px] text-slate-500 uppercase",children:"Activas"}),M.jsx("span",{className:"block text-base font-bold text-emerald-400",children:Rt.pending})]}),M.jsxs("div",{className:"bg-white/5 rounded-lg p-1.5 border border-white/5",children:[M.jsx("span",{className:"block text-[9px] text-slate-500 uppercase",children:"Total"}),M.jsx("span",{className:"block text-base font-bold text-slate-300",children:Rt.total})]})]})]})]}),M.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-slate-900 via-dark-bg to-black relative",children:[M.jsxs("div",{className:"h-12 border-b border-white/5 flex items-center justify-between px-4 bg-dark-bg/50 backdrop-blur-md z-10",children:[M.jsxs("div",{className:"flex items-center gap-1.5",children:[M.jsx(GR,{className:"w-3 h-3 text-emerald-500 animate-pulse"}),M.jsx("span",{className:"text-[10px] font-mono text-emerald-400",children:"SISTEMA CONECTADO"})]}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsxs("div",{className:"text-right",children:[M.jsx("span",{className:"block text-[9px] text-slate-500 uppercase tracking-wider",children:"Bienvenido,"}),M.jsx("span",{className:"block text-xs font-bold text-white tracking-wide",children:a.userName})]}),M.jsx("div",{className:"w-7 h-7 rounded-full bg-slate-800 flex items-center justify-center border border-white/10 shadow-lg shadow-black/50",children:M.jsx(O4,{className:"w-4 h-4 text-slate-400"})})]})]}),M.jsx("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar",children:et?M.jsxs("div",{className:"max-w-5xl mx-auto space-y-3 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[M.jsxs("div",{className:"flex items-start gap-3",children:[M.jsx("div",{className:"p-2 rounded-xl bg-nexus-500/20 border border-nexus-500/30 text-nexus-400 shadow-lg shadow-nexus-900/20",children:od.createElement(ld[et.icon],{className:"w-6 h-6"})}),M.jsxs("div",{children:[M.jsx("h2",{className:"text-xl font-bold text-white mb-0.5",children:et.name}),M.jsx("p",{className:"text-sm text-slate-400 leading-snug",children:et.description})]})]}),M.jsx("div",{className:"h-px bg-white/10 w-full"}),M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[M.jsxs("div",{className:"space-y-3",children:[et.requiresFile&&M.jsxs("div",{className:"space-y-2",children:[M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsxs("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-1.5",children:[M.jsx(h4,{className:"w-3 h-3"}),"Archivo Fuente (",et.fileType==="excel"?"Excel":"Imagen",")"]}),et.supportsOpenMode&&M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("span",{className:"text-[10px] text-slate-500",children:et.fileType==="image"?"Usar Archivo Local":"Usar Excel Abierto"}),M.jsx("button",{onClick:()=>x(!S),className:`w-8 h-4 rounded-full transition-colors relative ${S?"bg-nexus-500":"bg-slate-700"}`,children:M.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${S?"translate-x-4":"translate-x-0"}`})})]})]}),S?M.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 space-y-2 animate-in fade-in",children:[M.jsx("label",{className:"text-xs text-slate-400 block",children:et.fileType==="image"?"Nombre del archivo de imagen:":"Nombre del archivo Excel abierto:"}),M.jsx("input",{type:"text",value:O,onChange:J=>N(J.target.value),placeholder:et.fileType==="image"?"Ej: pizarra_semana_48.jpg":"Ej: carga_migo.xlsx",className:"w-full bg-dark-bg border border-slate-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-nexus-500/50 text-sm"}),M.jsxs("p",{className:"text-[10px] text-amber-500/80 flex items-center gap-1",children:[M.jsx(A0,{className:"w-3 h-3"}),et.fileType==="image"?"El bot buscar este archivo en la carpeta de OneDrive.":"El bot buscar este archivo en tus libros de Excel abiertos."]})]}):M.jsxs("div",{onDragOver:st,onDragLeave:rt,onDrop:vt,onClick:()=>{var J;return(J=G.current)==null?void 0:J.click()},className:`relative group h-32 border-2 border-dashed rounded-xl flex flex-col items-center justify-center transition-all cursor-pointer overflow-hidden ${yt?"border-nexus-400 bg-nexus-500/10":A?"border-emerald-500/50 bg-emerald-500/5":"border-slate-700 hover:border-nexus-500/50 hover:bg-white/[0.02]"}`,children:[M.jsx("input",{type:"file",ref:G,className:"hidden",accept:et.fileType==="image"?"image/*":".xlsx,.xls,.xlsm",onChange:J=>{var Bt;const ft=(Bt=J.target.files)==null?void 0:Bt[0];ft&&b(ft)}}),A?M.jsxs("div",{className:"text-center z-10 animate-in zoom-in duration-300",children:[M.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500/20 flex items-center justify-center mx-auto mb-1.5",children:M.jsx(e4,{className:"w-4 h-4 text-emerald-400"})}),M.jsx("p",{className:"font-semibold text-sm text-emerald-300 truncate max-w-[200px] px-2",children:A.name}),M.jsx("p",{className:"text-[10px] text-emerald-500/70 mt-0.5",children:"Listo para procesar"}),M.jsx("button",{onClick:J=>{J.stopPropagation(),b(null)},className:"mt-1.5 text-[9px] text-slate-400 hover:text-white underline",children:"Cambiar archivo"})]}):M.jsxs("div",{className:"text-center z-10 pointer-events-none",children:[M.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center mx-auto mb-1.5 transition-colors ${yt?"bg-nexus-500 text-white":"bg-slate-800 text-slate-400 group-hover:bg-nexus-500/20 group-hover:text-nexus-400"}`,children:M.jsx(i4,{className:"w-4 h-4"})}),M.jsx("p",{className:"text-sm font-medium text-slate-300 group-hover:text-white transition-colors",children:yt?"Suelta el archivo aqu":"Arrastra tu archivo aqu"}),M.jsx("p",{className:"text-[10px] text-slate-500 mt-0.5",children:"o haz clic para explorar"})]})]})]}),et.requiresParam&&et.id==="AUDITOR"&&M.jsxs("div",{className:"space-y-2",children:[M.jsxs("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-1.5",children:[M.jsx(S4,{className:"w-3 h-3"}),et.paramLabel]}),M.jsxs("div",{className:"relative",children:[M.jsxs("select",{value:I,onChange:J=>H(J.target.value),className:"w-full bg-dark-panel border border-slate-700 rounded-xl px-3 py-3 text-white text-base font-mono focus:outline-none focus:ring-2 focus:ring-nexus-500/50 transition-all appearance-none cursor-pointer",children:[M.jsx("option",{value:"",disabled:!0,className:"bg-slate-800 text-slate-400",children:"Seleccione Almacn"}),M.jsx("option",{value:"SGVT",className:"bg-slate-800 text-white",children:"SGVT - San Jorge"}),M.jsx("option",{value:"SDIF",className:"bg-slate-800 text-white",children:"SDIF - Diferencias"}),M.jsx("option",{value:"SGTR",className:"bg-slate-800 text-white",children:"SGTR - Trnsito"}),M.jsx("option",{value:"SGSD",className:"bg-slate-800 text-white",children:"SGSD - Sin Destino"}),M.jsx("option",{value:"CDNW",className:"bg-slate-800 text-white",children:"CDNW - Nuevo CD"}),M.jsx("option",{value:"SGEN",className:"bg-slate-800 text-white",children:"SGEN - Envasado"}),M.jsx("option",{value:"AVAS",className:"bg-slate-800 text-white",children:"AVAS - Averas"}),M.jsx("option",{value:"SGBC",className:"bg-slate-800 text-white",children:"SGBC - Bodega Central"})]}),M.jsx(v0,{className:"w-4 h-4 text-slate-500 absolute right-3 top-1/2 transform -translate-y-1/2 rotate-90 pointer-events-none"})]})]}),et.id==="TRANSPORTE"&&M.jsxs("div",{className:"space-y-3",children:[M.jsxs("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-1.5",children:[M.jsx(JR,{className:"w-3 h-3"}),"Intervalo de Anlisis"]}),M.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[M.jsxs("div",{className:"space-y-1",children:[M.jsx("span",{className:"text-[9px] text-slate-500 ml-1 font-bold",children:"DESDE"}),M.jsx("input",{type:"date",value:W,onChange:J=>tt(J.target.value),className:"w-full bg-dark-panel border border-slate-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-nexus-500/50 transition-all text-xs"})]}),M.jsxs("div",{className:"space-y-1",children:[M.jsx("span",{className:"text-[9px] text-slate-500 ml-1 font-bold",children:"HASTA"}),M.jsx("input",{type:"date",value:$,onChange:J=>ht(J.target.value),className:"w-full bg-dark-panel border border-slate-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-nexus-500/50 transition-all text-xs"})]})]}),M.jsxs("div",{className:"flex items-center gap-2 bg-white/5 border border-white/10 rounded-lg p-3",children:[M.jsx("input",{type:"checkbox",id:"sendEmail",checked:z,onChange:J=>w(J.target.checked),className:"w-4 h-4 rounded border-slate-700 bg-dark-panel text-nexus-500 focus:ring-2 focus:ring-nexus-500/50 cursor-pointer"}),M.jsx("label",{htmlFor:"sendEmail",className:"text-sm text-slate-300 cursor-pointer select-none",children:"Enviar correo al finalizar"})]})]})]}),M.jsxs("div",{className:"flex flex-col justify-between space-y-3",children:[M.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-xl p-3",children:[M.jsx("h4",{className:"text-xs font-bold text-white mb-2",children:"Resumen de Ejecucin"}),M.jsxs("ul",{className:"space-y-2 text-xs text-slate-400",children:[M.jsxs("li",{className:"flex justify-between",children:[M.jsx("span",{children:"Bot:"}),M.jsx("span",{className:"text-nexus-300 font-medium truncate ml-2",children:et.name})]}),M.jsxs("li",{className:"flex justify-between",children:[M.jsx("span",{children:"Estado Worker:"}),M.jsxs("span",{className:"text-emerald-400 font-medium flex items-center gap-1",children:[M.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),"Online"]})]})]})]}),M.jsx("button",{onClick:bt,disabled:gt,className:`w-full py-3.5 px-5 rounded-xl font-bold text-base text-white flex items-center justify-center gap-2.5 transition-all transform active:scale-[0.98] shadow-xl ${gt?"bg-slate-700 cursor-not-allowed grayscale":"bg-gradient-to-r from-nexus-600 to-indigo-600 hover:from-nexus-500 hover:to-indigo-500 shadow-nexus-600/20"}`,children:gt?M.jsxs(M.Fragment,{children:[M.jsx(y4,{className:"w-5 h-5 animate-spin"}),ie]}):M.jsxs(M.Fragment,{children:[M.jsx(A0,{className:"w-5 h-5 fill-current"}),"EJECUTAR FLUJO"]})})]})]})]}):M.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-4 opacity-40",children:[M.jsx("div",{className:"p-4 rounded-full bg-white/5 border border-white/10",children:M.jsx(g4,{className:"w-12 h-12 text-slate-500"})}),M.jsxs("div",{children:[M.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:"Espacio de Trabajo Vaco"}),M.jsx("p",{className:"text-sm text-slate-400 max-w-md mx-auto",children:"Seleccione un mdulo de automatizacin para comenzar."})]})]})}),M.jsxs("div",{className:"h-36 border-t border-white/10 bg-[#0d1117] flex flex-col flex-shrink-0 z-20 shadow-[0_-5px_15px_rgba(0,0,0,0.5)]",children:[M.jsxs("div",{className:"h-8 flex items-center justify-between px-3 border-b border-white/5 bg-white/[0.02]",children:[M.jsxs("div",{className:"flex items-center gap-1.5",children:[M.jsx(N4,{className:"w-3 h-3 text-emerald-500"}),M.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Consola de Eventos"})]}),M.jsxs("div",{className:"flex items-center gap-1.5",children:[M.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),M.jsx("span",{className:"text-[9px] text-emerald-500 font-mono",children:"LIVE"})]})]}),M.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-0.5 font-mono text-xs custom-scrollbar",children:[v.length===0?M.jsx("div",{className:"text-slate-700 text-center mt-6 italic text-xs",children:"-- Sin eventos --"}):v.map(J=>{var ft,Bt;return M.jsx("div",{className:"mb-1",children:M.jsxs("div",{className:"flex gap-3 hover:bg-white/[0.02] p-0.5 rounded transition-colors group",children:[M.jsx("span",{className:"text-slate-600 w-16 flex-shrink-0 text-[10px] pt-0.5",children:(ft=J.fecha_creacion)==null?void 0:ft.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}),M.jsxs("div",{className:"flex-1",children:[M.jsxs("div",{className:"flex items-center gap-1.5",children:[M.jsx(k4,{status:J.status}),M.jsxs("span",{className:`font-semibold text-[11px] ${J.status==="error"?"text-red-400":"text-slate-300"}`,children:["[",((Bt=a.bots.find(Zt=>Zt.id===J.tipo_bot))==null?void 0:Bt.name)||J.tipo_bot,"]"]}),(J.status==="pending"||J.status==="running")&&M.jsx("button",{onClick:Zt=>{Zt.stopPropagation(),Dt(J.id)},className:"ml-2 px-1.5 py-0.5 bg-red-500/20 hover:bg-red-500/40 text-red-400 text-[9px] rounded border border-red-500/30 transition-colors",title:"Cancelar Orden",children:"CANCELAR"})]}),J.execution_logs&&J.execution_logs.length>0&&M.jsx("div",{className:"ml-4 mt-1 bg-black/40 rounded p-1.5 border-l-2 border-emerald-500/50",children:J.execution_logs.slice(-2).map((Zt,Ue)=>M.jsxs("div",{className:"text-[10px] text-emerald-400/90 font-mono whitespace-pre-wrap",children:["$ ",Zt]},Ue))})]})]})},J.id)}),M.jsx("div",{ref:it})]})]})]}),o&&i&&M.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm animate-in fade-in duration-200",children:M.jsxs("div",{className:"w-full max-w-2xl bg-dark-surface border border-white/10 rounded-2xl shadow-2xl flex flex-col max-h-[90vh]",children:[M.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/5 bg-white/[0.02]",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"p-2 bg-nexus-500/20 rounded-lg text-nexus-400",children:M.jsx(T0,{className:"w-6 h-6"})}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-xl font-bold text-white",children:"Configuracin del Sistema"}),M.jsx("p",{className:"text-sm text-slate-400",children:"Personaliza la apariencia y nombres de la suite."})]})]}),M.jsx("button",{onClick:()=>h(!1),className:"text-slate-500 hover:text-white transition-colors",children:M.jsx(U4,{className:"w-6 h-6"})})]}),M.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 custom-scrollbar",children:[M.jsxs("div",{className:"space-y-4",children:[M.jsx("h4",{className:"text-sm font-bold text-emerald-400 uppercase tracking-widest border-b border-white/5 pb-2",children:"Perfil de Usuario"}),M.jsx("div",{className:"grid grid-cols-1 gap-4",children:M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Nombre para Mostrar"}),M.jsx("input",{type:"text",value:i.userName,onChange:J=>r({...i,userName:J.target.value}),className:"w-full bg-dark-bg border border-slate-700 rounded-lg px-4 py-2 text-white focus:border-nexus-500 focus:outline-none"})]})})]}),M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{className:"flex items-center justify-between border-b border-white/5 pb-2",children:[M.jsx("h4",{className:"text-sm font-bold text-nexus-400 uppercase tracking-widest",children:"Personalizacin de Mdulos"}),M.jsxs("button",{onClick:Ht,className:"text-xs text-nexus-400 hover:text-nexus-300 flex items-center gap-1",children:[M.jsx(E0,{className:"w-3 h-3"})," Restaurar Nombres"]})]}),M.jsx("div",{className:"space-y-3",children:i.bots.map((J,ft)=>M.jsxs("div",{className:"flex items-center gap-4 bg-white/[0.02] p-3 rounded-lg border border-white/5",children:[M.jsx("div",{className:"p-2 bg-slate-800 rounded text-slate-400",children:od.createElement(ld[J.icon],{className:"w-4 h-4"})}),M.jsxs("div",{className:"flex-1",children:[M.jsxs("label",{className:"text-[10px] text-slate-500 uppercase font-bold block mb-1",children:["Nombre del Mdulo (ID: ",J.id,")"]}),M.jsx("input",{type:"text",value:J.name,onChange:Bt=>{const Zt=[...i.bots];Zt[ft]={...Zt[ft],name:Bt.target.value},r({...i,bots:Zt})},className:"w-full bg-transparent border-b border-slate-700 text-sm text-white focus:border-nexus-500 focus:outline-none pb-1"})]})]},J.id))})]})]}),M.jsxs("div",{className:"p-6 border-t border-white/5 bg-black/20 flex justify-end gap-3 rounded-b-2xl",children:[M.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/5 transition-colors text-sm font-medium",children:"Cancelar"}),M.jsxs("button",{onClick:()=>i&&Ut(i),className:"px-6 py-2 rounded-lg bg-nexus-600 hover:bg-nexus-500 text-white font-bold text-sm shadow-lg shadow-nexus-900/20 flex items-center gap-2",children:[M.jsx(A4,{className:"w-4 h-4"}),"Guardar Cambios"]})]})]})})]})}const k4=({status:a})=>{switch(a){case"pending":return M.jsx("span",{className:"text-amber-500 font-bold text-xs",children:"[EN COLA]"});case"running":return M.jsx("span",{className:"text-blue-500 font-bold text-xs animate-pulse",children:"[PROCESANDO]"});case"success":return M.jsx("span",{className:"text-emerald-500 font-bold text-xs",children:"[EXITOSO]"});case"error":return M.jsx("span",{className:"text-red-500 font-bold text-xs",children:"[FALLIDO]"});default:return M.jsx("span",{className:"text-slate-500 text-xs",children:"[UNK]"})}},L1=document.getElementById("root");if(!L1)throw new Error("Could not find root element to mount to");const j4=ST.createRoot(L1);j4.render(M.jsx(od.StrictMode,{children:M.jsx(L4,{})}));
